// Automatically generated file.  Do not edit!
var f,g=this;function aa(a){return void 0!==a}function ba(){}function ca(a){a.gd=function(){return a.Un?a.Un:a.Un=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function l(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;
function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function oa(a,b,c){oa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return oa.apply(null,arguments)}
function pa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function n(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Jx=function(a,c,h){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function qa(a,b){null!=a&&this.append.apply(this,arguments)}f=qa.prototype;f.ib="";f.set=function(a){this.ib=""+a};f.append=function(a,b,c){this.ib+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.ib+=arguments[d];return this};f.clear=function(){this.ib=""};f.toString=function(){return this.ib};var ra;function sa(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}var ta=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ua(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1}
function va(a){if(!wa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(xa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ya,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(za,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Aa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ba,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ca,"&#0;"));return a}var xa=/&/g,ya=/</g,za=/>/g,Aa=/"/g,Ba=/'/g,Ca=/\x00/g,wa=/[\x00&<>"']/;
function Da(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=g.document.createElement("div");return a.replace(Ea,function(a,e){var d=b[a];if(d)return d;if("#"==e.charAt(0)){var k=Number("0"+e.substr(1));isNaN(k)||(d=String.fromCharCode(k))}d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})}
function Fa(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var b=Number("0"+c.substr(1));if(!isNaN(b))return String.fromCharCode(b)}return a}})}var Ea=/&([^;\s<&]+);?/g;function Ga(a,b){return a<b?-1:a>b?1:0}function Ha(){return"background-color".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}
function Ia(a){var b=l(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Ja(){this.cl="";this.Tt=Ka}Ja.prototype.Be=!0;Ja.prototype.Vd=function(){return this.cl};Ja.prototype.toString=function(){return"Const{"+this.cl+"}"};function La(a){return a instanceof Ja&&a.constructor===Ja&&a.Tt===Ka?a.cl:"type_error:Const"}var Ka={};function Ma(){this.Je="";this.St=Na}Ma.prototype.Be=!0;Ma.prototype.Vd=function(){return this.Je};Ma.prototype.ck=!0;Ma.prototype.qf=function(){return 1};var Oa=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i,Na={};function Pa(a){var b=new Ma;b.Je=a;return b}Pa("about:blank");var Qa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ra=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,h=0;h<d;h++)h in e&&b.call(c,e[h],h,a)},Sa=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],h=0,k=l(a)?a.split(""):a,m=0;m<d;m++)if(m in k){var r=k[m];b.call(c,r,m,a)&&(e[h++]=r)}return e},Ta=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),h=l(a)?a.split(""):a,k=0;k<d;k++)k in h&&(e[k]=b.call(c,h[k],k,a));return e},Ua=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,h=0;h<d;h++)if(h in
e&&!b.call(c,e[h],h,a))return!1;return!0};function Va(a,b){return 0<=Qa(a,b)}function Wa(a,b){var c=Qa(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function Xa(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(fa(d)){var e=a.length||0,h=d.length||0;a.length=e+h;for(var k=0;k<h;k++)a[e+k]=d[k]}else a.push(d)}}function $a(a,b,c,d){Array.prototype.splice.apply(a,ab(arguments,1))}function ab(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};function bb(){this.Fk="";this.Rt=cb}bb.prototype.Be=!0;var cb={};bb.prototype.Vd=function(){return this.Fk};bb.prototype.ji=function(a){this.Fk=a;return this};var db=(new bb).ji("");
function eb(a){var b="",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);var d=a[c];if(null!=d){if(d instanceof Ja)d=La(d);else if(fb.test(d)){for(var e=!0,h=!0,k=0;k<d.length;k++){var m=d.charAt(k);"'"==m&&h?e=!e:'"'==m&&e&&(h=!h)}e&&h||(d="zClosurez")}else d="zClosurez";b+=c+":"+d+";"}}return b?(new bb).ji(b):db}var fb=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/;function gb(){this.zo="";this.Zu=hb}gb.prototype.Be=!0;gb.prototype.Vd=function(){return this.zo};gb.prototype.ck=!0;gb.prototype.qf=function(){return 1};var hb={};function ib(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function jb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}var kb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var h=0;h<kb.length;h++)c=kb[h],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function mb(a){var b=arguments.length;if(1==b&&ea(arguments[0]))return mb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var nb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};var ob;a:{var pb=g.navigator;if(pb){var qb=pb.userAgent;if(qb){ob=qb;break a}}ob=""}function rb(a){return-1!=ob.indexOf(a)};function sb(){this.Je="";this.Qt=tb;this.Gn=null}sb.prototype.ck=!0;sb.prototype.qf=function(){return this.Gn};sb.prototype.Be=!0;sb.prototype.Vd=function(){return this.Je};function ub(a){if(a instanceof sb&&a.constructor===sb&&a.Qt===tb)return a.Je;da(a);return"type_error:SafeHtml"}function vb(a){if(a instanceof sb)return a;var b=null;a.ck&&(b=a.qf());return wb(va(a.Be?a.Vd():String(a)),b)}
var xb=/^[a-zA-Z0-9-]+$/,yb={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},zb={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};
function Ab(a,b,c){var d=String(a);if(!xb.test(d))throw Error("Invalid tag name <"+d+">.");if(d.toUpperCase()in zb)throw Error("Tag name <"+d+"> is not allowed for SafeHtml.");a=String(a);var d=null,e,h="<"+a,k="";if(b)for(e in b){if(!xb.test(e))throw Error('Invalid attribute name "'+e+'".');var m=b[e];if(null!=m){var r,p=a;r=e;if(m instanceof Ja)m=La(m);else if("style"==r.toLowerCase()){if(!ia(m))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof m+
" given: "+m);m instanceof bb||(m=eb(m));m instanceof bb&&m.constructor===bb&&m.Rt===cb?m=m.Fk:(da(m),m="type_error:SafeStyle")}else{if(/^on/i.test(r))throw Error('Attribute "'+r+'" requires goog.string.Const value, "'+m+'" given.');if(r.toLowerCase()in yb)if(m instanceof gb)m instanceof gb&&m.constructor===gb&&m.Zu===hb?m=m.zo:(da(m),m="type_error:TrustedResourceUrl");else if(m instanceof Ma)m instanceof Ma&&m.constructor===Ma&&m.St===Na?m=m.Je:(da(m),m="type_error:SafeUrl");else if(l(m))m instanceof
Ma||(m=m.Be?m.Vd():String(m),Oa.test(m)||(m="about:invalid#zClosurez"),m=Pa(m)),m=m.Vd();else throw Error('Attribute "'+r+'" on tag "'+p+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+m+'" given.');}m.Be&&(m=m.Vd());r=r+'="'+va(String(m))+'"';k+=" "+r}}e=h+k;null!=c?ea(c)||(c=[c]):c=[];!0===nb[a.toLowerCase()]?e+=">":(c=Bb(c),e+=">"+ub(c)+"</"+a+">",d=c.qf());(b=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(b)?0:null);return wb(e,d)}
function Bb(a){function b(a){ea(a)?Ra(a,b):(a=vb(a),d+=ub(a),a=a.qf(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d="";Ra(arguments,b);return wb(d,c)}var tb={};function wb(a,b){return(new sb).ji(a,b)}sb.prototype.ji=function(a,b){this.Je=a;this.Gn=b;return this};wb("<!DOCTYPE html>",0);var Cb=wb("",0),Db=wb("<br>",0);var Eb={},Fb={};function Gb(){throw Error("Do not instantiate directly");}Gb.prototype.Ch=null;Gb.prototype.Fc=function(){return this.content};Gb.prototype.toString=function(){return this.content};Gb.prototype.Vi=function(){if(this.Dh===Fb)return vb(this.toString());if(this.Dh!==Eb)throw Error("Sanitized content was not of kind TEXT or HTML.");return wb(this.toString(),this.Ch||null)};function Hb(a){Hb[" "](a);return a}Hb[" "]=ba;function Ib(a,b){var c=Jb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Kb=rb("Opera"),q=rb("Trident")||rb("MSIE"),Lb=rb("Edge"),Mb=rb("Gecko")&&!(-1!=ob.toLowerCase().indexOf("webkit")&&!rb("Edge"))&&!(rb("Trident")||rb("MSIE"))&&!rb("Edge"),t=-1!=ob.toLowerCase().indexOf("webkit")&&!rb("Edge"),Nb=t&&rb("Mobile"),Ob=rb("Macintosh"),Pb=rb("Android"),Qb=rb("iPhone")&&!rb("iPod")&&!rb("iPad"),Rb=rb("iPad");function Sb(){var a=g.document;return a?a.documentMode:void 0}var Tb;
a:{var Ub="",Vb=function(){var a=ob;if(Mb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Lb)return/Edge\/([\d\.]+)/.exec(a);if(q)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(t)return/WebKit\/(\S+)/.exec(a);if(Kb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Vb&&(Ub=Vb?Vb[1]:"");if(q){var Wb=Sb();if(null!=Wb&&Wb>parseFloat(Ub)){Tb=String(Wb);break a}}Tb=Ub}var Jb={};
function Xb(a){return Ib(a,function(){for(var b=0,c=ta(String(Tb)).split("."),d=ta(String(a)).split("."),e=Math.max(c.length,d.length),h=0;0==b&&h<e;h++){var k=c[h]||"",m=d[h]||"";do{k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""];if(0==k[0].length&&0==m[0].length)break;b=Ga(0==k[1].length?0:parseInt(k[1],10),0==m[1].length?0:parseInt(m[1],10))||Ga(0==k[2].length,0==m[2].length)||Ga(k[2],m[2]);k=k[3];m=m[3]}while(0==b)}return 0<=b})}var Yb;var Zb=g.document;
Yb=Zb&&q?Sb()||("CSS1Compat"==Zb.compatMode?parseInt(Tb,10):5):void 0;function $b(a,b){this.width=a;this.height=b}f=$b.prototype;f.clone=function(){return new $b(this.width,this.height)};f.hv=function(){return this.width*this.height};f.Vn=function(){return!this.hv()};f.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
f.scale=function(a,b){var c=ga(b)?b:a;this.width*=a;this.height*=c;return this};function ac(a,b){a.innerHTML=ub(b)};var bc=!q||9<=Number(Yb),cc=!Mb&&!q||q&&9<=Number(Yb)||Mb&&Xb("1.9.1"),dc=q&&!Xb("9");function ec(a,b,c){return Math.min(Math.max(a,b),c)};function u(a,b){this.x=aa(a)?a:0;this.y=aa(b)?b:0}f=u.prototype;f.clone=function(){return new u(this.x,this.y)};function fc(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function gc(a,b){return new u(a.x-b.x,a.y-b.y)}f.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};f.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};f.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
f.translate=function(a,b){a instanceof u?(this.x+=a.x,this.y+=a.y):(this.x+=Number(a),ga(b)&&(this.y+=b));return this};f.scale=function(a,b){var c=ga(b)?b:a;this.x*=a;this.y*=c;return this};function hc(a){return a?new ic(jc(a)):ra||(ra=new ic)}
function kc(a,b){var c=document,c=b||c;if(c.querySelectorAll&&c.querySelector)return c.querySelectorAll("TBODY"+(a?"."+a:""));if(a&&c.getElementsByClassName){for(var c=c.getElementsByClassName(a),d={},e=0,h=0,k;k=c[h];h++)"TBODY"==k.nodeName&&(d[e++]=k);d.length=e;return d}c=c.getElementsByTagName("TBODY");if(a){d={};for(h=e=0;k=c[h];h++){var m=k.className;"function"==typeof m.split&&Va(m.split(/\s+/),a)&&(d[e++]=k)}d.length=e;return d}return c}
function lc(a,b){ib(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:mc.hasOwnProperty(d)?a.setAttribute(mc[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var mc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function nc(){var a=window.document,a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new $b(a.clientWidth,a.clientHeight)}function pc(a){var b=qc(a);a=a.parentWindow||a.defaultView;return q&&Xb("10")&&a.pageYOffset!=b.scrollTop?new u(b.scrollLeft,b.scrollTop):new u(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function qc(a){return a.scrollingElement?a.scrollingElement:t||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}
function w(a,b,c){return rc(document,arguments)}function rc(a,b){var c=String(b[0]),d=b[1];if(!bc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',va(d.name),'"');if(d.type){c.push(' type="',va(d.type),'"');var e={};lb(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(l(d)?c.className=d:ea(d)?c.className=d.join(" "):lc(c,d));2<b.length&&sc(a,c,b,2);return c}
function sc(a,b,c,d){function e(c){c&&b.appendChild(l(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var h=c[d];!fa(h)||ia(h)&&0<h.nodeType?e(h):Ra(tc(h)?Ya(h):h,e)}}function uc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function vc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function x(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function wc(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function jc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function xc(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else uc(a),a.appendChild(jc(a).createTextNode(String(b)))}var yc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},zc={IMG:" ",BR:"\n"};function Ac(a){return Bc(a)&&Cc(a)}function Bc(a){return q&&!Xb("9")?(a=a.getAttributeNode("tabindex"),null!=a&&a.specified):a.hasAttribute("tabindex")}
function Cc(a){a=a.tabIndex;return ga(a)&&0<=a&&32768>a}function Dc(a){if(dc&&null!==a&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ec(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");dc||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}function Fc(a){var b=[];Ec(a,b,!1);return b.join("")}
function Ec(a,b,c){if(!(a.nodeName in yc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in zc)b.push(zc[a.nodeName]);else for(a=a.firstChild;a;)Ec(a,b,c),a=a.nextSibling}function tc(a){if(a&&"number"==typeof a.length){if(ia(a))return"function"==typeof a.item||"string"==typeof a.item;if(ha(a))return"function"==typeof a.item}return!1}function ic(a){this.Cc=a||g.document||document}f=ic.prototype;f.Qb=hc;
f.B=function(a){return l(a)?this.Cc.getElementById(a):a};f.getElementsByTagName=function(a,b){return(b||this.Cc).getElementsByTagName(String(a))};f.setProperties=lc;f.V=function(a,b,c){return rc(this.Cc,arguments)};f.createElement=function(a){return this.Cc.createElement(String(a))};f.createTextNode=function(a){return this.Cc.createTextNode(String(a))};
f.kn=function(a,b,c){var d=this.Cc;c=!!c;for(var e=d.createElement("TABLE"),h=e.appendChild(d.createElement("TBODY")),k=0;k<a;k++){for(var m=d.createElement("TR"),r=0;r<b;r++){var p=d.createElement("TD");c&&xc(p,"\u00a0");m.appendChild(p)}h.appendChild(m)}return e};f.appendChild=function(a,b){a.appendChild(b)};f.append=function(a,b){sc(jc(a),a,arguments,1)};f.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
f.Fo=uc;f.removeNode=x;f.ve=function(a){return cc&&void 0!=a.children?a.children:Sa(a.childNodes,function(a){return 1==a.nodeType})};f.contains=wc;f.Fd=function(a){var b;(b="A"==a.tagName||"INPUT"==a.tagName||"TEXTAREA"==a.tagName||"SELECT"==a.tagName||"BUTTON"==a.tagName?!a.disabled&&(!Bc(a)||Cc(a)):Ac(a))&&q?(a=!ha(a.getBoundingClientRect)||q&&null==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect(),a=null!=a&&0<a.height&&0<a.width):a=b;return a};q&&Xb(8);function Gc(){switch("Teacher Dash".Ch){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Hc(){Gb.call(this)}n(Hc,Gb);Hc.prototype.Dh=Eb;function Ic(){Gb.call(this)}n(Ic,Gb);Ic.prototype.Dh={}.mx;function Jc(a){function b(){}b.prototype=a.prototype;return function(a,d){var c=new b;c.content=String(a);void 0!==d&&(c.Ch=d);return c}}var Kc=Jc(Hc);Jc(Ic);
(function(a){function b(){}b.prototype=a.prototype;return function(a,d){if(!String(a))return"";var c=new b;c.content=String(a);void 0!==d&&(c.Ch=d);return c}})(Hc);var Lc={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Mc(a){return Lc[a]}var Oc=/[\x00\x22\x26\x27\x3c\x3e]/g;function Pc(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};var Qc,Rc;
function Sc(){var a=Tc,b=Uc;return'<div style="display: none"><span id="Games_name">Classadoo</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks\x3c!-- TURTLE blocks --\x3e<span id="Turtle_moveTooltip">Moves the turtle forward or backward by the specified amount.</span><span id="Turtle_moveForward">move forward by</span><span id="Turtle_moveBackward">move backward by</span><span id="Turtle_turnTooltip">Turns the turtle left or right by the specified number of degrees.</span><span id="Turtle_turnRight">turn right by</span><span id="Turtle_turnLeft">turn left by</span><span id="Turtle_widthTooltip">Changes the width of the pen.</span><span id="Turtle_setWidth">set width to</span><span id="Turtle_colourTooltip">Changes the colour of the pen.</span><span id="Turtle_setColour">set colour to</span><span id="Turtle_penTooltip">Lifts or lowers the pen, to stop or start drawing.</span><span id="Turtle_penUp">pen up</span><span id="Turtle_penDown">pen down</span><span id="Turtle_turtleVisibilityTooltip">Makes the turtle (circle and arrow) visible or invisible.</span><span id="Turtle_hideTurtle">hide turtle</span><span id="Turtle_showTurtle">show turtle</span><span id="Turtle_printHelpUrl">https://en.wikipedia.org/wiki/Printing</span><span id="Turtle_printTooltip">Draws text in the turtle\'s direction at its location.</span><span id="Turtle_print">print</span><span id="Turtle_fontHelpUrl">https://en.wikipedia.org/wiki/Font</span><span id="Turtle_fontTooltip">Sets the font used by the print block.</span><span id="Turtle_font">font</span><span id="Turtle_fontSize">font size</span><span id="Turtle_fontNormal">normal</span><span id="Turtle_fontBold">bold</span><span id="Turtle_fontItalic">italic</span><span id="Turtle_submitDisabled">Run your program until it stops. Then you may submit your drawing to the gallery.</span>\x3c!-- MAZE blocks --\x3e<span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span>\x3c!-- HEROES BLOCKS --\x3e<span id="Heroes_moveTooltip">Moves the heroes forward or backward by the specified amount.</span><span id="Heroes_moveUp">move up by</span><span id="Heroes_moveDown">move down by</span><span id="Heroes_moveLeft">move left by</span><span id="Heroes_moveRight">move right by</span><span id="Heroes_turnRight">turn right by</span><span id="Heroes_turnLeft">turn left by</span><span id="Heroes_turnTooltip">Turns the hero left or right by the specified number of degrees.</span><span id="Heroes_upArrow">if up arrow pressed</span><span id="Heroes_downArrow">if down arrow pressed</span><span id="Heroes_leftArrow">if left arrow pressed</span><span id="Heroes_rightArrow">if right arrow pressed</span><span id="Heroes_wKey">if w key pressed</span><span id="Heroes_aKey">if a key pressed</span><span id="Heroes_sKey">if s key pressed</span><span id="Heroes_dKey">if d key pressed</span><span id="Heroes_spaceBar">if spacebar pressed</span><span id="Heroes_shiftKey">if shift pressed</span><span id="Heroes_bgSpace">set background to space</span><span id="Heroes_bgCats">set background to cats</span><span id="Heroes_bgDesert">set background to desert</span><span id="Heroes_bgVillage">set background to village</span><span id="Heroes_bgCastle">set background to castle</span><span id="Heroes_heroLion">set hero to Lion</span><span id="Heroes_heroEagle">set hero to Eagle</span><span id="Heroes_speak">say </span></div><table width="100%"><tr><td><h1>'+('<span id="title"><a href="../index.html">Classadoo</a> : '+
("Teacher Dash".Dh===Eb?"Teacher Dash":Kc("Teacher Dash".replace(Oc,Mc),Gc()))+"</span>")+"</h1></td></tr></table>"+(10!=a||b?"":'<table style="padding-top: 1em; width: 400px;"><tr><td style="text-align: center;"><form action="https://www.reddit.com/r/BlocklyGames/" target="gallery"><button type="submit" title="Open the gallery of drawings on Reddit."><img src="common/1x1.gif" class="reddit icon21"> See Gallery</button></form></td><td style="text-align: center;"><button id="submitButton" title="Submit your drawing to Reddit."><img src="common/1x1.gif" class="camera icon21"> Submit to Gallery</button><canvas id="thumbnail" width="100" height="100" style="display: none"></canvas><form id="t2r_form" action="turtle-reddit" method="POST" target="_blank" style="display: none"><input id="t2r_thumb" type="hidden" name="thumb"><input id="t2r_xml" type="hidden" name="xml"></form></td></tr>')+
('<xml id="toolbox" style="display: none">'+('<category name="Heroes"><block type="heroes_move"><value name="VALUE"><block type="math_number"><field name="NUM">100</field></block></value></block><block type="heroes_game_speed"></block><block type="heroes_choose_image"></block><block type="heroes_next_image"></block><block type="heroes_turn"><value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value></block><block type="heroes_sleep"><value name="VALUE"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="heroes_move_forward"><value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value></block><block type="heroes_pen"></block><block type="heroes_grow"></block><block type="heroes_shrink"></block><block type="heroes_width"><value name="WIDTH"><block type="math_number"><field name="NUM">3</field></block></value></block><block type="heroes_colour"><value name="COLOUR"><block type="colour_picker"></block></value></block>'+
(5<=a?'<block type="heroes_speak"><value name="TEXT"><block type="text"></block></value><value name="SECONDS"><block type="math_number"><field name="NUM">3</field></block></value></block><block type="heroes_noise"></block>':"")+"</category>"+(3<=a?'<category name="Events">'+(3==a?'<block type="heroes_on_arrow"><value name="DO0"><block type="heroes_move"><value name="VALUE"><block type="math_number"><field name="NUM">3</field></block></value></block></value></block>':'<block type="heroes_on_arrow"></block><block type="heroes_on_collision"></block>')+
"</category>":"")+'<category name="Number">'+(3<=a?'<block type="math_number"></block><block type="math_random_int"><value name="FROM"><block type="math_number"><field name="NUM">1</field></block></value><value name="TO"><block type="math_number"><field name="NUM">5</field></block></value></block>':"")+'<block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">10</field></block></value></block></category>')+'<category name="Maze">'+('<block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>'+
(2<a?'<block type="maze_forever"></block>'+(6==a?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<a?'<block type="maze_if"></block>'+(8<a?'<block type="maze_ifElse"></block>':""):""):""))+"</category>"+(""+(10==a?'<category name="Turtle"><block type="turtle_move"><value name="VALUE"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="turtle_turn"><value name="VALUE"><shadow type="math_number"><field name="NUM">90</field></shadow></value></block><block type="turtle_width"><value name="WIDTH"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="turtle_pen"></block><block type="turtle_visibility"></block><block type="turtle_print"><value name="TEXT"><shadow type="text"></shadow></value></block><block type="turtle_font"></block></category><category name="Colour"><block type="turtle_colour"><value name="COLOUR"><shadow type="colour_picker"></shadow></value></block><block type="colour_picker"></block><block type="colour_random"></block><block type="colour_rgb"><value name="RED"><shadow type="math_number"><field name="NUM">100</field></shadow></value><value name="GREEN"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="BLUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="colour_blend"><value name="COLOUR1"><shadow type="colour_picker"><field name="COLOUR">#ff0000</field></shadow></value><value name="COLOUR2"><shadow type="colour_picker"><field name="COLOUR">#3333ff</field></shadow></value><value name="RATIO"><shadow type="math_number"><field name="NUM">0.5</field></shadow></value></block></category><category name="Logic"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block><block type="logic_negate"></block><block type="logic_boolean"></block><block type="logic_ternary"></block></category><category name="Loops"><block type="controls_repeat_ext"><value name="TIMES"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="controls_whileUntil"></block><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">10</field></shadow></value><value name="BY"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="controls_flow_statements"></block></category><category name="Math"><block type="math_number"></block><block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="math_single"><value name="NUM"><shadow type="math_number"><field name="NUM">9</field></shadow></value></block><block type="math_trig"><value name="NUM"><shadow type="math_number"><field name="NUM">45</field></shadow></value></block><block type="math_constant"></block><block type="math_number_property"><value name="NUMBER_TO_CHECK"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block><block type="math_change"><value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="math_round"><value name="NUM"><shadow type="math_number"><field name="NUM">3.1</field></shadow></value></block><block type="math_modulo"><value name="DIVIDEND"><shadow type="math_number"><field name="NUM">64</field></shadow></value><value name="DIVISOR"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block><block type="math_constrain"><value name="VALUE"><shadow type="math_number"><field name="NUM">50</field></shadow></value><value name="LOW"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="HIGH"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block><block type="math_random_int"><value name="FROM"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">100</field></shadow></value></block><block type="math_random_float"></block></category><sep></sep><category name="Variables" custom="VARIABLE"></category><category name="Functions" custom="PROCEDURE"></category>':
'<category name="Turtle"><block type="turtle_move_internal"><field name="VALUE">100</field></block><block type="turtle_turn_internal"><field name="VALUE">90</field></block><block type="turtle_pen"></block></category><category name="Colour"><block type="turtle_colour_internal"></block></category><category name="Loops"><block type="turtle_repeat_internal"><field name="TIMES">4</field></block></category>'))+'</xml><xml id="world_toolbox" style="display: none">'+('<category name="Number">'+(3<=a?'<block type="math_number"></block><block type="math_random_int"><value name="FROM"><block type="math_number"><field name="NUM">1</field></block></value><value name="TO"><block type="math_number"><field name="NUM">5</field></block></value></block>':
"")+'<block type="controls_repeat_ext"><value name="TIMES"><block type="math_number"><field name="NUM">10</field></block></value></block><block type="heroes_game_speed"></block></category>'+(2<=a?'<category name="Game"><block type="heroes_add_item">'+(4>a?'<value name="X"><block type="math_number"><field name="NUM">200</field></block></value><value name="VY"><block type="math_random_int"><value name="FROM"><block type="math_number"><field name="NUM">1</field></block></value><value name="TO"><block type="math_number"><field name="NUM">5</field></block></value></block></value><value name="VX"><block type="math_number"><field name="NUM">0</field></block></value><value name="Y"><block type="math_number"><field name="NUM">0</field></block></value>':
"")+"</block>"+(4<=a?'<block type="heroes_add_points">'+(4==a?'<value name="VALUE"><block type="math_number"><field name="NUM">10</field></block></value>':"")+"</block>"+(5<=a?'<block type="heroes_set_background"></block><block type="heroes_set_title"><value name="TITLE"><block type="text"></block></value></block>':""):"")+"</category>":""))+"</xml>")+'<input type="text" id="pick-ide"></input><button type="button" id="send-pick-ide">Pick IDE</button><div id="students"></div>'+(4>a?'<div id="helpUseLoop" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">Your solution works, but you can do better. '+
(3>a?"Draw the shape with just three blocks.":"Draw the star with just four blocks.")+"</div>"+Pc()+"</div>":"")+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==a?'Create a program that draws a square.<br><img src="turtle/square.gif" height=146 width=146 style="margin-bottom: -50px">':2==a?"Change your program to draw a pentagon instead of a square.":3==a?'There\'s a new block that allows you to change the colour:<div id="sampleHelp3" class="readonly"></div>Draw a yellow star.':
4==a?'There\'s a new block that allows you to lift your pen off the paper when you move:<div id="sampleHelp4" class="readonly"></div>Draw a small yellow star, then draw a line above it.':5==a?"Instead of one star, can you draw four stars arranged in a square?":6==a?"Draw three yellow stars, and one white line.":7==a?"Draw the stars, then draw four white lines.":8==a?"Drawing 360 white lines will look like the full moon.":9==a?"Can you add a black circle so that the moon becomes a crescent?":10==a?
"Draw anything you want. You've got a huge number of new blocks you can explore. Have fun!"+(b?"":'<br><br>Use the "See Gallery" button to see what other people have drawn. If you draw something interesting, use the "Submit to Gallery" button to publish it.'):"")+"</div>"+Pc()+"</div>"};function Vc(a,b){var c;c=a.className;for(var d=c=l(c)&&c.match(/\S+/g)||[],e=ab(arguments,1),h=0;h<e.length;h++)Va(d,e[h])||d.push(e[h]);c=c.join(" ");a.className=c};var Wc={ace:"\u0628\u0647\u0633\u0627 \u0627\u0686\u064a\u0647",af:"Afrikaans",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",az:"Az\u0259rbaycanca","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",br:"Brezhoneg",ca:"Catal\u00e0",cdo:"\u95a9\u6771\u8a9e",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",
fo:"F\u00f8royskt",fr:"Fran\u00e7ais",frr:"Frasch",gl:"Galego",hak:"\u5ba2\u5bb6\u8a71",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hrx:"Hunsrik",hu:"Magyar",ia:"Interlingua",id:"Bahasa Indonesia",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",ka:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",km:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",ko:"\ud55c\uad6d\uc5b4",ksh:"Ripoar\u0117sch",ky:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",la:"Latine",
lb:"L\u00ebtzebuergesch",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",mg:"Malagasy",ml:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",mk:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",mr:"\u092e\u0930\u093e\u0920\u0940",ms:"Bahasa Melayu",mzn:"\u0645\u0627\u0632\u0650\u0631\u0648\u0646\u06cc",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",oc:"Lenga d'\u00f2c",pa:"\u092a\u0902\u091c\u093e\u092c\u0940",pl:"Polski",pms:"Piemont\u00e8is",ps:"\u067e\u069a\u062a\u0648",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",
ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sco:"Scots",si:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",sk:"Sloven\u010dina",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",sw:"Kishwahili",ta:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tl:"Tagalog",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",vi:"Ti\u1ebfng Vi\u1ec7t","zh-hans":"\u7c21\u9ad4\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},
Xc="ace ar fa he mzn ps".split(" "),Yc=window.BlocklyGamesLang,Zc=window.BlocklyGamesLanguages,Uc=!!window.location.pathname.match(/\.html$/),Tc,$c=Number,ad,bd=window.location.search.match(/[?&]level=([^&]+)/);ad=bd?decodeURIComponent(bd[1].replace(/\+/g,"%20")):"NaN";var cd=$c(ad);Tc=isNaN(cd)?1:ec(1,cd,10);
function dd(){document.title=document.getElementById("title").textContent;document.dir=-1!=Xc.indexOf(Yc)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Yc);var a=document.getElementById("languageMenu");if(a){for(var b=[],c=0;c<Zc.length;c++){var d=Zc[c];b.push([Wc[d],d])}b.sort(function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0});for(c=a.options.length=0;c<b.length;c++){var e=b[c],d=e[1],e=new Option(e[0],d);d==Yc&&(e.selected=!0);a.options.add(e)}1>=a.options.length&&(a.style.display=
"none")}for(c=1;10>=c;c++)a=document.getElementById("level"+c),b=!!ed(c),a&&b&&Vc(a,"level_done");(c=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&c.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(fd,1)}function ed(a){var b=gd,c;try{c=window.localStorage[b+a]}catch(d){}return c}function y(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function fd(){if(!Uc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};function hd(a){return(a=(new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)")).exec(window.location.href))&&a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):null}function id(){if(-1<window.location.pathname.indexOf("teacher_dash"))return"Teacher";var a=hd("username")||"unknown",a=a.toLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)}
function jd(){var a=hd("classroom")||"none",b=this;b.Wa=new Wilddog("https://classadoo-heroes.wilddogio.com");var c=b.Wa.child("classrooms").child(a);b.Xx=function(a,c){b.Wa.child("users").child(a).update({error:c});last_err_string=c};b.Ux=function(d){var e=b.Wa.child("games").push().key();game_object={game_id:e};b.Wa.child("users").child(d).child("games").child(a).update(game_object);c.child("games").child(d).update(game_object);return e};b.Bi=function(a,c,d,e,p,v,A,K){var h;K?h=b.Wa.child("heroes").child(K):
(h=b.Wa.child("heroes").push(),K=h.key(),hero_object={index:e},b.Wa.child("games").child(a).child("heroes").child(K).update(hero_object));p&&v&&h.update({x:p,y:v});A&&h.update({images:A});c&&d&&h.update({name:c,type:d})};var d={},e={};b.tv=function(a,c){b.Wa.child("heroes").child(a).child("workspace").on("value",function(b){(b=b.val())&&b!=e[a]&&(c.clear(),d[a]=b,b=kd(b),ld(b,c),c.xj(),md(c),nd(c,-1))})};b.rv=function(a,c){b.Wa.child("games").child(a).child("heroes").orderByChild("index").on("child_added",
function(a){var d=a.key(),e=!0;b.Wa.child("heroes").child(d).on("value",function(a){if(a=a.val()){var h=a.name,k=a.type||"human",m=a.images||[];e&&(k="world"==h.toLowerCase()?c.rw(d,m):c.qw(h,k,d,m),b.tv(d,k.h));e=!1;a.x&&a.y&&"world"!=h.toLowerCase()&&c.Yo(h,a.x,a.y,m)}})})};b.Kw=function(a){var c=null.id,d=b.Wa.child("heroes");b.Wa.child("games").child(c).child("heroes").child(a).remove();d.child(a).remove()};b.Ao=function(a,c,m){var h=b.Wa.child("heroes").child(a);if(m){m=od(pd(m));if(m===d[a]||
m===e[a])return;e[a]=m;h.update({workspace:m,type:c})}h.update({type:c})};b.gn=function(a,c,d){d.Bc(function(e){"ui"!=e.type&&b.Ao(a,c,d)});b.Ao(a,c,null)};b.Yx=function(a,c){b.Wa.child("users").child(a).update({level:""+c})};b.Lw=function(d,e,m){e=b.Wa.child("games").child(e);var h=b.Wa.child("users").child(d),k=b.Wa.child("heroes");e.remove();h.child("games").child(a).remove();c.child("games").child(d).remove();for(var v in m)k.child(m[v].Xj).remove()};b.qv=function(){var a=qd;c.child("games").on("child_added",
function(b){var c=b.key();b=b.val().game_id;a(c,b)})};b.Lo=function(a,c){b.Wa.child("users").child(a).update({ide_username:c})};b.ey=function(a,c){b.Wa.child("users").child(a).child("ide_username").on("value",function(a){a.val()&&c(a.val())})}};
// Copyright 2013 Google Inc.  Apache License 2.0
var rd={},sd,td,z={};
// Copyright 2012 Google Inc.  Apache License 2.0
function ud(a,b){this.Zo=b||"";this.Ho=Object.create(null);if(a)for(var c=a.split(","),d=0;d<c.length;d++)this.Ho[c[d]]=!0;this.reset()}ud.prototype.reset=function(){this.rc=Object.create(null);this.zn=Object.create(null)};ud.prototype.getName=function(a,b){var c=a.toLowerCase()+"_"+b,d=b==vd?this.Zo:"";if(c in this.rc)return d+this.rc[c];var e=wd(this,a,b);this.rc[c]=e.substr(d.length);return e};
function wd(a,b,c){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b="unnamed";for(var d="";a.zn[b+d]||b+d in a.Ho;)d=d?d+1:2;b+=d;a.zn[b]=!0;return(c==vd?a.Zo:"")+b}function xd(a,b){return a.toLowerCase()==b.toLowerCase()};function yd(a){this.id=zd();Ad[this.id]=this;this.options=a||{};this.j=!!this.options.j;this.Ed=!!this.options.Ed;this.sa=this.options.sa;this.Wg=[];this.Zb=[];this.Ve=[];this.Ig=[];this.Wc=Object.create(null);this.Nb=[]}f=yd.prototype;f.M=!1;f.wt=1024;f.w=function(){this.Zb.length=0;this.clear();delete Ad[this.id]};function Bd(a,b){a.Wg.push(b);if(a.De)for(var c=Cd(b),d=0;d<c.length;d++)-1==a.Nb.indexOf(c[d])&&a.Nb.push(c[d])}
function Dd(a,b){if(!Wa(a.Wg,b))throw"Block not present in workspace's list of top-most blocks.";}function Ed(a,b){var c=[].concat(a.Wg);if(b&&1<c.length){var d=Math.sin(3*Math.PI/180);a.j&&(d*=-1);c.sort(function(a,b){var c=a.ua(),e=b.ua();return c.y+d*c.x-(e.y+d*e.x)})}return c}f.uc=function(){for(var a=Ed(this,!1),b=0;b<a.length;b++)a.push.apply(a,a[b].ve());return a};f.clear=function(){var a=Fd;for(a||B(!0);this.Wg.length;)this.Wg[0].w();a||B(!1);this.Nb.length=0};
f.kf=function(a){-1==Gd(this,a)&&this.Nb.push(a)};function Gd(a,b){for(var c=0,d;d=a.Nb[c];c++)if(xd(d,b))return c;return-1}f.Gc=function(){return 0};f.Ic=function(a,b){return new Hd(this,a,b)};function Id(a){return isNaN(a.options.co)?Infinity:a.options.co-a.uc().length}
f.kl=function(a){var b=a?this.Ig:this.Ve,c=a?this.Ve:this.Ig,d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group==b[b.length-1].group;)e.push(b.pop());for(b=0;d=e[b];b++)c.push(d);e=Jd(e,a);Kd=!1;for(b=0;d=e[b];b++)d.run(a);Kd=!0}};f.xj=function(){this.Ve.length=0;for(var a=this.Ig.length=0,b;b=Ld[a];a++)b.Gk=!1};f.Bc=function(a){this.Zb.push(a);return a};f.Me=function(a){Wa(this.Zb,a)};var Ad=Object.create(null);yd.prototype.clear=yd.prototype.clear;yd.prototype.clearUndo=yd.prototype.xj;
yd.prototype.addChangeListener=yd.prototype.Bc;yd.prototype.removeChangeListener=yd.prototype.Me;function Md(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}f=Md.prototype;f.Gc=function(){return this.right-this.left};f.we=function(){return this.bottom-this.top};f.clone=function(){return new Md(this.top,this.right,this.bottom,this.left)};f.contains=function(a){return this&&a?a instanceof Md?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
f.expand=function(a,b,c,d){ia(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=Number(b),this.bottom+=Number(c),this.left-=Number(d));return this};f.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};
f.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};f.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};f.translate=function(a,b){a instanceof u?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ga(b)&&(this.top+=b,this.bottom+=b));return this};
f.scale=function(a,b){var c=ga(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function Nd(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}f=Nd.prototype;f.clone=function(){return new Nd(this.left,this.top,this.width,this.height)};f.contains=function(a){return a instanceof u?a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height:this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height};f.rf=function(){return new $b(this.width,this.height)};
f.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};f.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
f.translate=function(a,b){a instanceof u?(this.left+=a.x,this.top+=a.y):(this.left+=a,ga(b)&&(this.top+=b));return this};f.scale=function(a,b){var c=ga(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};var Od={};function Pd(a,b){var c=jc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Qd(a,b){return Pd(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function Rd(){var a=document,b=a.body,a=a.documentElement;return new u(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)}
function Sd(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}q&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function Td(a){var b=jc(a),c=new u(0,0),d;d=b?jc(b):document;d=!q||9<=Number(Yb)||"CSS1Compat"==hc(d).Cc.compatMode?d.documentElement:d.body;if(a==d)return c;a=Sd(a);b=pc(hc(b).Cc);c.x=a.left+b.x;c.y=a.top+b.y;return c}
function Ud(a){"number"==typeof a&&(a+="px");return a}function Vd(a){var b=Wd;if("none"!=Qd(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,h=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=h;c.visibility=e;return a}function Wd(a){var b=a.offsetWidth,c=a.offsetHeight,d=t&&!b&&!c;return aa(b)&&!d||!a.getBoundingClientRect?new $b(b,c):(a=Sd(a),new $b(a.right-a.left,a.bottom-a.top))}
function Xd(a,b){a.style.display=b?"":"none"}var Yd=Mb?"MozUserSelect":t||Lb?"WebkitUserSelect":null;function Zd(a,b,c){c=c?null:a.getElementsByTagName("*");if(Yd){if(b=b?"none":"",a.style&&(a.style[Yd]=b),c){a=0;for(var d;d=c[a];a++)d.style&&(d.style[Yd]=b)}}else if(q||Kb)if(b=b?"on":"",a.setAttribute("unselectable",b),c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}var $d={thin:2,medium:4,thick:6};
function ae(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null,d;if(c in $d)d=$d[c];else if(/^\d+px?$/.test(c))d=parseInt(c,10);else{d=a.style.left;var e=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=c;c=a.style.pixelLeft;a.style.left=d;a.runtimeStyle.left=e;d=+c}return d};function be(a,b){this.Ta=new $b(0,25);this.setValue(a);this.ah=b}var ce=null,de=0;f=be.prototype;f.name=void 0;f.eo=50;f.ra="";f.m=null;f.Oa=!0;f.ah=null;f.Ye=!0;f.g=function(){this.Ka||(this.Ka=D("g",{},null),this.Oa||(this.Ka.style.display="none"),this.Yc=D("rect",{rx:4,ry:4,x:-5,y:0,height:16},this.Ka),this.Ba=D("text",{"class":"blocklyText",y:this.Ta.height-12.5},this.Ka),this.Qd(),this.m.xa().appendChild(this.Ka),this.nk=E(this.Ka,"mouseup",this,this.Gg),ee(this))};
f.w=function(){this.nk&&(F(this.nk),this.nk=null);this.m=null;x(this.Ka);this.ah=this.Yc=this.Ba=this.Ka=null};f.Qd=function(){var a=this.Ka;this.Ye&&a&&(fe(this.m)?(ge(a,"blocklyEditableText"),he(a,"blocklyNonEditableText"),this.Ka.style.cursor=this.gh):(ge(a,"blocklyNonEditableText"),he(a,"blocklyEditableText"),this.Ka.style.cursor=""))};f.$=function(){return this.Oa};f.ga=function(a){if(this.Oa!=a){this.Oa=a;var b=this.xa();b&&(b.style.display=a?"block":"none",this.Cf())}};f.yh=function(a){return a};
function ie(a,b){var c=a.yh(b);if(null===c)return null;void 0!==c&&(b=c);if(c=a.ah){c=c.call(a,b);if(null===c)return null;void 0!==c&&(b=c)}return b}f.xa=function(){return this.Ka};f.Cf=function(){if(this.Oa&&this.Ba){var a=this.Ba.textContent+"\n"+this.Ba.className.baseVal;if(ce&&ce[a])var b=ce[a];else{try{b=this.Ba.getComputedTextLength()}catch(c){b=8*this.Ba.textContent.length}ce&&(ce[a]=b)}this.Yc&&this.Yc.setAttribute("width",b+10)}else b=0;this.Ta.width=b};function je(){de++;ce||(ce={})}
function ke(){de--;de||(ce=null)}f.rf=function(){this.Ta.width||this.Cf();return this.Ta};function le(a){var b=a.Yc.getBBox();return new $b(b.width*a.m.h.scale,b.height*a.m.h.scale)}f.kb=function(){return this.ra};f.cb=function(a){null!==a&&(a=String(a),a!==this.ra&&(this.ra=a,ee(this),this.m&&this.m.M&&(this.m.T(),me(this.m))))};
function ee(a){if(a.Ba){var b=a.ra;b.length>a.eo&&(b=b.substring(0,a.eo-2)+"\u2026");uc(a.Ba);b=b.replace(/\s/g,"\u00a0");a.m.j&&b&&(b+="\u200f");b||(b="\u00a0");a.Ba.appendChild(document.createTextNode(b));a.Ta.width=0}}f.getValue=function(){return this.kb()};f.setValue=function(a){if(null!==a){var b=this.getValue();b!=a&&(this.m&&0==H&&I(new ne(this.m,"field",this.name,b,a)),this.cb(a))}};f.Gg=function(a){if(!Qb&&!Rb||Xb("537.51.2")||0===a.layerX||0===a.layerY)oe(a)||pe(this.m.h)||fe(this.m)&&this.Qe()};
f.A=function(){};function qe(a){a=a.uc();for(var b=[],c=[],d=0;d<a.length;d++)if(a[d].Ad){var e=a[d].Ad();e&&(e[2]?b.push(e):c.push(e))}c.sort(re);b.sort(re);return[c,b]}function re(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())}function se(a,b,c){b=b.uc();for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].Ad){var e=b[d].Ad();if(xd(e[0],a))return!1}return!0}
function te(a){a=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var b;b=a;var c=this.m;if(!c.Ib)for(;!se(b,c.h,c);){var d=b.match(/^(.*?)(\d+)$/);b=d?d[1]+(parseInt(d[2],10)+1):b+"2"}c=this.ra;if(c!=a&&c!=b)for(a=this.m.h.uc(),d=0;d<a.length;d++)a[d].Lg&&a[d].Lg(c,b);return b}
function ue(a){function b(a,b){for(var d=0;d<a.length;d++){var e=a[d][0],h=a[d][1],p=w("block");p.setAttribute("type",b);p.setAttribute("gap",16);var v=w("mutation");v.setAttribute("name",e);p.appendChild(v);for(e=0;e<h.length;e++){var A=w("arg");A.setAttribute("name",h[e]);v.appendChild(A)}c.push(p)}}var c=[];if(z.procedures_defnoreturn){var d=w("block");d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);c.push(d)}z.procedures_defreturn&&(d=w("block"),d.setAttribute("type",
"procedures_defreturn"),d.setAttribute("gap",16),c.push(d));z.procedures_ifreturn&&(d=w("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=qe(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c}
function ve(a){var b=Kd,c=a.Ad()[0],d=a.qa(!0),e=[];a=a.h.uc();for(var h=0;h<a.length;h++)if(a[h].vc){var k=a[h].vc();k&&xd(k,c)&&e.push(a[h])}for(c=0;a=e[c];c++)h=(h=a.qa())&&od(h),a.Ja(d),k=(k=a.qa())&&od(k),h!=k&&(Kd=!1,I(new ne(a,"mutation",null,h,k)),Kd=b)}function we(a,b){for(var c=Ed(b,!1),d=0;d<c.length;d++)if(c[d].Ad){var e=c[d].Ad();if(e&&xd(e[0],a))return c[d]}return null};var xe="closure_listenable_"+(1E6*Math.random()|0),ye=0;function ze(a,b,c,d,e){this.listener=a;this.Ai=null;this.src=b;this.type=c;this.Uf=!!d;this.bi=e;this.key=++ye;this.Bf=this.vh=!1}function Ae(a){a.Bf=!0;a.listener=null;a.Ai=null;a.src=null;a.bi=null};function Be(a){this.src=a;this.Kb={};this.Zg=0}f=Be.prototype;f.add=function(a,b,c,d,e){var h=a.toString();a=this.Kb[h];a||(a=this.Kb[h]=[],this.Zg++);var k=Ce(a,b,d,e);-1<k?(b=a[k],c||(b.vh=!1)):(b=new ze(b,this.src,h,!!d,e),b.vh=c,a.push(b));return b};f.remove=function(a,b,c,d){a=a.toString();if(!(a in this.Kb))return!1;var e=this.Kb[a];b=Ce(e,b,c,d);return-1<b?(Ae(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.Kb[a],this.Zg--),!0):!1};
function De(a,b){var c=b.type;c in a.Kb&&Wa(a.Kb[c],b)&&(Ae(b),0==a.Kb[c].length&&(delete a.Kb[c],a.Zg--))}f.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.Kb)if(!a||c==a){for(var d=this.Kb[c],e=0;e<d.length;e++)++b,Ae(d[e]);delete this.Kb[c];this.Zg--}return b};f.fg=function(a,b,c,d){a=this.Kb[a.toString()];var e=-1;a&&(e=Ce(a,b,c,d));return-1<e?a[e]:null};
f.hasListener=function(a,b){var c=aa(a),d=c?a.toString():"",e=aa(b);return jb(this.Kb,function(a){for(var h=0;h<a.length;++h)if(!(c&&a[h].type!=d||e&&a[h].Uf!=b))return!0;return!1})};function Ce(a,b,c,d){for(var e=0;e<a.length;++e){var h=a[e];if(!h.Bf&&h.listener==b&&h.Uf==!!c&&h.bi==d)return e}return-1};var Ee=!q||9<=Number(Yb),Fe=!q||9<=Number(Yb),Ge=q&&!Xb("9");!t||Xb("528");Mb&&Xb("1.9b")||q&&Xb("8")||Kb&&Xb("9.5")||t&&Xb("528");Mb&&!Xb("8")||q&&Xb("9");var He="ontouchstart"in g||!!(g.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!g.navigator||!g.navigator.msMaxTouchPoints);function Ie(){0!=Je&&(Ke[ja(this)]=this);this.mf=this.mf;this.Fe=this.Fe}var Je=0,Ke={};Ie.prototype.mf=!1;Ie.prototype.w=function(){if(!this.mf&&(this.mf=!0,this.Ia(),0!=Je)){var a=ja(this);delete Ke[a]}};function Le(a,b){a.mf?aa(void 0)?b.call(void 0):b():(a.Fe||(a.Fe=[]),a.Fe.push(aa(void 0)?oa(b,void 0):b))}Ie.prototype.Ia=function(){if(this.Fe)for(;this.Fe.length;)this.Fe.shift()()};function Me(a){a&&"function"==typeof a.w&&a.w()};function Ne(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ke=!1;this.Io=!0}Ne.prototype.stopPropagation=function(){this.Ke=!0};Ne.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Io=!1};function Oe(a,b){Ne.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.Ak=!1;this.dd=null;a&&this.g(a,b)}n(Oe,Ne);var Pe=[1,4,2];
Oe.prototype.g=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(Mb){var h;a:{try{Hb(e.nodeName);h=!0;break a}catch(k){}h=!1}h||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=t||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=t||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:
a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Ak=Ob?a.metaKey:a.ctrlKey;this.state=a.state;
this.dd=a;a.defaultPrevented&&this.preventDefault()};function Qe(a){return Ee?0==a.dd.button:"click"==a.type?!0:!!(a.dd.button&Pe[0])}Oe.prototype.stopPropagation=function(){Oe.o.stopPropagation.call(this);this.dd.stopPropagation?this.dd.stopPropagation():this.dd.cancelBubble=!0};Oe.prototype.preventDefault=function(){Oe.o.preventDefault.call(this);var a=this.dd;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ge)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Re="closure_lm_"+(1E6*Math.random()|0),Se={},Te=0;
function Ue(a,b,c,d,e){if(ea(b)){for(var h=0;h<b.length;h++)Ue(a,b[h],c,d,e);return null}c=Ve(c);if(a&&a[xe])a=a.ba(b,c,d,e);else{if(!b)throw Error("Invalid event type");var h=!!d,k=We(a);k||(a[Re]=k=new Be(a));c=k.add(b,c,!1,d,e);if(!c.Ai){d=Xe();c.Ai=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,h);else if(a.attachEvent)a.attachEvent(Ye(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Te++}a=c}return a}
function Xe(){var a=Ze,b=Fe?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function $e(a,b,c,d,e){if(ea(b))for(var h=0;h<b.length;h++)$e(a,b[h],c,d,e);else c=Ve(c),a&&a[xe]?a.Ac(b,c,d,e):a&&(a=We(a))&&(b=a.fg(b,c,!!d,e))&&af(b)}
function af(a){if(!ga(a)&&a&&!a.Bf){var b=a.src;if(b&&b[xe])De(b.zd,a);else{var c=a.type,d=a.Ai;b.removeEventListener?b.removeEventListener(c,d,a.Uf):b.detachEvent&&b.detachEvent(Ye(c),d);Te--;(c=We(b))?(De(c,a),0==c.Zg&&(c.src=null,b[Re]=null)):Ae(a)}}}function Ye(a){return a in Se?Se[a]:Se[a]="on"+a}function bf(a,b,c,d){var e=!0;if(a=We(a))if(b=a.Kb[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var h=b[a];h&&h.Uf==c&&!h.Bf&&(h=cf(h,d),e=e&&!1!==h)}return e}
function cf(a,b){var c=a.listener,d=a.bi||a.src;a.vh&&af(a);return c.call(d,b)}
function Ze(a,b){if(a.Bf)return!0;if(!Fe){var c;if(!(c=b))a:{c=["window","event"];for(var d=g,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Oe(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var h=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(r){h=!0}if(h||void 0==e.returnValue)e.returnValue=!0}e=[];for(h=c.currentTarget;h;h=h.parentNode)e.push(h);for(var h=a.type,k=e.length-1;!c.Ke&&0<=k;k--){c.currentTarget=e[k];var m=bf(e[k],h,!0,c),d=d&&m}for(k=0;!c.Ke&&k<
e.length;k++)c.currentTarget=e[k],m=bf(e[k],h,!1,c),d=d&&m}return d}return cf(a,new Oe(b,this))}function We(a){a=a[Re];return a instanceof Be?a:null}var df="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ve(a){if(ha(a))return a;a[df]||(a[df]=function(b){return a.handleEvent(b)});return a[df]};function ef(a){Ie.call(this);this.rg=a;this.yg={}}n(ef,Ie);var ff=[];f=ef.prototype;f.ba=function(a,b,c,d){ea(b)||(b&&(ff[0]=b.toString()),b=ff);for(var e=0;e<b.length;e++){var h=Ue(a,b[e],c||this.handleEvent,d||!1,this.rg||this);if(!h)break;this.yg[h.key]=h}return this};
f.Ac=function(a,b,c,d,e){if(ea(b))for(var h=0;h<b.length;h++)this.Ac(a,b[h],c,d,e);else c=c||this.handleEvent,e=e||this.rg||this,c=Ve(c),d=!!d,b=a&&a[xe]?a.fg(b,c,d,e):a?(a=We(a))?a.fg(b,c,d,e):null:null,b&&(af(b),delete this.yg[b.key]);return this};f.removeAll=function(){ib(this.yg,function(a,b){this.yg.hasOwnProperty(b)&&af(a)},this);this.yg={}};f.Ia=function(){ef.o.Ia.call(this);this.removeAll()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function gf(){}ca(gf);gf.prototype.tw=0;function hf(){Ie.call(this);this.zd=new Be(this);this.dv=this;this.yk=null}n(hf,Ie);hf.prototype[xe]=!0;f=hf.prototype;f.Zh=function(){return this.yk};f.Mi=function(a){this.yk=a};f.addEventListener=function(a,b,c,d){Ue(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){$e(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Zh();if(c)for(b=[];c;c=c.Zh())b.push(c);var c=this.dv,d=a.type||a;if(l(a))a=new Ne(a,c);else if(a instanceof Ne)a.target=a.target||c;else{var e=a;a=new Ne(d,c);lb(a,e)}var e=!0,h;if(b)for(var k=b.length-1;!a.Ke&&0<=k;k--)h=a.currentTarget=b[k],e=jf(h,d,!0,a)&&e;a.Ke||(h=a.currentTarget=c,e=jf(h,d,!0,a)&&e,a.Ke||(e=jf(h,d,!1,a)&&e));if(b)for(k=0;!a.Ke&&k<b.length;k++)h=a.currentTarget=b[k],e=jf(h,d,!1,a)&&e;return e};
f.Ia=function(){hf.o.Ia.call(this);this.removeAllListeners();this.yk=null};f.ba=function(a,b,c,d){return this.zd.add(String(a),b,!1,c,d)};f.Ac=function(a,b,c,d){return this.zd.remove(String(a),b,c,d)};f.removeAllListeners=function(a){return this.zd?this.zd.removeAll(a):0};function jf(a,b,c,d){b=a.zd.Kb[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,h=0;h<b.length;++h){var k=b[h];if(k&&!k.Bf&&k.Uf==c){var m=k.listener,r=k.bi||k.src;k.vh&&De(a.zd,k);e=!1!==m.call(r,d)&&e}}return e&&0!=d.Io}
f.fg=function(a,b,c,d){return this.zd.fg(String(a),b,c,d)};f.hasListener=function(a,b){return this.zd.hasListener(aa(a)?String(a):void 0,b)};function kf(a){hf.call(this);this.Lh=a||hc();this.Ii=lf;this.ei=null;this.oa=!1;this.W=null;this.Wd=void 0;this.Sd=this.Fb=this.ld=this.lk=null;this.ax=!1}n(kf,hf);kf.prototype.jw=gf.gd();var lf=null;
function mf(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close"}throw Error("Invalid component state");}function nf(a){return a.ei||(a.ei=":"+(a.jw.tw++).toString(36))}f=kf.prototype;f.B=function(){return this.W};function of(a){a.Wd||(a.Wd=new ef(a));return a.Wd}
f.Pe=function(a){if(this==a)throw Error("Unable to set parent component");if(a&&this.ld&&this.ei&&pf(this.ld,this.ei)&&this.ld!=a)throw Error("Unable to set parent component");this.ld=a;kf.o.Mi.call(this,a)};f.getParent=function(){return this.ld};f.Mi=function(a){if(this.ld&&this.ld!=a)throw Error("Method not supported");kf.o.Mi.call(this,a)};f.Qb=function(){return this.Lh};f.V=function(){this.W=this.Lh.createElement("DIV")};f.T=function(a){this.Cf(a)};
f.Cf=function(a,b){if(this.oa)throw Error("Component already rendered");this.W||this.V();a?a.insertBefore(this.W,b||null):this.Lh.Cc.body.appendChild(this.W);this.ld&&!this.ld.oa||this.jb()};f.jb=function(){this.oa=!0;qf(this,function(a){!a.oa&&a.B()&&a.jb()})};f.tc=function(){qf(this,function(a){a.oa&&a.tc()});this.Wd&&this.Wd.removeAll();this.oa=!1};
f.Ia=function(){this.oa&&this.tc();this.Wd&&(this.Wd.w(),delete this.Wd);qf(this,function(a){a.w()});!this.ax&&this.W&&x(this.W);this.ld=this.lk=this.W=this.Sd=this.Fb=null;kf.o.Ia.call(this)};f.oj=function(a,b){this.gf(a,rf(this),b)};
f.gf=function(a,b,c){if(a.oa&&(c||!this.oa))throw Error("Component already rendered");if(0>b||b>rf(this))throw Error("Child component index out of bounds");this.Sd&&this.Fb||(this.Sd={},this.Fb=[]);if(a.getParent()==this){var d=nf(a);this.Sd[d]=a;Wa(this.Fb,a)}else{var d=this.Sd,e=nf(a);if(null!==d&&e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}a.Pe(this);$a(this.Fb,b,0,a);a.oa&&this.oa&&a.getParent()==this?(c=this.hc(),b=c.childNodes[b]||null,b!=a.B()&&c.insertBefore(a.B(),
b)):c?(this.W||this.V(),b=sf(this,b+1),a.Cf(this.hc(),b?b.W:null)):this.oa&&!a.oa&&a.W&&a.W.parentNode&&1==a.W.parentNode.nodeType&&a.jb()};f.hc=function(){return this.W};function tf(a){null==a.Ii&&(a.Ii="rtl"==Qd(a.oa?a.W:a.Lh.Cc.body,"direction"));return a.Ii}f.Ld=function(a){if(this.oa)throw Error("Component already rendered");this.Ii=a};function uf(a){return!!a.Fb&&0!=a.Fb.length}function rf(a){return a.Fb?a.Fb.length:0}
function pf(a,b){var c;a.Sd&&b?(c=a.Sd,c=(null!==c&&b in c?c[b]:void 0)||null):c=null;return c}function sf(a,b){return a.Fb?a.Fb[b]||null:null}function qf(a,b,c){a.Fb&&Ra(a.Fb,b,c)}function vf(a,b){return a.Fb&&b?Qa(a.Fb,b):-1}f.removeChild=function(a,b){if(a){var c=l(a)?a:nf(a);a=pf(this,c);if(c&&a){var d=this.Sd;c in d&&delete d[c];Wa(this.Fb,a);b&&(a.tc(),a.W&&x(a.W));a.Pe(null)}}if(!a)throw Error("Child is not in parent component");return a};
f.Fo=function(a){for(var b=[];uf(this);)b.push(this.removeChild(sf(this,0),a));return b};function wf(a){if(a.classList)return a.classList;a=a.className;return l(a)&&a.match(/\S+/g)||[]}function xf(a,b){return a.classList?a.classList.contains(b):Va(wf(a),b)}function yf(a,b){a.classList?a.classList.add(b):xf(a,b)||(a.className+=0<a.className.length?" "+b:b)}function zf(a,b){if(a.classList)Ra(b,function(b){yf(a,b)});else{var c={};Ra(wf(a),function(a){c[a]=!0});Ra(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function Af(a,b){a.classList?a.classList.remove(b):xf(a,b)&&(a.className=Sa(wf(a),function(a){return a!=b}).join(" "))}function Bf(a,b){a.classList?Ra(b,function(b){Af(a,b)}):a.className=Sa(wf(a),function(a){return!Va(b,a)}).join(" ")};function Cf(a,b){if(!a)throw Error("Invalid class name "+a);if(!ha(b))throw Error("Invalid decorator function "+b);}var Df={};var Ef;mb("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" "));function Ff(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}
function Gf(a,b,c){ea(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(Ef||(Ef={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=Ef,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}function Hf(a){a.removeAttribute("aria-activedescendant")}
function If(a,b){var c=a.getAttribute("aria-"+b);return null==c||void 0==c?"":String(c)};function Jf(){}var Kf;ca(Jf);var Lf={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};f=Jf.prototype;f.Qh=function(){};f.V=function(a){return a.Qb().V("DIV",this.dg(a).join(" "),a.Fc())};f.hc=function(a){return a};f.$f=function(a,b,c){if(a=a.B?a.B():a){var d=[b];q&&!Xb("7")&&(d=Mf(wf(a),b),d.push(b));(c?zf:Bf)(a,d)}};f.vg=function(a){tf(a)&&this.Ld(a.B(),!0);a.isEnabled()&&this.le(a,a.$())};
function Nf(a,b,c){if(a=c||a.Qh())c=b.getAttribute("role")||null,a!=c&&Ff(b,a)}function Of(a,b,c){var d=b.Sm;null!=d&&a.Pk(c,d);b.$()||Gf(c,"hidden",!b.$());b.isEnabled()||Pf(c,1,!b.isEnabled());b.fb&8&&Pf(c,8,b.li());b.fb&16&&Pf(c,16,!!(b.Aa&16));b.fb&64&&Pf(c,64,b.tf())}f.Pk=function(a,b){Gf(a,"label",b)};f.Ok=function(a,b){Zd(a,!b,!q&&!Kb)};f.Ld=function(a,b){this.$f(a,this.Ca()+"-rtl",b)};f.Fd=function(a){var b;return a.fb&32&&(b=a.ub())?Ac(b):!1};
f.le=function(a,b){var c;if(a.fb&32&&(c=a.ub())){if(!b&&a.Aa&32){try{c.blur()}catch(d){}a.Aa&32&&a.lg(null)}Ac(c)!=b&&(b?c.tabIndex=0:(c.tabIndex=-1,c.removeAttribute("tabIndex")))}};f.ga=function(a,b){Xd(a,b);a&&Gf(a,"hidden",!b)};f.Oc=function(a,b,c){var d=a.B();if(d){var e=this.Th(b);e&&this.$f(a,e,c);Pf(d,b,c)}};
function Pf(a,b,c){Kf||(Kf={1:"disabled",8:"selected",16:"checked",64:"expanded"});b=Kf[b];var d=a.getAttribute("role")||null;d&&(d=Lf[d]||b,b="checked"==b||"selected"==b?d:b);b&&Gf(a,b,c)}f.Ne=function(a,b){var c=this.hc(a);if(c&&(uc(c),b))if(l(b))xc(c,b);else{var d=function(a){if(a){var b=jc(c);c.appendChild(l(a)?b.createTextNode(a):a)}};ea(b)?Ra(b,d):!fa(b)||"nodeType"in b?d(b):Ra(Ya(b),d)}};f.ub=function(a){return a.B()};f.Ca=function(){return"goog-control"};
f.dg=function(a){var b=this.Ca(),c=[b],d=this.Ca();d!=b&&c.push(d);b=a.getState();for(d=[];b;){var e=b&-b;d.push(this.Th(e));b&=~e}c.push.apply(c,d);(a=a.ed)&&c.push.apply(c,a);q&&!Xb("7")&&c.push.apply(c,Mf(c));return c};function Mf(a,b){var c=[];b&&(a=Xa(a,[b]));Ra([],function(d){!Ua(d,pa(Va,a))||b&&!Va(d,b)||c.push(d.join("_"))});return c}
f.Th=function(a){if(!this.$m){var b=this.Ca();b.replace(/\xa0|\s/g," ");this.$m={1:b+"-disabled",2:b+"-hover",4:b+"-active",8:b+"-selected",16:b+"-checked",32:b+"-focused",64:b+"-open"}}return this.$m[a]};function Qf(a,b,c,d,e,h){if(!(q||Lb||t&&Xb("525")))return!0;if(Ob&&e)return Rf(a);if(e&&!d)return!1;ga(b)&&(b=Sf(b));e=17==b||18==b||Ob&&91==b;if((!c||Ob)&&e||Ob&&16==b&&(d||h))return!1;if((t||Lb)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(q&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(t||Lb)}return Rf(a)}
function Rf(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(t||Lb)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Sf(a){if(Mb)a=Tf(a);else if(Ob&&t)switch(a){case 93:a=91}return a}
function Tf(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Uf(a,b){hf.call(this);a&&Vf(this,a,b)}n(Uf,hf);f=Uf.prototype;f.W=null;f.mi=null;f.gk=null;f.ni=null;f.ic=-1;f.be=-1;f.rj=!1;
var Wf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Xf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Yf=q||Lb||t&&Xb("525"),Zf=Ob&&Mb;f=Uf.prototype;
f.Vv=function(a){if(t||Lb)if(17==this.ic&&!a.ctrlKey||18==this.ic&&!a.altKey||Ob&&91==this.ic&&!a.metaKey)this.be=this.ic=-1;-1==this.ic&&(a.ctrlKey&&17!=a.keyCode?this.ic=17:a.altKey&&18!=a.keyCode?this.ic=18:a.metaKey&&91!=a.keyCode&&(this.ic=91));Yf&&!Qf(a.keyCode,this.ic,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?this.handleEvent(a):(this.be=Sf(a.keyCode),Zf&&(this.rj=a.altKey))};f.Wv=function(a){this.be=this.ic=-1;this.rj=a.altKey};
f.handleEvent=function(a){var b=a.dd,c,d,e=b.altKey;q&&"keypress"==a.type?(c=this.be,d=13!=c&&27!=c?b.keyCode:0):(t||Lb)&&"keypress"==a.type?(c=this.be,d=0<=b.charCode&&63232>b.charCode&&Rf(c)?b.charCode:0):Kb&&!t?(c=this.be,d=Rf(c)?b.keyCode:0):(c=b.keyCode||this.be,d=b.charCode||0,Zf&&(e=this.rj),Ob&&63==d&&224==c&&(c=191));var h=c=Sf(c);c?63232<=c&&c in Wf?h=Wf[c]:25==c&&a.shiftKey&&(h=9):b.keyIdentifier&&b.keyIdentifier in Xf&&(h=Xf[b.keyIdentifier]);a=h==this.ic;this.ic=h;b=new $f(h,d,a,b);b.altKey=
e;this.dispatchEvent(b)};f.B=function(){return this.W};function Vf(a,b,c){a.ni&&a.detach();a.W=b;a.mi=Ue(a.W,"keypress",a,c);a.gk=Ue(a.W,"keydown",a.Vv,c,a);a.ni=Ue(a.W,"keyup",a.Wv,c,a)}f.detach=function(){this.mi&&(af(this.mi),af(this.gk),af(this.ni),this.ni=this.gk=this.mi=null);this.W=null;this.be=this.ic=-1};f.Ia=function(){Uf.o.Ia.call(this);this.detach()};function $f(a,b,c,d){Oe.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}n($f,Oe);function ag(a,b,c){kf.call(this,c);if(!b){b=this.constructor;for(var d;b;){d=ja(b);if(d=Df[d])break;b=b.o?b.o.constructor:null}b=d?ha(d.gd)?d.gd():new d:null}this.Y=b;this.Ki(aa(a)?a:null);this.Sm=null}n(ag,kf);f=ag.prototype;f.jf=null;f.Aa=0;f.fb=39;f.uj=255;f.Se=0;f.Oa=!0;f.ed=null;f.og=!0;f.qj=!1;f.Jw=null;f.ub=function(){return this.Y.ub(this)};f.Xh=function(){return this.Jb||(this.Jb=new Uf)};
f.$f=function(a,b){b?a&&(this.ed?Va(this.ed,a)||this.ed.push(a):this.ed=[a],this.Y.$f(this,a,!0)):a&&this.ed&&Wa(this.ed,a)&&(0==this.ed.length&&(this.ed=null),this.Y.$f(this,a,!1))};f.V=function(){var a=this.Y.V(this);this.W=a;Nf(this.Y,a,this.$h());this.qj||this.Y.Ok(a,!1);this.$()||this.Y.ga(a,!1)};f.$h=function(){return this.Jw};f.Pk=function(a){this.Sm=a;var b=this.B();b&&this.Y.Pk(b,a)};f.hc=function(){return this.Y.hc(this.B())};
f.jb=function(){ag.o.jb.call(this);Of(this.Y,this,this.W);this.Y.vg(this);if(this.fb&-2&&(this.og&&bg(this,!0),this.fb&32)){var a=this.ub();if(a){var b=this.Xh();Vf(b,a);of(this).ba(b,"key",this.xc).ba(a,"focus",this.ai).ba(a,"blur",this.lg)}}};
function bg(a,b){var c=of(a),d=a.B();b?(c.ba(d,"mouseover",a.pg).ba(d,"mousedown",a.Bd).ba(d,"mouseup",a.sf).ba(d,"mouseout",a.Wj),a.ng!=ba&&c.ba(d,"contextmenu",a.ng),q&&(Xb(9)||c.ba(d,"dblclick",a.Nn),a.tg||(a.tg=new cg(a),Le(a,pa(Me,a.tg))))):(c.Ac(d,"mouseover",a.pg).Ac(d,"mousedown",a.Bd).Ac(d,"mouseup",a.sf).Ac(d,"mouseout",a.Wj),a.ng!=ba&&c.Ac(d,"contextmenu",a.ng),q&&(Xb(9)||c.Ac(d,"dblclick",a.Nn),Me(a.tg),a.tg=null))}
f.tc=function(){ag.o.tc.call(this);this.Jb&&this.Jb.detach();this.$()&&this.isEnabled()&&this.Y.le(this,!1)};f.Ia=function(){ag.o.Ia.call(this);this.Jb&&(this.Jb.w(),delete this.Jb);delete this.Y;this.tg=this.ed=this.jf=null};f.Fc=function(){return this.jf};f.Ne=function(a){this.Y.Ne(this.B(),a);this.Ki(a)};f.Ki=function(a){this.jf=a};f.Sh=function(){var a=this.Fc();if(!a)return"";a=l(a)?a:ea(a)?Ta(a,Fc).join(""):Dc(a);return sa(a)};
f.Ld=function(a){ag.o.Ld.call(this,a);var b=this.B();b&&this.Y.Ld(b,a)};f.Ok=function(a){this.qj=a;var b=this.B();b&&this.Y.Ok(b,a)};f.$=function(){return this.Oa};f.ga=function(a,b){if(b||this.Oa!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.B();c&&this.Y.ga(c,a);this.isEnabled()&&this.Y.le(this,a);this.Oa=a;return!0}return!1};f.isEnabled=function(){return!(this.Aa&1)};
f.Pg=function(a){var b=this.getParent();b&&"function"==typeof b.isEnabled&&!b.isEnabled()||!dg(this,1,!a)||(a||(this.setActive(!1),this.ac(!1)),this.$()&&this.Y.le(this,a),this.Oc(1,!a,!0))};f.ac=function(a){dg(this,2,a)&&this.Oc(2,a)};f.setActive=function(a){dg(this,4,a)&&this.Oc(4,a)};f.li=function(){return!!(this.Aa&8)};f.Tk=function(a){dg(this,8,a)&&this.Oc(8,a)};function eg(a,b){dg(a,16,b)&&a.Oc(16,b)}f.tf=function(){return!!(this.Aa&64)};function fg(a,b){dg(a,64,b)&&a.Oc(64,b)}f.getState=function(){return this.Aa};
f.Oc=function(a,b,c){c||1!=a?this.fb&a&&b!=!!(this.Aa&a)&&(this.Y.Oc(this,a,b),this.Aa=b?this.Aa|a:this.Aa&~a):this.Pg(!b)};f.Tb=function(a,b){if(this.oa&&this.Aa&a&&!b)throw Error("Component already rendered");!b&&this.Aa&a&&this.Oc(a,!1);this.fb=b?this.fb|a:this.fb&~a};function gg(a,b){return!!(a.uj&b)&&!!(a.fb&b)}function dg(a,b,c){return!!(a.fb&b)&&!!(a.Aa&b)!=c&&(!(a.Se&b)||a.dispatchEvent(mf(b,c)))&&!a.mf}
f.pg=function(a){!hg(a,this.B())&&this.dispatchEvent("enter")&&this.isEnabled()&&gg(this,2)&&this.ac(!0)};f.Wj=function(a){!hg(a,this.B())&&this.dispatchEvent("leave")&&(gg(this,4)&&this.setActive(!1),gg(this,2)&&this.ac(!1))};f.ng=ba;function hg(a,b){return!!a.relatedTarget&&wc(b,a.relatedTarget)}f.Bd=function(a){this.isEnabled()&&(gg(this,2)&&this.ac(!0),!Qe(a)||t&&Ob&&a.ctrlKey||(gg(this,4)&&this.setActive(!0),this.Y&&this.Y.Fd(this)&&this.ub().focus()));this.qj||!Qe(a)||t&&Ob&&a.ctrlKey||a.preventDefault()};
f.sf=function(a){this.isEnabled()&&(gg(this,2)&&this.ac(!0),this.Aa&4&&this.ee(a)&&gg(this,4)&&this.setActive(!1))};f.Nn=function(a){this.isEnabled()&&this.ee(a)};f.ee=function(a){gg(this,16)&&eg(this,!(this.Aa&16));gg(this,8)&&this.Tk(!0);gg(this,64)&&fg(this,!this.tf());var b=new Ne("action",this);a&&(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.Ak=a.Ak);return this.dispatchEvent(b)};f.ai=function(){gg(this,32)&&dg(this,32,!0)&&this.Oc(32,!0)};
f.lg=function(){gg(this,4)&&this.setActive(!1);gg(this,32)&&dg(this,32,!1)&&this.Oc(32,!1)};f.xc=function(a){return this.$()&&this.isEnabled()&&this.ye(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};f.ye=function(a){return 13==a.keyCode&&this.ee(a)};if(!ha(ag))throw Error("Invalid component class "+ag);if(!ha(Jf))throw Error("Invalid renderer class "+Jf);var ig=ja(ag);Df[ig]=Jf;Cf("goog-control",function(){return new ag(null)});
function cg(a){Ie.call(this);this.Gh=a;this.zh=!1;this.rg=new ef(this);Le(this,pa(Me,this.rg));a=this.Gh.W;this.rg.ba(a,"mousedown",this.Xv).ba(a,"mouseup",this.Yv).ba(a,"click",this.Qv)}n(cg,Ie);var jg=!q||9<=Number(Yb);cg.prototype.Xv=function(){this.zh=!1};cg.prototype.Yv=function(){this.zh=!0};
function kg(a,b){if(!jg)return a.button=0,a.type=b,a;var c=document.createEvent("MouseEvents");c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||null,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,a.relatedTarget||null);return c}cg.prototype.Qv=function(a){if(this.zh)this.zh=!1;else{var b=a.dd,c=b.button,d=b.type,e=kg(b,"mousedown");this.Gh.Bd(new Oe(e,a.currentTarget));e=kg(b,"mouseup");this.Gh.sf(new Oe(e,a.currentTarget));jg||(b.button=c,b.type=d)}};
cg.prototype.Ia=function(){this.Gh=null;cg.o.Ia.call(this)};function lg(){this.an=[]}n(lg,Jf);ca(lg);function mg(a,b){var c=a.an[b];if(!c){switch(b){case 0:c=a.Ca()+"-highlight";break;case 1:c=a.Ca()+"-checkbox";break;case 2:c=a.Ca()+"-content"}a.an[b]=c}return c}f=lg.prototype;f.Qh=function(){return"menuitem"};f.V=function(a){var b=a.Qb().V("DIV",this.dg(a).join(" "),ng(this,a.Fc(),a.Qb()));og(this,a,b,!!(a.fb&8)||!!(a.fb&16));return b};f.hc=function(a){return a&&a.firstChild};
f.Ne=function(a,b){var c=this.hc(a),d=pg(this,a)?c.firstChild:null;lg.o.Ne.call(this,a,b);d&&!pg(this,a)&&c.insertBefore(d,c.firstChild||null)};function ng(a,b,c){a=mg(a,2);return c.V("DIV",a,b)}f.Mo=function(a,b,c){a&&b&&og(this,a,b,c)};f.Qk=function(a,b,c){a&&b&&og(this,a,b,c)};function pg(a,b){var c=a.hc(b);if(c){var c=c.firstChild,d=mg(a,1);return!!c&&ia(c)&&1==c.nodeType&&xf(c,d)}return!1}
function og(a,b,c,d){Nf(a,c,b.$h());Of(a,b,c);d!=pg(a,c)&&(d?yf(c,"goog-option"):Af(c,"goog-option"),c=a.hc(c),d?(a=mg(a,1),c.insertBefore(b.Qb().V("DIV",a),c.firstChild||null)):c.removeChild(c.firstChild))}f.Th=function(a){switch(a){case 2:return mg(this,0);case 16:case 8:return"goog-option-selected";default:return lg.o.Th.call(this,a)}};f.Ca=function(){return"goog-menuitem"};function qg(a,b,c,d){ag.call(this,a,d||lg.gd(),c);this.setValue(b)}n(qg,ag);f=qg.prototype;f.getValue=function(){var a=this.lk;return null!=a?a:this.Sh()};f.setValue=function(a){this.lk=a};f.Tb=function(a,b){qg.o.Tb.call(this,a,b);switch(a){case 8:this.Aa&16&&!b&&eg(this,!1);var c=this.B();c&&this.Y.Mo(this,c,b);break;case 16:(c=this.B())&&this.Y.Qk(this,c,b)}};f.Mo=function(a){this.Tb(8,a)};f.Qk=function(a){this.Tb(16,a)};
f.Sh=function(){var a=this.Fc();return ea(a)?(a=Ta(a,function(a){return ia(a)&&1==a.nodeType&&(xf(a,"goog-menuitem-accel")||xf(a,"goog-menuitem-mnemonic-separator"))?"":Fc(a)}).join(""),sa(a)):qg.o.Sh.call(this)};f.sf=function(a){var b=this.getParent();if(b){var c=b.vo;b.vo=null;if(c&&ga(a.clientX)&&fc(c,new u(a.clientX,a.clientY)))return}qg.o.sf.call(this,a)};f.ye=function(a){return a.keyCode==this.ho&&this.ee(a)?!0:qg.o.ye.call(this,a)};f.Nv=function(){return this.ho};Cf("goog-menuitem",function(){return new qg(null)});
qg.prototype.$h=function(){return this.fb&16?"menuitemcheckbox":this.fb&8?"menuitemradio":qg.o.$h.call(this)};qg.prototype.getParent=function(){return ag.prototype.getParent.call(this)};qg.prototype.Zh=function(){return ag.prototype.Zh.call(this)};function rg(a){this.Tm=a}ca(rg);f=rg.prototype;f.Qh=function(){return this.Tm};function sg(a,b){a&&(a.tabIndex=b?0:-1)}f.V=function(a){return a.Qb().V("DIV",this.dg(a).join(" "))};f.hc=function(a){return a};f.vg=function(a){a=a.B();Zd(a,!0,Mb);q&&(a.hideFocus=!0);var b=this.Qh();b&&Ff(a,b)};f.ub=function(a){return a.B()};f.Ca=function(){return"goog-container"};f.dg=function(a){var b=this.Ca(),c=[b,a.He==tg?b+"-horizontal":b+"-vertical"];a.isEnabled()||c.push(b+"-disabled");return c};function ug(){}n(ug,Jf);ca(ug);ug.prototype.V=function(a){return a.Qb().V("DIV",this.Ca())};ug.prototype.Ne=function(){};ug.prototype.Ca=function(){return"goog-menuseparator"};function vg(a,b){ag.call(this,null,a||ug.gd(),b);this.Tb(1,!1);this.Tb(2,!1);this.Tb(4,!1);this.Tb(32,!1);this.Aa=1}n(vg,ag);vg.prototype.jb=function(){vg.o.jb.call(this);var a=this.B();Ff(a,"separator")};Cf("goog-menuseparator",function(){return new vg});function wg(a){this.Tm=a||"menu"}n(wg,rg);ca(wg);wg.prototype.Ca=function(){return"goog-menu"};wg.prototype.vg=function(a){wg.o.vg.call(this,a);a=a.B();Gf(a,"haspopup","true")};Cf("goog-menuseparator",function(){return new vg});function xg(a,b,c){kf.call(this,c);this.Y=b||rg.gd();this.He=a||yg}n(xg,kf);var tg="horizontal",yg="vertical";f=xg.prototype;f.hk=null;f.Jb=null;f.Y=null;f.He=null;f.Oa=!0;f.se=!0;f.te=!0;f.ma=-1;f.pb=null;f.yf=!1;f.fv=!1;f.Iw=!0;f.yd=null;f.ub=function(){return this.hk||this.Y.ub(this)};f.Xh=function(){return this.Jb||(this.Jb=new Uf(this.ub()))};f.V=function(){this.W=this.Y.V(this)};f.hc=function(){return this.Y.hc(this.B())};
f.jb=function(){xg.o.jb.call(this);qf(this,function(a){a.oa&&zg(this,a)},this);var a=this.B();this.Y.vg(this);this.ga(this.Oa,!0);of(this).ba(this,"enter",this.Uj).ba(this,"highlight",this.Uv).ba(this,"unhighlight",this.bw).ba(this,"open",this.Zv).ba(this,"close",this.Rv).ba(a,"mousedown",this.Bd).ba(jc(a),"mouseup",this.Sv).ba(a,["mousedown","mouseup","mouseover","mouseout","contextmenu"],this.Pv);this.Fd()&&Ag(this,!0)};
function Ag(a,b){var c=of(a),d=a.ub();b?c.ba(d,"focus",a.ai).ba(d,"blur",a.lg).ba(a.Xh(),"key",a.xc):c.Ac(d,"focus",a.ai).Ac(d,"blur",a.lg).Ac(a.Xh(),"key",a.xc)}f.tc=function(){this.Mb(-1);this.pb&&fg(this.pb,!1);this.yf=!1;xg.o.tc.call(this)};f.Ia=function(){xg.o.Ia.call(this);this.Jb&&(this.Jb.w(),this.Jb=null);this.Y=this.pb=this.yd=this.hk=null};f.Uj=function(){return!0};
f.Uv=function(a){var b=vf(this,a.target);if(-1<b&&b!=this.ma){var c=sf(this,this.ma);c&&c.ac(!1);this.ma=b;c=sf(this,this.ma);this.yf&&c.setActive(!0);this.Iw&&this.pb&&c!=this.pb&&(c.fb&64?fg(c,!0):fg(this.pb,!1))}b=this.B();null!=a.target.B()&&Gf(b,"activedescendant",a.target.B().id)};f.bw=function(a){a.target==sf(this,this.ma)&&(this.ma=-1);a=this.B();Hf(a)};f.Zv=function(a){(a=a.target)&&a!=this.pb&&a.getParent()==this&&(this.pb&&fg(this.pb,!1),this.pb=a)};
f.Rv=function(a){a.target==this.pb&&(this.pb=null);var b=this.B(),c=a.target.B();b&&a.target.Aa&2&&c&&(a="",c&&(a=c.id),Gf(b,"activedescendant",a))};f.Bd=function(a){this.se&&(this.yf=!0);var b=this.ub();b&&Ac(b)?b.focus():a.preventDefault()};f.Sv=function(){this.yf=!1};f.Pv=function(a){var b=Bg(this,a.target);if(b)switch(a.type){case "mousedown":b.Bd(a);break;case "mouseup":b.sf(a);break;case "mouseover":b.pg(a);break;case "mouseout":b.Wj(a);break;case "contextmenu":b.ng(a)}};
function Bg(a,b){if(a.yd)for(var c=a.B();b&&b!==c;){var d=b.id;if(d in a.yd)return a.yd[d];b=b.parentNode}return null}f.ai=function(){};f.lg=function(){this.Mb(-1);this.yf=!1;this.pb&&fg(this.pb,!1)};f.xc=function(a){return this.isEnabled()&&this.$()&&(0!=rf(this)||this.hk)&&this.ye(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
f.ye=function(a){var b=sf(this,this.ma);if(b&&"function"==typeof b.xc&&b.xc(a)||this.pb&&this.pb!=b&&"function"==typeof this.pb.xc&&this.pb.xc(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case 27:if(this.Fd())this.ub().blur();else return!1;break;case 36:Cg(this);break;case 35:Dg(this);break;case 38:if(this.He==yg)Eg(this);else return!1;break;case 37:if(this.He==tg)tf(this)?Fg(this):Eg(this);else return!1;break;case 40:if(this.He==yg)Fg(this);else return!1;break;
case 39:if(this.He==tg)tf(this)?Eg(this):Fg(this);else return!1;break;default:return!1}return!0};function zg(a,b){var c=b.B(),c=c.id||(c.id=nf(b));a.yd||(a.yd={});a.yd[c]=b}f.gf=function(a,b,c){a.Se|=2;a.Se|=64;!this.Fd()&&this.fv||a.Tb(32,!1);a.oa&&0!=a.og&&bg(a,!1);a.og=!1;var d=a.getParent()==this?vf(this,a):-1;xg.o.gf.call(this,a,b,c);a.oa&&this.oa&&zg(this,a);a=d;-1==a&&(a=rf(this));a==this.ma?this.ma=Math.min(rf(this)-1,b):a>this.ma&&b<=this.ma?this.ma++:a<this.ma&&b>this.ma&&this.ma--};
f.removeChild=function(a,b){if(a=l(a)?pf(this,a):a){var c=vf(this,a);-1!=c&&(c==this.ma?(a.ac(!1),this.ma=-1):c<this.ma&&this.ma--);var d=a.B();d&&d.id&&this.yd&&(c=this.yd,d=d.id,d in c&&delete c[d])}c=a=xg.o.removeChild.call(this,a,b);c.oa&&1!=c.og&&bg(c,!0);c.og=!0;return a};f.setOrientation=function(a){if(this.B())throw Error("Component already rendered");this.He=a};f.$=function(){return this.Oa};
f.ga=function(a,b){if(b||this.Oa!=a&&this.dispatchEvent(a?"show":"hide")){this.Oa=a;var c=this.B();c&&(Xd(c,a),this.Fd()&&sg(this.ub(),this.se&&this.Oa),b||this.dispatchEvent(this.Oa?"aftershow":"afterhide"));return!0}return!1};f.isEnabled=function(){return this.se};
f.Pg=function(a){this.se!=a&&this.dispatchEvent(a?"enable":"disable")&&(a?(this.se=!0,qf(this,function(a){a.$o?delete a.$o:a.Pg(!0)})):(qf(this,function(a){a.isEnabled()?a.Pg(!1):a.$o=!0}),this.yf=this.se=!1),this.Fd()&&sg(this.ub(),a&&this.Oa))};f.Fd=function(){return this.te};f.le=function(a){a!=this.te&&this.oa&&Ag(this,a);this.te=a;this.se&&this.Oa&&sg(this.ub(),a)};f.Mb=function(a){(a=sf(this,a))?a.ac(!0):-1<this.ma&&sf(this,this.ma).ac(!1)};f.ac=function(a){this.Mb(vf(this,a))};
function Cg(a){Gg(a,function(a,c){return(a+1)%c},rf(a)-1)}function Dg(a){Gg(a,function(a,c){a--;return 0>a?c-1:a},0)}function Fg(a){Gg(a,function(a,c){return(a+1)%c},a.ma)}function Eg(a){Gg(a,function(a,c){a--;return 0>a?c-1:a},a.ma)}function Gg(a,b,c){c=0>c?vf(a,a.pb):c;var d=rf(a);c=b.call(a,c,d);for(var e=0;e<=d;){var h=sf(a,c);if(h&&a.Zm(h)){a.Mb(c);break}e++;c=b.call(a,c,d)}}f.Zm=function(a){return a.$()&&a.isEnabled()&&!!(a.fb&2)};function Hg(){}n(Hg,Jf);ca(Hg);Hg.prototype.Ca=function(){return"goog-menuheader"};function Ig(a,b,c){ag.call(this,a,c||Hg.gd(),b);this.Tb(1,!1);this.Tb(2,!1);this.Tb(4,!1);this.Tb(32,!1);this.Aa=1}n(Ig,ag);Cf("goog-menuheader",function(){return new Ig(null)});function Jg(a,b){xg.call(this,yg,b||wg.gd(),a);this.le(!1)}n(Jg,xg);f=Jg.prototype;f.pj=!0;f.gv=!1;f.Ca=function(){return this.Y.Ca()};f.removeItem=function(a){(a=this.removeChild(a,!0))&&a.w()};f.Mn=function(a){return sf(this,a)};f.setPosition=function(a,b){var c=this.$();c||Xd(this.B(),!0);var d=this.B(),e=a,h=b,k=Td(d);e instanceof u&&(h=e.y,e=e.x);var m=d.offsetLeft+(e-k.x);m instanceof u?(e=m.x,h=m.y):(e=m,h=d.offsetTop+(Number(h)-k.y));d.style.left=Ud(e);d.style.top=Ud(h);c||Xd(this.B(),!1)};
function Kg(a){a.pj=!0;a.le(!0)}f.ga=function(a,b,c){(b=Jg.o.ga.call(this,a,b))&&a&&this.oa&&this.pj&&this.ub().focus();this.vo=a&&c&&ga(c.clientX)?new u(c.clientX,c.clientY):null;return b};f.Uj=function(a){this.pj&&this.ub().focus();return Jg.o.Uj.call(this,a)};f.Zm=function(a){return(this.gv||a.isEnabled())&&a.$()&&!!(a.fb&2)};f.ye=function(a){var b=Jg.o.ye.call(this,a);b||qf(this,function(c){!b&&c.Nv&&c.ho==a.keyCode&&(this.isEnabled()&&this.ac(c),b=c.xc(a))},this);return b};
f.Mb=function(a){Jg.o.Mb.call(this,a);if(a=sf(this,a)){var b=a.B();a=this.B()||qc(document);var c;c=a||qc(document);var d=Td(b),e=Td(c),h;if(!q||9<=Number(Yb))k=Pd(c,"borderLeftWidth"),h=Pd(c,"borderRightWidth"),m=Pd(c,"borderTopWidth"),r=Pd(c,"borderBottomWidth"),h=new Md(parseFloat(m),parseFloat(h),parseFloat(r),parseFloat(k));else{var k=ae(c,"borderLeft");h=ae(c,"borderRight");var m=ae(c,"borderTop"),r=ae(c,"borderBottom");h=new Md(m,h,r,k)}c==qc(document)?(k=d.x-c.scrollLeft,d=d.y-c.scrollTop,
!q||10<=Number(Yb)||(k+=h.left,d+=h.top)):(k=d.x-e.x-h.left,d=d.y-e.y-h.top);b=Wd(b);e=c.clientHeight-b.height;h=c.scrollLeft;m=c.scrollTop;h+=Math.min(k,Math.max(k-(c.clientWidth-b.width),0));m+=Math.min(d,Math.max(d-e,0));c=new u(h,m);a.scrollLeft=c.x;a.scrollTop=c.y}};function J(a,b){this.Eg=a;Lg(this);var c=Mg(this)[0];J.o.constructor.call(this,c[1],b)}n(J,be);var Ng=Pb?"\u25bc":"\u25be";f=J.prototype;f.gh="default";f.g=function(){if(!this.Ka){this.Qf=D("tspan",{},null);this.Qf.appendChild(document.createTextNode(this.m.j?Ng+" ":" "+Ng));J.o.g.call(this);var a=this.ra;this.ra=null;this.cb(a)}};
f.Qe=function(){Og(this,this.m.j,null);var a=this,b=new Jg;b.Ld(this.m.j);for(var c=Mg(this),d=0;d<c.length;d++){var e=c[d][1],h=new qg(c[d][0]);h.Ld(this.m.j);h.setValue(e);h.Qk(!0);b.oj(h,!0);eg(h,e==this.Cb)}Ue(b,"action",function(b){if(b=b.target)b=b.getValue(),a.m&&(b=ie(a,b)),null!==b&&a.setValue(b);Pg(a)});of(b).ba(b.B(),"touchstart",function(a){Bg(this,a.target).Bd(a)});of(b).ba(b.B(),"touchend",function(a){Bg(this,a.target).ee(a)});c=nc();d=Rd();e=Td(this.Yc);h=le(this);b.T(Qg);var k=b.B();
ge(k,"blocklyDropdownMenu");var m=Vd(k);m.height=k.scrollHeight;e.y=e.y+m.height+h.height>=c.height+d.y?e.y-(m.height+2):e.y+h.height;this.m.j?(e.x+=h.width,e.x+=25,e.x<d.x+m.width&&(e.x=d.x+m.width)):(e.x-=25,e.x>c.width+d.x-m.width&&(e.x=c.width+d.x-m.width));Rg(e.x,e.y,c,d,this.m.j);Kg(b);k.focus()};
function Lg(a){a.Ck=null;a.dl=null;var b=a.Eg;if(ea(b)&&!(2>b.length)){var c=b.map(function(a){return a[0]}),d=Sg(c),e=Tg(c,d),h=Ug(c,d);if((e||h)&&!(d<=e+h)){e&&(a.Ck=c[0].substring(0,e-1));h&&(a.dl=c[0].substr(1-h));c=[];for(d=0;d<b.length;d++){var k=b[d][0],m=b[d][1],k=k.substring(e,k.length-h);c[d]=[k,m]}a.Eg=c}}}function Mg(a){return ha(a.Eg)?a.Eg.call(a):a.Eg}f.getValue=function(){return this.Cb};
f.setValue=function(a){if(null!==a&&a!==this.Cb){this.m&&0==H&&I(new ne(this.m,"field",this.name,this.Cb,a));this.Cb=a;for(var b=Mg(this),c=0;c<b.length;c++)if(b[c][1]==a){this.cb(b[c][0]);return}this.cb(a)}};f.cb=function(a){this.m&&this.Qf&&(this.Qf.style.fill=this.m.cd);null!==a&&a!==this.ra&&(this.ra=a,ee(this),this.Ba&&(this.m.j?this.Ba.insertBefore(this.Qf,this.Ba.firstChild):this.Ba.appendChild(this.Qf)),this.m&&this.m.M&&(this.m.T(),me(this.m)))};f.w=function(){Pg(this);J.o.w.call(this)};var L={};var vd="VARIABLE";function Cd(a){var b;if(a instanceof Hd)b=Vg(a);else if(a.uc)b=a.uc();else throw"Not Block or Workspace: "+a;a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].kg();if(d)for(var e=0;e<d.length;e++){var h=d[e];h&&(a[h.toLowerCase()]=h)}}b=[];for(var k in a)b.push(a[k]);return b}
function Wg(a){a=a.Nb;a.sort(ua);var b=[],c=w("button");c.setAttribute("text",L.qm);b.push(c);if(0<a.length){if(z.variables_set){c=w("block");c.setAttribute("type","variables_set");z.math_change?c.setAttribute("gap",8):c.setAttribute("gap",24);var d=w("field",null,a[0]);d.setAttribute("name","VAR");c.appendChild(d);b.push(c)}if(z.math_change){c=w("block");c.setAttribute("type","math_change");z.variables_get&&c.setAttribute("gap",20);var e=w("value");e.setAttribute("name","DELTA");c.appendChild(e);
d=w("field",null,a[0]);d.setAttribute("name","VAR");c.appendChild(d);d=w("shadow");d.setAttribute("type","math_number");e.appendChild(d);e=w("field",null,"1");e.setAttribute("name","NUM");d.appendChild(e);b.push(c)}for(e=0;e<a.length;e++)z.variables_get&&(c=w("block"),c.setAttribute("type","variables_get"),z.variables_set&&c.setAttribute("gap",8),d=w("field",null,a[e]),d.setAttribute("name","VAR"),c.appendChild(d),b.push(c))}return b}
function Xg(a,b){var c=window.prompt(a,b);c&&(c=c.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),c==L.ij||c==L.qm)&&(c=null);return c};function Yg(a,b){Yg.o.constructor.call(this,Zg,b);this.setValue(a||"")}n(Yg,J);Yg.prototype.g=function(){if(!this.Ka){Yg.o.g.call(this);if(!this.getValue()){var a=(this.m.Ib?this.m.h.Gf:this.m.h).Nb,b="";if(a.length)for(var c=1,d=0,e="ijkmnopqrstuvwxyzabcdefgh".charAt(d);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].toLowerCase()==e){h=!0;break}h?(d++,25==d&&(d=0,c++),e="ijkmnopqrstuvwxyzabcdefgh".charAt(d),1<c&&(e+=c)):b=e}else b="i";this.setValue(b)}this.m.Ib||this.m.h.kf(this.getValue())}};
Yg.prototype.getValue=function(){return this.kb()};Yg.prototype.setValue=function(a){this.m&&0==H&&I(new ne(this.m,"field",this.name,this.Cb,a));this.Cb=a;this.cb(a)};function Zg(){var a=this.m&&this.m.h?this.m.h.Nb.slice(0):[],b=this.kb();b&&-1==a.indexOf(b)&&a.push(b);a.sort(ua);a.push(L.ij);a.push(L.Dl.replace("%1",b));for(var b=[],c=0;c<a.length;c++)b[c]=[a[c],a[c]];return b}
Yg.prototype.yh=function(a){var b=this.m.h;if(a==L.ij){var c=this.kb();$g();if(a=Xg(L.Pt.replace("%1",c),c)){var d=Gd(b,c),e=Gd(b,a);if(-1!=e&&b.Nb[e]!=a)var h=b.Nb[e];B(!0);for(var k=b.uc(),m=0;m<k.length;m++)k[m].ge(c,a),h&&k[m].ge(h,a);B(!1);d==e||-1!=d&&-1==e?b.Nb[d]=a:-1!=d&&-1!=e?(b.Nb.splice(d,1),b.Nb[e]=a):(b.Nb.push(a),console.log("Tried to rename an non-existent variable."))}return null}if(a==L.Dl.replace("%1",this.kb())){a:if(c=this.kb(),h=Gd(b,c),-1!=h){a=[];d=b.uc();for(e=0;e<d.length;e++)if(k=
d[e].kg())for(m=0;m<k.length;m++){var r=k[m];r&&xd(r,c)&&a.push(d[e])}if(1<a.length){for(d=0;e=a[d];d++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){b=M(e,"NAME");window.alert(L.hx.replace("%1",c).replace("%2",b));break a}if(!window.confirm(L.Vp.replace("%1",a.length).replace("%2",c)))break a}B(!0);for(d=0;d<a.length;d++)a[d].w(!0,!1);B(!1);b.Nb.splice(h,1)}return null}};
// Copyright 2016 Google Inc.  Apache License 2.0
var ah=null,bh=null,ch={};He&&(ch={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});var dh=0;function eh(a,b){fh();dh=setTimeout(function(){a.button=2;b.Ge(a)},gh)}function fh(){dh&&(clearTimeout(dh),dh=0)}function hh(){var a=ih;0!=a.Pb&&(ah=null,jh(kh),a.Pb=0,bh&&(F(bh),bh=null),sd&&(F(sd),sd=null))}
function lh(a){var b=ih;if(0!=b.Pb){var c=a.clientX-b.Uw,d=a.clientY-b.Vw,e=b.Sw,h=b.al+c,k=b.bl+d,h=Math.min(h,-e.ec),k=Math.min(k,-e.fc),h=Math.max(h,e.ha-e.ec-e.Ob),k=Math.max(k,e.Ea-e.fc-e.Gb);b.Xa.set(-h-e.ec,-k-e.fc);Math.sqrt(c*c+d*d)>mh&&(fh(),b.Pb=2);a.stopPropagation();a.preventDefault()}}
function nh(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};function oh(a,b){oh.o.constructor.call(this,a,b)}var qh;n(oh,be);f=oh.prototype;f.gh="text";f.Pi=!0;f.w=function(){Pg(this);oh.o.w.call(this)};f.setValue=function(a){if(null!==a){if(this.m){var b=ie(this,a);null!==b&&(a=b)}be.prototype.setValue.call(this,a)}};
f.Qe=function(a){this.i=this.m.h;a=a||!1;if(!a&&(Nb||Pb||Rb))a=window.prompt(L.cp,this.ra),this.m&&(a=ie(this,a)),this.setValue(a);else{Og(this,this.m.j,rh(this));var b=Qg,c=w("INPUT","blocklyHtmlInput");c.setAttribute("spellcheck",this.Pi);var d=11*this.i.scale+"pt";b.style.fontSize=d;c.style.fontSize=d;qh=c;b.appendChild(c);c.value=c.defaultValue=this.ra;c.no=null;sh(this);this.Gi();a||(c.focus(),c.select());c.xw=E(c,"keydown",this,this.ww);c.zw=E(c,"keyup",this,this.po);c.yw=E(c,"keypress",this,
this.po);c.uo=this.Gi.bind(this);this.i.Bc(c.uo)}};f.ww=function(a){var b=qh;13==a.keyCode?th():27==a.keyCode?(b.value=b.defaultValue,th()):9==a.keyCode&&(th(),this.m.tab(this,!a.shiftKey),a.preventDefault())};f.po=function(){var a=qh,b=a.value;b!==a.no?(a.no=b,this.setValue(b),sh(this)):t&&this.m.T();this.Gi();uh(this.m.h)};function sh(a){var b=!0,c=qh;a.m&&(b=ie(a,c.value));null===b?ge(c,"blocklyInvalidInput"):he(c,"blocklyInvalidInput")}
f.Gi=function(){var a=Qg,b=this.Ka.getBBox();a.style.width=b.width*this.i.scale+"px";a.style.height=b.height*this.i.scale+"px";b=Td(this.Yc);if(this.m.j){var c=le(this);b.x+=c.width;b.x-=a.offsetWidth}b.y+=1;Mb&&Qg.style.top&&(--b.x,--b.y);t&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};
function rh(a){return function(){var b=qh,c=b.value;a.m&&(c=ie(a,c),null===c?c=b.defaultValue:a.rk&&a.rk(c));a.setValue(c);a.m.M&&a.m.T();F(b.xw);F(b.zw);F(b.yw);a.i.Me(b.uo);qh=null;b=Qg.style;b.width="auto";b.height="auto";b.fontSize=""}};function vh(a,b,c,d,e){a=String(a);vh.o.constructor.call(this,a,e);a=parseFloat(d);this.Bk=isNaN(a)?0:a;b=parseFloat(b);this.pw=isNaN(b)?-Infinity:b;c=parseFloat(c);this.ow=isNaN(c)?Infinity:c;this.setValue(ie(this,this.getValue()))}n(vh,oh);vh.prototype.yh=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=parseFloat(a||0);if(isNaN(a))return null;this.Bk&&isFinite(a)&&(a=Math.round(a/this.Bk)*this.Bk);a=ec(a,this.pw,this.ow);return String(a)};var wh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function xh(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(yh.test(c))return b.Zj=zh(c),b.type="hex",b;a:{var d=a.match(Ah);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length)return b.Zj=Bh(c),b.type="rgb",b;if(wh&&(c=wh[a.toLowerCase()]))return b.Zj=c,b.type="named",b;throw Error(a+" is not a valid color string");}var Ch=/#(.)(.)(.)/;
function zh(a){if(!yh.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Ch,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Dh(a){a=zh(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}
function Bh(a){var b=a[0],c=a[1];a=a[2];b=Number(b);c=Number(c);a=Number(a);if(b!=(b&255)||c!=(c&255)||a!=(a&255))throw Error('"('+b+","+c+","+a+'") is not a valid RGB color');b=Eh(b.toString(16));c=Eh(c.toString(16));a=Eh(a.toString(16));return"#"+b+c+a}var yh=/^#(?:[0-9a-f]{3}){1,2}$/i,Ah=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Eh(a){return 1==a.length?"0"+a:a}
function Fh(a){var b=0,c=0,d=0,e=Math.floor(a/60),h=a/60-e;a=165.75*.55;var k=165.75*(1-.45*h),h=165.75*(1-.45*(1-h));switch(e){case 1:b=k;c=165.75;d=a;break;case 2:b=a;c=165.75;d=h;break;case 3:b=a;c=k;d=165.75;break;case 4:b=h;c=a;d=165.75;break;case 5:b=165.75;c=a;d=k;break;case 6:case 0:b=165.75,c=h,d=a}return[Math.floor(b),Math.floor(c),Math.floor(d)]}function Gh(a,b,c){c=ec(c,0,1);return[Math.round(c*a[0]+(1-c)*b[0]),Math.round(c*a[1]+(1-c)*b[1]),Math.round(c*a[2]+(1-c)*b[2])]};function Hh(a,b,c){if(ha(a))c&&(a=oa(a,c));else if(a&&"function"==typeof a.handleEvent)a=oa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:g.setTimeout(a,b||0)};function Ih(a,b,c){kf.call(this,c);this.La=b||Jh;a instanceof sb||(a=vb(a),a=wb(ub(a).replace(/(\r\n|\r|\n)/g,"<br>"),a.qf()));this.sg=a;this.ag=this.Mk=!1;this.Zw=null;this.ev=Cb;this.xg=!0;this.Jh=-1}n(Ih,kf);var Kh={};f=Ih.prototype;f.Ia=function(){Ih.o.Ia.call(this);this.Ue&&(this.Ue.removeNode(this),this.Ue=null);this.W=null};
f.ii=function(){var a=this.B();if(a){var b=Lh(this);b&&!b.id&&(b.id=nf(this)+".label");Ff(a,"treeitem");Gf(a,"selected",!1);Gf(a,"expanded",!1);Gf(a,"level",this.pf());b&&Gf(a,"labelledby",b.id);(a=this.Wh())&&Ff(a,"presentation");(a=this.Vh())&&Ff(a,"presentation");if(a=Mh(this))if(Ff(a,"group"),a.hasChildNodes())for(a=rf(this),b=1;b<=a;b++){var c=sf(this,b-1).B();Gf(c,"setsize",a);Gf(c,"posinset",b)}}};
f.V=function(){var a=this.Qb(),b=this.Vi(),c=a.Cc,a=c.createElement("DIV");q?(ac(a,Bb(Db,b)),a.removeChild(a.firstChild)):ac(a,b);if(1==a.childNodes.length)b=a.removeChild(a.firstChild);else for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);this.W=b};f.jb=function(){Ih.o.jb.call(this);Kh[nf(this)]=this;this.ii()};f.tc=function(){Ih.o.tc.call(this);delete Kh[nf(this)]};
f.gf=function(a,b){var c=sf(this,b-1),d=sf(this,b);Ih.o.gf.call(this,a,b);a.Ie=c;a.Jc=d;c?c.Jc=a:this.Jn=a;d?d.Ie=a:this.Yn=a;var e=this.Rb();e&&Nh(a,e);Oh(a,this.pf()+1);if(this.B()&&(this.Hf(),this.Xb())){e=Mh(this);a.B()||a.V();var h=a.B(),k=d&&d.B();e.insertBefore(h,k);this.oa&&a.jb();d||(c?c.Hf():(Xd(e,!0),this.Nc(this.Xb())))}};f.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.gf(a,b?vf(this,b):rf(this));return a};
f.removeChild=function(a){var b=this.Rb(),c=b?b.hd():null;if(c==a||a.contains(c))b.hasFocus()?(this.select(),Hh(this.Hw,10,this)):this.select();Ih.o.removeChild.call(this,a);this.Yn==a&&(this.Yn=a.Ie);this.Jn==a&&(this.Jn=a.Jc);a.Ie&&(a.Ie.Jc=a.Jc);a.Jc&&(a.Jc.Ie=a.Ie);c=!a.Jc;a.Ue=null;a.Jh=-1;if(b&&(b.removeNode(a),this.oa)){b=Mh(this);if(a.oa){var d=a.B();b.removeChild(d);a.tc()}c&&(c=sf(this,rf(this)-1))&&c.Hf();uf(this)||(b.style.display="none",this.Hf(),this.Wh().className=this.Rh())}return a};
f.remove=Ih.prototype.removeChild;f.Hw=function(){this.select()};f.pf=function(){var a=this.Jh;0>a&&(a=(a=this.getParent())?a.pf()+1:0,Oh(this,a));return a};function Oh(a,b){if(b!=a.Jh){a.Jh=b;var c=Ph(a);if(c){var d=Qh(a)+"px";tf(a)?c.style.paddingRight=d:c.style.paddingLeft=d}qf(a,function(a){Oh(a,b+1)})}}f.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};f.ve=function(){var a=[];qf(this,function(b){a.push(b)});return a};f.li=function(){return this.Mk};
f.select=function(){var a=this.Rb();a&&a.pc(this)};function Rh(a,b){if(a.Mk!=b){a.Mk=b;Sh(a);var c=a.B();c&&(Gf(c,"selected",b),b&&(c=a.Rb().B(),Gf(c,"activedescendant",nf(a))))}}f.Xb=function(){return this.ag};
f.Nc=function(a){var b=a!=this.ag;if(!b||this.dispatchEvent(a?"beforeexpand":"beforecollapse")){var c;this.ag=a;c=this.Rb();var d=this.B();if(uf(this)){if(!a&&c&&this.contains(c.hd())&&this.select(),d){if(c=Mh(this))if(Xd(c,a),a&&this.oa&&!c.hasChildNodes()){var e=[];qf(this,function(a){e.push(a.Vi())});ac(c,Bb(e));qf(this,function(a){a.jb()})}this.Hf()}}else(c=Mh(this))&&Xd(c,!1);d&&(this.Wh().className=this.Rh(),Gf(d,"expanded",a));b&&this.dispatchEvent(a?"expand":"collapse")}};f.toggle=function(){this.Nc(!this.Xb())};
f.expand=function(){this.Nc(!0)};f.collapse=function(){this.Nc(!1)};f.Kk=function(){var a=this.getParent();a&&(a.Nc(!0),a.Kk())};f.Vi=function(){var a=this.Rb(),b=!a.Sg||a==this.getParent()&&!a.Yk?this.La.mn:this.La.ln,a=this.Xb()&&uf(this),b={"class":b,style:Th(this)},c=[];a&&qf(this,function(a){c.push(a.Vi())});a=Ab("div",b,c);return Ab("div",{"class":this.La.vn,id:nf(this)},[Uh(this),a])};function Qh(a){return Math.max(0,(a.pf()-1)*a.La.dk)}
function Uh(a){var b={};b["padding-"+(tf(a)?"right":"left")]=Qh(a)+"px";var b={"class":a.hg(),style:b},c=a.Rj(),d=Ab("span",{style:{display:"inline-block"},"class":a.Rh()}),e=Ab("span",{"class":a.La.wn,title:a.Zw||null},a.sg);a=Bb(e,Ab("span",{},a.ev));return Ab("div",b,[c,d,a])}f.hg=function(){return this.La.Dj+(this.li()?" "+this.La.yn:"")};f.Rj=function(){return Ab("span",{type:"expand",style:{display:"inline-block"},"class":Vh(this)})};
function Vh(a){var b=a.Rb(),c=!b.Sg||b==a.getParent()&&!b.Yk,d=a.La,e=new qa;e.append(d.qe," ",d.vv," ");if(uf(a)){var h=0;b.Xk&&a.xg&&(h=a.Xb()?2:1);c||(h=a.Jc?h+8:h+4);switch(h){case 1:e.append(d.zv);break;case 2:e.append(d.yv);break;case 4:e.append(d.rn);break;case 5:e.append(d.xv);break;case 6:e.append(d.wv);break;case 8:e.append(d.sn);break;case 9:e.append(d.Bv);break;case 10:e.append(d.Av);break;default:e.append(d.qn)}}else c?e.append(d.qn):a.Jc?e.append(d.sn):e.append(d.rn);return e.toString()}
function Th(a){var b=a.Xb()&&uf(a);return eb({"background-position":Wh(a),display:b?null:"none"})}function Wh(a){return(a.Jc?(a.pf()-1)*a.La.dk:"-100")+"px 0"}f.B=function(){var a=Ih.o.B.call(this);a||(this.W=a=this.Qb().B(nf(this)));return a};function Ph(a){return(a=a.B())?a.firstChild:null}f.Vh=function(){var a=Ph(this);return a?a.firstChild:null};f.Wh=function(){var a=Ph(this);return a?a.childNodes[1]:null};function Lh(a){return(a=Ph(a))&&a.lastChild?a.lastChild.previousSibling:null}
function Mh(a){return(a=a.B())?a.lastChild:null}f.cb=function(a){this.sg=a=vb(a);var b=Lh(this);b&&ac(b,a);(a=this.Rb())&&Xh(a,this)};f.kb=function(){var a=ub(this.sg);return-1!=a.indexOf("&")?"document"in g?Da(a):Fa(a):a};function Sh(a){var b=Ph(a);b&&(b.className=a.hg())}f.Hf=function(){var a=this.Vh();a&&(a.className=Vh(this));if(a=Mh(this))a.style.backgroundPosition=Wh(this)};f.vk=function(a){"expand"==a.target.getAttribute("type")&&uf(this)?this.xg&&this.toggle():(this.select(),Sh(this))};
f.oo=function(a){"expand"==a.target.getAttribute("type")&&uf(this)||this.xg&&this.toggle()};
f.tk=function(a){var b=!0;switch(a.keyCode){case 39:if(a.altKey)break;uf(this)&&(this.Xb()?sf(this,0).select():this.Nc(!0));break;case 37:if(a.altKey)break;if(uf(this)&&this.Xb()&&this.xg)this.Nc(!1);else{var c=this.getParent(),d=this.Rb();c&&(d.Re||c!=d)&&c.select()}break;case 40:a:if(uf(this)&&this.Xb())c=sf(this,0);else{for(c=this;c!=this.Rb();){d=c.Jc;if(null!=d){c=d;break a}c=c.getParent()}c=null}c&&c.select();break;case 38:c=this.Ie;null!=c?c=Yh(c):(c=this.getParent(),d=this.Rb(),c=!d.Re&&c==
d||this==d?null:c);c&&c.select();break;default:b=!1}b&&(a.preventDefault(),(d=this.Rb())&&d.Yg.clear());return b};function Yh(a){return a.Xb()&&uf(a)?Yh(sf(a,rf(a)-1)):a}function Nh(a,b){a.Ue!=b&&(a.Ue=b,Xh(b,a),qf(a,function(a){Nh(a,b)}))}
var Jh={dk:19,xn:"goog-tree-root goog-tree-item",un:"goog-tree-hide-root",vn:"goog-tree-item",ln:"goog-tree-children",mn:"goog-tree-children-nolines",Dj:"goog-tree-row",wn:"goog-tree-item-label",qe:"goog-tree-icon",vv:"goog-tree-expand-icon",zv:"goog-tree-expand-icon-plus",yv:"goog-tree-expand-icon-minus",Bv:"goog-tree-expand-icon-tplus",Av:"goog-tree-expand-icon-tminus",xv:"goog-tree-expand-icon-lplus",wv:"goog-tree-expand-icon-lminus",sn:"goog-tree-expand-icon-t",rn:"goog-tree-expand-icon-l",qn:"goog-tree-expand-icon-blank",
Bj:"goog-tree-expanded-folder-icon",nn:"goog-tree-collapsed-folder-icon",Cj:"goog-tree-file-icon",tn:"goog-tree-expanded-folder-icon",pn:"goog-tree-collapsed-folder-icon",yn:"selected"};function Zh(a,b,c){Ih.call(this,a,b,c)}n(Zh,Ih);Zh.prototype.Rb=function(){if(this.Ue)return this.Ue;var a=this.getParent();return a&&(a=a.Rb())?(Nh(this,a),a):null};Zh.prototype.Rh=function(){var a=this.Xb(),b=this.Jv;if(a&&b)return b;b=this.iw;if(!a&&b)return b;b=this.La;if(uf(this)){if(a&&b.Bj)return b.qe+" "+b.Bj;if(!a&&b.nn)return b.qe+" "+b.nn}else if(b.Cj)return b.qe+" "+b.Cj;return""};function $h(a,b,c){this.i=a;this.Ub=b;this.ra=c;this.Lc=new u(0,0)}f=$h.prototype;f.width=0;f.height=0;
f.V=function(){this.s=D("g",{"class":"blocklyFlyoutButton"},this.i.Ab);var a=D("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.s),b=D("rect",{"class":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.s),c=D("text",{"class":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.s);c.textContent=this.ra;this.width=c.getComputedTextLength()+10;this.height=20;a.setAttribute("width",this.width);a.setAttribute("height",this.height);b.setAttribute("width",this.width);b.setAttribute("height",
this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",this.height-5);ai(this);return this.s};f.show=function(){ai(this);this.s.setAttribute("display","block")};function ai(a){a.s.setAttribute("transform","translate("+a.Lc.x+","+a.Lc.y+")")}f.moveTo=function(a,b){this.Lc.x=a;this.Lc.y=b;ai(this)};f.w=function(){this.s&&(x(this.s),this.s=null);this.Ub=this.i=null};
f.Ew=function(a){a.preventDefault();a.stopPropagation();bi();for(a=this.Ub;;){var b=Xg(L.xt,"");if(b)if(-1!=Gd(a,b))window.alert(L.bv.replace("%1",b.toLowerCase()));else{a.kf(b);break}else break}};var Fd="",Kd=!0,H=0,Ld=[];function I(a){0==H&&(Ld.length||setTimeout(ci,0),Ld.push(a))}function ci(){for(var a=Jd(Ld,!0),b=Ld.length=0,c;c=a[b];b++){var d=Ad[c.Rc]||null;if(d){c.Gk&&(d.Ve.push(c),d.Ig.length=0,d.Ve.length>d.wt&&d.Ve.unshift());for(var e=0,h;h=d.Zb[e];e++)h(c)}}}
function Jd(a,b){var c=Ya(a);b||c.reverse();for(var d=0,e;e=c[d];d++)for(var h=d+1,k;k=c[h];h++)e.type==k.type&&e.vd==k.vd&&e.Rc==k.Rc&&("move"==e.type?(e.wi=k.wi,e.ui=k.ui,e.ti=k.ti,c.splice(h,1),h--):"change"==e.type&&e.element==k.element&&e.name==k.name?(e.newValue=k.newValue,c.splice(h,1),h--):"ui"!=e.type||"click"!=k.element||"commentOpen"!=e.element&&"mutatorOpen"!=e.element&&"warningOpen"!=e.element||(e.newValue=k.newValue,c.splice(h,1),h--));for(d=c.length-1;0<=d;d--)c[d].fk()&&c.splice(d,
1);b||c.reverse();for(d=1;e=c[d];d++)"change"==e.type&&"mutation"==e.element&&c.unshift(c.splice(d,1)[0]);return c}function B(a){Fd="boolean"==typeof a?a?zd():"":a}function di(a){var b=[];a=Vg(a);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b}function ei(a){a&&(this.vd=a.id,this.Rc=a.h.id);this.group=Fd;this.Gk=Kd}ei.prototype.fk=function(){return!1};ei.prototype.run=function(){};function fi(a){a&&(fi.o.constructor.call(this,a),this.xml=gi(a),this.gi=di(a))}n(fi,ei);fi.prototype.type="create";
fi.prototype.run=function(a){var b=Ad[this.Rc]||null;if(a)a=w("xml"),a.appendChild(this.xml),ld(a,b);else{a=0;for(var c;c=this.gi[a];a++){var d=b.Wc[c]||null;d?d.w(!1,!1):c==this.vd&&console.warn("Can't uncreate non-existant block: "+c)}}};function hi(a){if(a){if(a.getParent())throw"Connected blocks cannot be deleted.";hi.o.constructor.call(this,a);this.uw=gi(a);this.gi=di(a)}}n(hi,ei);hi.prototype.type="delete";
hi.prototype.run=function(a){var b=Ad[this.Rc]||null;if(a){a=0;for(var c;c=this.gi[a];a++){var d=b.Wc[c]||null;d?d.w(!1,!1):c==this.vd&&console.warn("Can't delete non-existant block: "+c)}}else a=w("xml"),a.appendChild(this.uw),ld(a,b)};function ne(a,b,c,d,e){a&&(ne.o.constructor.call(this,a),this.element=b,this.name=c,this.oldValue=d,this.newValue=e)}n(ne,ei);ne.prototype.type="change";ne.prototype.fk=function(){return this.oldValue==this.newValue};
ne.prototype.run=function(a){var b=(Ad[this.Rc]||null).Wc[this.vd]||null;if(b)switch(b.jc&&b.jc.ga(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=ii(b,this.name))?(ie(b,a),b.setValue(a)):console.warn("Can't set non-existant field: "+this.name);break;case "comment":b.Jd(a||null);break;case "collapsed":b.ke(a);break;case "disabled":b.Df(a);break;case "inline":b.Pa(a);break;case "mutation":var c="";b.qa&&(c=(c=b.qa())&&od(c));if(b.Ja){a=a||"<mutation></mutation>";var d=kd("<xml>"+
a+"</xml>");b.Ja(d.firstChild)}I(new ne(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existant block: "+this.vd)};function ji(a){a&&(ji.o.constructor.call(this,a),a=ki(this),this.mo=a.wo,this.lo=a.Tn,this.qk=a.jn)}n(ji,ei);ji.prototype.type="move";function li(a){var b=ki(a);a.wi=b.wo;a.ui=b.Tn;a.ti=b.jn}
function ki(a){var b=(Ad[a.Rc]||null).Wc[a.vd]||null;a={};var c=b.getParent();if(c){a.wo=c.id;a:{for(var d=0,e;e=c.S[d];d++)if(e.F&&N(e.F)==b){b=e;break a}b=null}b&&(a.Tn=b.name)}else a.jn=b.ua();return a}ji.prototype.fk=function(){return this.mo==this.wi&&this.lo==this.ui&&fc(this.qk,this.ti)};
ji.prototype.run=function(a){var b=Ad[this.Rc]||null,c=b.Wc[this.vd]||null;if(c){var d=a?this.wi:this.mo,e=a?this.ui:this.lo;a=a?this.ti:this.qk;var h=null;if(d&&(h=b.Wc[d]||null,!h)){console.warn("Can't connect to non-existant block: "+d);return}c.getParent()&&mi(c);if(a)e=c.ua(),c.moveBy(a.x-e.x,a.y-e.y);else{var c=c.G||c.O,k;if(e){if(b=O(h,e))k=b.F}else 4==c.type&&(k=h.D);k?c.connect(k):console.warn("Can't connect to non-existant input: "+e)}}else console.warn("Can't move non-existant block: "+
this.vd)};function ni(a,b,c,d){ni.o.constructor.call(this,a);this.element=b;this.oldValue=c;this.newValue=d;this.Gk=!1}n(ni,ei);ni.prototype.type="ui";function pd(a,b){for(var c=w("xml"),d=Ed(a,!0),e=0,h;h=d[e];e++)c.appendChild(gi(h,b));return c}function gi(a,b){var c;a.h.j&&(c=a.h.Gc());var d=oi(a,b),e=a.ua();d.setAttribute("x",Math.round(a.h.j?c-e.x:e.x));d.setAttribute("y",Math.round(e.y));return d}
function oi(a,b){var c=w(a.bb?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.qa){var d=a.qa();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}for(var d=0,e;e=a.S[d];d++)for(var h=0,k;k=e.Sa[h];h++)if(k.name&&k.Ye){var m=w("field",null,k.getValue());m.setAttribute("name",k.name);c.appendChild(m)}if(d=a.Uh())d=w("comment",null,d),"object"==typeof a.Ha&&(d.setAttribute("pinned",a.Ha.$()),e=a.Ha.ue(),d.setAttribute("h",e.height),d.setAttribute("w",e.width)),
c.appendChild(d);a.data&&(d=w("data",null,a.data),c.appendChild(d));for(d=0;e=a.S[d];d++){var r;k=!0;5!=e.type&&(m=N(e.F),1==e.type?r=w("value"):3==e.type&&(r=w("statement")),h=e.F.od,!h||m&&m.bb||r.appendChild(pi(h)),m&&(r.appendChild(oi(m,b)),k=!1),r.setAttribute("name",e.name),k||c.appendChild(r))}a.kw!=a.ae&&c.setAttribute("inline",a.ae);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.disabled&&c.setAttribute("disabled",!0);qi(a)||a.bb||c.setAttribute("deletable",!1);ri(a)||a.bb||c.setAttribute("movable",
!1);fe(a)||c.setAttribute("editable",!1);if(d=si(a))r=w("next",null,oi(d,b)),c.appendChild(r);h=a.D&&a.D.od;!h||d&&d.bb||r.appendChild(pi(h));return c}function pi(a){for(var b=a=a.cloneNode(!0),c;b;)if(b.firstChild)b=b.firstChild;else{for(;b&&!b.nextSibling;)c=b,b=b.parentNode,3==c.nodeType&&""==c.data.trim()&&b.firstChild!=c&&x(c);b&&(c=b,b=b.nextSibling,3==c.nodeType&&""==c.data.trim()&&x(c))}return a}function od(a){return(new XMLSerializer).serializeToString(a)}
function kd(a){return(new DOMParser).parseFromString(a,"text/xml").firstChild}
function ld(a,b){if(a instanceof yd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var d;b.j&&(d=b.Gc());je();var c=a.childNodes.length,e=Fd;e||B(!0);for(var h=0;h<c;h++){var k=a.childNodes[h],m=k.nodeName.toLowerCase();if("block"==m||"shadow"==m&&!Kd){var m=ti(k,b),r=parseInt(k.getAttribute("x"),10),k=parseInt(k.getAttribute("y"),10);isNaN(r)||isNaN(k)||m.moveBy(b.j?d-r:r,k)}}e||B(!1);ke();d=b;if(!d.De)for(c=Cd(d),e=0;e<c.length;e++)d.kf(c[e])}
function ti(a,b){if(a instanceof yd){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}H++;try{var d=ui(a,b);if(b.M){vi(d,!0);for(var e=Vg(d),h=e.length-1;0<=h;h--)e[h].Yb();for(h=e.length-1;0<=h;h--)e[h].T(!1);setTimeout(function(){d.h&&vi(d,!1)},1);wi(d);xi(b)}}finally{H--}0==H&&I(new fi(d));return d}
function ui(a,b){for(var c=null,d=a.getAttribute("type"),e=a.getAttribute("id"),c=b.Ic(d,e),h=null,e=0,k;k=a.childNodes[e];e++)if(3!=k.nodeType){for(var m=h=null,r=0,p;p=k.childNodes[r];r++)1==p.nodeType&&("block"==p.nodeName.toLowerCase()?h=p:"shadow"==p.nodeName.toLowerCase()&&(m=p));!h&&m&&(h=m);r=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":c.Ja&&(c.Ja(k),c.Yb&&c.Yb());break;case "comment":c.Jd(k.textContent);var v=k.getAttribute("pinned");v&&!c.Ib&&setTimeout(function(){c.Ha&&
c.Ha.ga&&c.Ha.ga("true"==v)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&c.Ha&&c.Ha.ga&&c.Ha.je(h,k);break;case "data":c.data=k.textContent;break;case "title":case "field":h=ii(c,r);if(!h){console.warn("Ignoring non-existent field "+r+" in block "+d);break}h.setValue(k.textContent);break;case "value":case "statement":k=O(c,r);if(!k){console.warn("Ignoring non-existent input "+r+" in block "+d);break}m&&(k.F.od=m);h&&(h=ui(h,b),h.G?k.F.connect(h.G):
h.O&&k.F.connect(h.O));break;case "next":m&&c.D&&(c.D.od=m);h&&(h=ui(h,b),c.D.connect(h.O));break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(d=a.getAttribute("inline"))&&c.Pa("true"==d);(d=a.getAttribute("disabled"))&&c.Df("true"==d);if(d=a.getAttribute("deletable"))c.Fj="true"==d;(d=a.getAttribute("movable"))&&c.Li("true"==d);(d=a.getAttribute("editable"))&&c.Rk("true"==d);(d=a.getAttribute("collapsed"))&&c.ke("true"==d);if("shadow"==a.nodeName.toLowerCase()){d=c.ve();for(e=0;d[e];e++);
c.Vk(!0)}return c}g.Blockly||(g.Blockly={});g.Blockly.Xml||(g.Blockly.Xml={});g.Blockly.Xml.domToText=od;g.Blockly.Xml.domToWorkspace=ld;g.Blockly.Xml.textToDom=kd;g.Blockly.Xml.workspaceToDom=pd;function yi(a,b,c,d,e,h){this.i=a;this.jf=b;this.No=c;c=zi;this.i.j&&(c=-c);this.iv=c*Math.PI/180;a.Te.appendChild(this.zj(b,!(!e||!h)));this.pe=d;this.Mg&&Ai(this);e&&h||(b=this.jf.getBBox(),e=b.width+2*Bi,h=b.height+2*Bi);this.je(e,h);Ai(this);Ci(this);this.Mg=!0;a.options.readOnly||(E(this.Tf,"mousedown",this,this.kv),this.md&&E(this.md,"mousedown",this,this.Mw))}var Bi=6,zi=20,Di=null,Ei=null;f=yi.prototype;f.Ik=null;function Fi(){Di&&(F(Di),Di=null);Ei&&(F(Ei),Ei=null)}
function Gi(){ah=null;jh(kh);Fi()}f.Mg=!1;f.pe=null;f.Le=0;f.Jg=0;f.ea=0;f.Ma=0;f.tj=!0;
f.zj=function(a,b){this.wd=D("g",{},null);var c={filter:"url(#"+this.i.options.Hv+")"};-1!=ob.indexOf("JavaFX")&&(c={});c=D("g",c,this.wd);this.wj=D("path",{},c);this.Tf=D("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Bi,ry:Bi},c);b?(this.md=D("g",{"class":this.i.j?"blocklyResizeSW":"blocklyResizeSE"},this.wd),c=2*Bi,D("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.md),D("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/3},this.md),D("line",{"class":"blocklyResizeLine",
x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.md)):this.md=null;this.wd.appendChild(a);return this.wd};f.kv=function(a){Hi(this);Fi();oe(a)?a.stopPropagation():Ii(a)||(jh(Ji),Ki(this.i,a,new u(this.i.j?-this.Le:this.Le,this.Jg)),Di=E(document,"mouseup",this,Gi),Ei=E(document,"mousemove",this,this.mv),$g(),a.stopPropagation())};f.mv=function(a){this.tj=!1;a=Li(this.i,a);this.Le=this.i.j?-a.x:a.x;this.Jg=a.y;Ai(this);Ci(this)};
f.Mw=function(a){Hi(this);Fi();oe(a)||(jh(Ji),Ki(this.i,a,new u(this.i.j?-this.ea:this.ea,this.Ma)),Di=E(document,"mouseup",this,Gi),Ei=E(document,"mousemove",this,this.Nw),$g());a.stopPropagation()};f.Nw=function(a){this.tj=!1;a=Li(this.i,a);this.je(this.i.j?-a.x:a.x,a.y);this.i.j&&Ai(this)};function Hi(a){a.wd.parentNode.appendChild(a.wd)}function Ai(a){var b=a.pe.x,b=a.i.j?b-(a.Le+a.ea):b+a.Le;a.wd.setAttribute("transform","translate("+b+","+(a.Jg+a.pe.y)+")")}
f.ue=function(){return{width:this.ea,height:this.Ma}};
f.je=function(a,b){var c=2*Bi;a=Math.max(a,c+45);b=Math.max(b,c+20);this.ea=a;this.Ma=b;this.Tf.setAttribute("width",a);this.Tf.setAttribute("height",b);this.md&&(this.i.j?this.md.setAttribute("transform","translate("+2*Bi+","+(b-c)+") scale(-1 1)"):this.md.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));if(this.Mg){if(this.tj){var c=-this.ea/4,d=-this.Ma-25,e=this.i.ab();e.ha/=this.i.scale;e.gb/=this.i.scale;var h=this.pe.x;this.i.j?h-e.gb-c-this.ea<P?c=h-e.gb-this.ea-P:h-e.gb-c>e.ha&&
(c=h-e.gb-e.ha):h+c<e.gb?c=e.gb-h:e.gb+e.ha<h+c+this.ea+10+P&&(c=e.gb+e.ha-h-this.ea-P);this.pe.y+d<e.sd&&(d=this.No.getBBox().height);this.Le=c;this.Jg=d}Ai(this);Ci(this)}this.Ik&&this.Ik()};
function Ci(a){var b=[],c=a.ea/2,d=a.Ma/2,e=-a.Le,h=-a.Jg;if(c==e&&d==h)b.push("M "+c+","+d);else{h-=d;e-=c;a.i.j&&(e*=-1);var k=Math.sqrt(h*h+e*e),m=Math.acos(e/k);0>h&&(m=2*Math.PI-m);var r=m+Math.PI/2;r>2*Math.PI&&(r-=2*Math.PI);var p=Math.sin(r),v=Math.cos(r),A=a.ue(),r=(A.width+A.height)/5,r=Math.min(r,A.width,A.height)/4,A=1-8/k,e=c+A*e,h=d+A*h,A=c+r*v,K=d+r*p,c=c-r*v,d=d-r*p,p=m+a.iv;p>2*Math.PI&&(p-=2*Math.PI);m=Math.sin(p)*k/4;k=Math.cos(p)*k/4;b.push("M"+A+","+K);b.push("C"+(A+k)+","+(K+
m)+" "+e+","+h+" "+e+","+h);b.push("C"+e+","+h+" "+(c+k)+","+(d+m)+" "+c+","+d)}b.push("z");a.wj.setAttribute("d",b.join(" "))}f.v=function(a){this.Tf.setAttribute("fill",a);this.wj.setAttribute("fill",a)};f.w=function(){Fi();x(this.wd);this.No=this.jf=this.i=this.md=this.Tf=this.wj=this.wd=null};
// Copyright 2011 Google Inc.  Apache License 2.0
function Mi(a){this.i=a}f=Mi.prototype;f.oe=47;f.eh=44;f.bf=16;f.dj=20;f.Kf=20;f.jh=10;f.lj=0;f.mj=32;f.tf=!1;f.s=null;f.Ui=null;f.jk=0;f.ce=0;f.mb=0;f.Od=0;
f.V=function(){this.s=D("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2),b=D("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.s);D("rect",{width:this.oe,height:this.eh,y:this.bf},b);D("image",{width:Ni,x:-this.lj,height:Oi,y:-this.mj,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.s).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.i.options.Kc+Pi);b=D("clipPath",{id:"blocklyTrashLidClipPath"+a},this.s);D("rect",{width:this.oe,height:this.bf},b);
this.Ui=D("image",{width:Ni,x:-this.lj,height:Oi,y:-this.mj,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.s);this.Ui.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.i.options.Kc+Pi);E(this.s,"mouseup",this,this.click);this.sj();return this.s};f.g=function(a){this.Sf=this.dj+a;Qi(this,!1);return this.Sf+this.eh+this.bf};f.w=function(){this.s&&(x(this.s),this.s=null);this.i=this.Ui=null;g.clearTimeout(this.jk)};
f.position=function(){var a=this.i.ab();a&&(this.i.j?(this.mb=this.Kf+P,2==a.sa&&(this.mb+=a.Oh,this.i.X&&(this.mb+=a.hb))):(this.mb=a.ha+a.hb-this.oe-this.Kf-P,3==a.sa&&(this.mb-=a.Oh)),this.Od=a.Ea+a.vb-(this.eh+this.bf)-this.Sf,1==a.sa&&(this.Od-=a.Kn),this.s.setAttribute("transform","translate("+this.mb+","+this.Od+")"))};f.eg=function(){if(!this.s)return null;var a=this.s.getBoundingClientRect();return new Nd(a.left+this.lj-this.jh,a.top+this.mj-this.jh,this.oe+2*this.jh,this.bf+this.eh+2*this.jh)};
function Qi(a,b){a.tf!=b&&(g.clearTimeout(a.jk),a.tf=b,a.sj())}f.sj=function(){this.ce+=this.tf?.2:-.2;this.ce=ec(this.ce,0,1);var a=45*this.ce;this.Ui.setAttribute("transform","rotate("+(this.i.j?-a:a)+","+(this.i.j?4:this.oe-4)+","+(this.bf-2)+")");this.s.style.opacity=.4+.4*this.ce;0<this.ce&&1>this.ce&&(this.jk=Hh(this.sj,20,this))};f.close=function(){Qi(this,!1)};f.click=function(){var a=this.i.al-this.i.scrollX,b=this.i.bl-this.i.scrollY;Math.sqrt(a*a+b*b)>mh||console.log("TODO: Inspect trash.")};function Ri(a){this.i=a;this.xe=new Si(a,!0,!0);this.We=new Si(a,!1,!0);this.Wf=D("rect",{height:P,width:P,"class":"blocklyScrollbarBackground"},null);Ti(this.Wf,a.Te)}Ri.prototype.Na=null;Ri.prototype.w=function(){x(this.Wf);this.Na=this.i=this.Wf=null;this.xe.w();this.xe=null;this.We.w();this.We=null};
Ri.prototype.resize=function(){var a=this.i.ab();if(a){var b=!1,c=!1;this.Na&&this.Na.ha==a.ha&&this.Na.Ea==a.Ea&&this.Na.vb==a.vb&&this.Na.hb==a.hb?(this.Na&&this.Na.Ob==a.Ob&&this.Na.gb==a.gb&&this.Na.ec==a.ec||(b=!0),this.Na&&this.Na.Gb==a.Gb&&this.Na.sd==a.sd&&this.Na.fc==a.fc||(c=!0)):c=b=!0;b&&this.xe.resize(a);c&&this.We.resize(a);this.Na&&this.Na.ha==a.ha&&this.Na.hb==a.hb||this.Wf.setAttribute("x",this.We.Lc.x);this.Na&&this.Na.Ea==a.Ea&&this.Na.vb==a.vb||this.Wf.setAttribute("y",this.xe.Lc.y);
this.Na=a}};Ri.prototype.set=function(a,b){var c={},d=a*this.xe.Lb,e=b*this.We.Lb,h=this.We.nc;c.x=Ui(d,this.xe.nc);c.y=Ui(e,h);this.i.Oe(c);Vi(this.xe,d);Vi(this.We,e)};function Ui(a,b){var c=a/b;return isNaN(c)?0:c}
function Si(a,b,c){this.i=a;this.Af=c||!1;this.ze=b;this.Na=null;this.zj();this.Lc=new u(0,0);b?(this.bc.setAttribute("height",P),this.pd.setAttribute("height",P-5),this.pd.setAttribute("y",2.5),this.Ag="width",this.xo="x"):(this.bc.setAttribute("width",P),this.pd.setAttribute("width",P-5),this.pd.setAttribute("x",2.5),this.Ag="height",this.xo="y");this.qo=E(this.bc,"mousedown",this,this.Aw);this.so=E(this.pd,"mousedown",this,this.Bw)}var Wi,Xi;Si.prototype.nc=0;Si.prototype.Yd=0;
Si.prototype.qg=0;Si.prototype.Xn=!0;var P=15;He&&(P=25);f=Si.prototype;f.w=function(){Yi();F(this.qo);this.qo=null;F(this.so);this.so=null;x(this.s);this.i=this.pd=this.bc=this.s=null};function Vi(a,b){a.qg=b;a.pd.setAttribute(a.xo,a.qg)}f.setPosition=function(a,b){this.Lc.x=a;this.Lc.y=b;this.s.setAttribute("transform","translate("+this.Lc.x+","+this.Lc.y+")")};
f.resize=function(a){if(!a&&(a=this.i.ab(),!a))return;var b=this.Na;if(!a||!b||a.ha!=b.ha||a.Ea!=b.Ea||a.gb!=b.gb||a.sd!=b.sd||a.vb!=b.vb||a.hb!=b.hb||a.Ob!=b.Ob||a.Gb!=b.Gb||a.ec!=b.ec||a.fc!=b.fc){this.Na=a;if(this.ze){b=a.ha-1;this.Af&&(b-=P);this.nc=Math.max(0,b);this.bc.setAttribute(this.Ag,this.nc);b=a.hb+.5;this.Af&&this.i.j&&(b+=P);this.setPosition(b,a.vb+a.Ea-P-.5);this.Af||this.ga(this.nc<a.Ob);this.Lb=this.nc/a.Ob;if(-Infinity==this.Lb||Infinity==this.Lb||isNaN(this.Lb))this.Lb=0;this.Yd=
Math.max(0,a.ha*this.Lb);this.pd.setAttribute(this.Ag,this.Yd);Vi(this,Zi(this,(a.gb-a.ec)*this.Lb))}else{b=a.Ea-1;this.Af&&(b-=P);this.nc=Math.max(0,b);this.bc.setAttribute(this.Ag,this.nc);b=a.hb+.5;this.i.j||(b+=a.ha-P-1);this.setPosition(b,a.vb+.5);this.Af||this.ga(this.nc<a.Gb);this.Lb=this.nc/a.Gb;if(-Infinity==this.Lb||Infinity==this.Lb||isNaN(this.Lb))this.Lb=0;this.Yd=Math.max(0,a.Ea*this.Lb);this.pd.setAttribute(this.Ag,this.Yd);Vi(this,Zi(this,(a.sd-a.fc)*this.Lb))}$i(this)}};
f.zj=function(){this.s=D("g",{"class":"blocklyScrollbar"+(this.ze?"Horizontal":"Vertical")},null);this.bc=D("rect",{"class":"blocklyScrollbarBackground"},this.s);var a=Math.floor((P-5)/2);this.pd=D("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.s);Ti(this.s,this.i.Te)};f.$=function(){return this.Xn};
f.ga=function(a){if(a!=this.$()){if(this.Af)throw"Unable to toggle visibility of paired scrollbars.";(this.Xn=a)?this.s.setAttribute("display","block"):(this.i.Oe({x:0,y:0}),this.s.setAttribute("display","none"))}};f.Aw=function(a){ah=null;Yi();if(oe(a))a.stopPropagation();else{var b=aj(a,bj(this.i),this.i.wg),b=this.ze?b.x:b.y,c=cj(this.pd,this.i),c=this.ze?c.x:c.y,d=this.qg,e=.95*this.Yd;b<=c?d-=e:b>=c+this.Yd&&(d+=e);Vi(this,Zi(this,d));$i(this);a.stopPropagation();a.preventDefault()}};
f.Bw=function(a){Yi();oe(a)?a.stopPropagation():(this.Rw=this.qg,this.Tw=this.ze?a.clientX:a.clientY,Wi=E(document,"mouseup",this,this.Fw),Xi=E(document,"mousemove",this,this.Dw),a.stopPropagation(),a.preventDefault())};f.Dw=function(a){Vi(this,Zi(this,this.Rw+((this.ze?a.clientX:a.clientY)-this.Tw)));$i(this)};f.Fw=function(){ah=null;Yi()};function Yi(){$g(!0);Wi&&(F(Wi),Wi=null);Xi&&(F(Xi),Xi=null)}function Zi(a,b){return b=0>=b||isNaN(b)||a.nc<a.Yd?0:Math.min(b,a.nc-a.Yd)}
function $i(a){var b=a.qg/a.nc;isNaN(b)&&(b=0);var c={};a.ze?c.x=b:c.y=b;a.i.Oe(c)}f.set=function(a){Vi(this,Zi(this,a*this.Lb));$i(this)};function Ti(a,b){var c=b.nextSibling,d=b.parentNode;if(!d)throw"Reference node has no parent.";c?d.insertBefore(a,c):d.appendChild(a)};function dj(a,b){this.m=a;this.type=b;a.h.yj&&(this.rc=a.h.yj[b],this.Ih=a.h.yj[ej[b]],this.$j=!this.rc)}f=dj.prototype;f.I=null;f.xd=null;f.od=null;f.dc=0;f.Fa=0;f.$d=!1;f.rc=null;f.Ih=null;f.$j=null;
f.Bh=function(a){var b=this,c=b.m,d=a.m;a.I&&a.disconnect();if(b.I){var e=N(b),h=b.od;b.od=null;if(e.bb)h=oi(e),e.w(),e=null;else if(1==b.type){if(!e.G)throw"Orphan block does not have an output connection.";var k=fj(d,e);k&&(e.G.connect(k),e=null)}else if(3==b.type){if(!e.O)throw"Orphan block does not have a previous connection.";for(k=d;k.D;){var m=si(k);if(m&&!m.bb)k=m;else{gj(e.O,k.D)&&(k.D.connect(e.O),e=null);break}}}if(e&&(b.disconnect(),Kd)){var r=Fd;setTimeout(function(){e.h&&!e.getParent()&&
(B(r),e.G?hj(e.G,b):e.O&&hj(e.O,b),B(!1))},ij)}b.od=h}var p;0==H&&(p=new ji(d));jj(b,a);d.Pe(c);p&&(li(p),I(p))};f.w=function(){if(this.I)throw"Disconnect connection before disposing of it.";this.$d&&kj(this.rc,this);lj==this&&(lj=null);mj==this&&(mj=null);this.Ih=this.rc=null};function nj(a){return 1==a.type||3==a.type}function oj(a,b){if(!b)return 3;if(nj(a))var c=a.m,d=b.m;else d=a.m,c=b.m;return c&&c==d?1:b.type!=ej[a.type]?2:c&&d&&c.h!==d.h?5:gj(a,b)?c.bb&&!d.bb?6:0:4}
f.ki=function(a){if(0!=oj(this,a))return!1;if(2==a.type||4==a.type)if(a.I||this.I)return!1;return 1==a.type&&a.I&&!ri(N(a))&&!N(a).bb||4==this.type&&a.I&&!this.m.D&&!N(a).bb&&N(a).D||-1!=pj.indexOf(a)?!1:!0};
f.connect=function(a){if(this.I!=a){switch(oj(this,a)){case 0:break;case 1:throw"Attempted to connect a block to itself.";case 5:throw"Blocks not on same workspace.";case 2:throw"Attempt to connect incompatible types.";case 3:throw"Target connection is null.";case 4:throw"Connection checks failed.";case 6:throw"Connecting non-shadow to shadow block.";default:throw"Unknown connection failure: this should never happen!";}nj(this)?this.Bh(a):a.Bh(this)}};function jj(a,b){a.I=b;b.I=a}
function qj(a,b){for(var c=!1,d=0;d<a.S.length;d++){var e=a.S[d].F;if(e&&1==e.type&&gj(b.G,e)){if(c)return null;c=e}}return c}function fj(a,b){for(var c=a,d;d=qj(c,b);)if(c=N(d),!c||c.bb)return d;return null}f.disconnect=function(){var a=this.I,b,c;nj(this)?(b=this.m,c=a.m,a=this):(b=a.m,c=this.m);this.Kj(b,c);a.Jk()};f.Kj=function(a,b){var c;0==H&&(c=new ji(b));this.I=this.I.I=null;b.Pe(null);c&&(li(c),I(c))};
f.Jk=function(){var a=this.m,b=this.od;if(a.h&&b&&Kd)if(a=ti(b,a.h),a.G)this.connect(a.G);else if(a.O)this.connect(a.O);else throw"Child block does not have output or previous statement.";};function N(a){return a.I?a.I.m:null}function gj(a,b){if(!a.xd||!b.xd)return!0;for(var c=0;c<a.xd.length;c++)if(-1!=b.xd.indexOf(a.xd[c]))return!0;return!1}f.C=function(a){a?(ea(a)||(a=[a]),this.xd=a,this.I&&!gj(this,this.I)&&(mi(nj(this)?N(this):this.m),me(this.m))):this.xd=null;return this};function rj(){}rj.prototype=[];function sj(a,b){if(b.$d)throw"Connection already in database.";b.m.Ib||(a.splice(tj(a,b),0,b),b.$d=!0)}function uj(a,b){if(!a.length)return-1;var c=tj(a,b);if(c>=a.length)return-1;for(var d=b.Fa,e=c;0<=e&&a[e].Fa==d;){if(a[e]==b)return e;e--}for(;c<a.length&&a[c].Fa==d;){if(a[c]==b)return c;c++}return-1}
function tj(a,b){if(!a.length)return 0;for(var c=0,d=a.length;c<d;){var e=Math.floor((c+d)/2);if(a[e].Fa<b.Fa)c=e+1;else if(a[e].Fa>b.Fa)d=e;else{c=e;break}}return c}function kj(a,b){if(!b.$d)throw"Connection not in database.";var c=uj(a,b);if(-1==c)throw"Unable to find connection in connectionDB.";b.$d=!1;a.splice(c,1)}
function vj(a,b){function c(a){var b=e-d[a].dc,c=h-d[a].Fa;20>=Math.sqrt(b*b+c*c)&&p.push(d[a]);return 20>c}for(var d=a,e=b.dc,h=b.Fa,k=0,m=d.length-2,r=m;k<r;)d[r].Fa<h?k=r:m=r,r=Math.floor((k+m)/2);var p=[],m=k=r;if(d.length){for(;0<=k&&c(k);)k--;do m++;while(m<d.length&&c(m))}return p};
// Copyright 2015 Google Inc.  Apache License 2.0
function wj(a){this.i=a}f=wj.prototype;f.oe=32;f.Fl=110;f.dj=20;f.Kf=20;f.s=null;f.mb=0;f.Od=0;
f.V=function(){var a=this.i;this.s=D("g",{"class":"blocklyZoom"},null);var b=String(Math.random()).substring(2),c=D("clipPath",{id:"blocklyZoomoutClipPath"+b},this.s);D("rect",{width:32,height:32,y:77},c);var d=D("image",{width:Ni,height:Oi,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},this.s);d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.options.Kc+Pi);c=D("clipPath",{id:"blocklyZoominClipPath"+b},this.s);D("rect",{width:32,height:32,y:43},c);var e=D("image",{width:Ni,
height:Oi,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+b+")"},this.s);e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.options.Kc+Pi);c=D("clipPath",{id:"blocklyZoomresetClipPath"+b},this.s);D("rect",{width:32,height:32},c);b=D("image",{width:Ni,height:Oi,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},this.s);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.options.Kc+Pi);E(b,"mousedown",null,function(b){a.setScale(a.options.Db.Qo);xj(a);ah=null;b.stopPropagation();
b.preventDefault()});E(e,"mousedown",null,function(b){nd(a,1);ah=null;b.stopPropagation();b.preventDefault()});E(d,"mousedown",null,function(b){nd(a,-1);ah=null;b.stopPropagation();b.preventDefault()});return this.s};f.g=function(a){this.Sf=this.dj+a;return this.Sf+this.Fl};f.w=function(){this.s&&(x(this.s),this.s=null);this.i=null};
f.position=function(){var a=this.i.ab();a&&(this.i.j?(this.mb=this.Kf+P,2==a.sa&&(this.mb+=a.Oh,this.i.X&&(this.mb+=a.hb))):(this.mb=a.ha+a.hb-this.oe-this.Kf-P,3==a.sa&&(this.mb-=a.Oh)),this.Od=a.Ea+a.vb-this.Fl-this.Sf,1==a.sa&&(this.Od-=a.Kn),this.s.setAttribute("transform","translate("+this.mb+","+this.Od+")"))};function yj(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,h=!1,k=!1,m=!1,r=!1;else{var p=a.toolbox;p?("string"!=typeof p&&("undefined"==typeof XSLTProcessor&&p.outerHTML?p=p.outerHTML:p instanceof Element||(p=null)),"string"==typeof p&&(p=kd(p))):p=null;c=p;d=!(!c||!c.getElementsByTagName("category").length);e=a.trashcan;void 0===e&&(e=d);h=a.collapse;void 0===h&&(h=d);k=a.comments;void 0===k&&(k=d);m=a.disable;void 0===m&&(m=d);r=a.sounds;void 0===r&&(r=!0)}var p=!!a.rtl,v=a.horizontalLayout;void 0===
v&&(v=!1);var A=a.toolboxPosition,A="end"===A?!1:!0,K=a.scrollbars;void 0===K&&(K=d);var C=a.css;void 0===C&&(C=!0);var G="https://blockly-demo.appspot.com/static/media/";a.media?G=a.media:a.path&&(G=a.path+"media/");var Nc=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex;this.j=p;this.kc=Nc;this.collapse=h;this.Vf=k;this.disable=m;this.readOnly=b;this.co=a.maxBlocks||Infinity;this.Kc=G;this.cw=d;this.Pn=K;this.fw=e;this.ew=r;this.dw=C;this.Ed=v;this.vf=c;b=a.grid||{};c={};c.spacing=parseFloat(b.spacing)||
0;c.bd=b.colour||"#888";c.length=parseFloat(b.length)||1;c.$x=0<c.spacing&&!!b.snap;this.wc=c;a=a.zoom||{};b={};b.controls=void 0===a.controls?!1:!!a.controls;b.bx=void 0===a.wheel?!1:!!a.wheel;b.Qo=void 0===a.startScale?1:parseFloat(a.startScale);b.Dg=void 0===a.maxScale?3:parseFloat(a.maxScale);b.Fg=void 0===a.minScale?.3:parseFloat(a.minScale);b.Ow=void 0===a.scaleSpeed?1.2:parseFloat(a.scaleSpeed);this.Db=b;this.sa=v?A?0:1:A==p?3:2}yj.prototype.xb=null;yj.prototype.Oe=null;yj.prototype.ab=null;var mh=5,ij=250,gh=750,Ni=96,Oi=124,Pi="sprites.png",ej=[,2,1,4,3];
// Copyright 2014 Google Inc.  Apache License 2.0
function zj(a){zj.o.constructor.call(this,a);this.ab=a.ab||Aj;this.Oe=a.Oe||Bj;a=[];a[1]=new rj;a[2]=new rj;a[3]=new rj;a[4]=new rj;this.yj=a;this.ph=Object.create(null)}n(zj,yd);f=zj.prototype;f.Hi=null;f.M=!0;f.De=!1;f.Wn=!1;f.Pb=0;f.scrollX=0;f.scrollY=0;f.al=0;f.bl=0;f.Hn=null;f.scale=1;f.Wb=null;f.Xa=null;f.$n=null;f.Zn=null;f.wg=null;function Cj(a){var b=bj(a).getScreenCTM();b&&(a.wg=b.inverse())}
f.V=function(a){this.s=D("g",{"class":"blocklyWorkspace"},null);a&&(this.bc=D("rect",{height:"100%",width:"100%","class":a},this.s),"blocklyMainBackground"==a&&(this.bc.style.fill="url(#"+this.options.Xd.id+")"));this.Ab=D("g",{"class":"blocklyBlockCanvas"},this.s);this.Te=D("g",{"class":"blocklyBubbleCanvas"},this.s);a=P;this.options.fw&&(a=Dj(this,a));this.options.Db&&this.options.Db.controls&&(a=Ej(this,a));if(!this.De){E(this.s,"mousedown",this,this.Ge);var b=this;E(this.s,"touchstart",null,function(a){eh(a,
b)});this.options.Db&&this.options.Db.bx&&E(this.s,"wheel",this,this.Gw)}this.options.cw?this.X=new Fj(this):this.options.vf&&Gj(this);Hj(this);Ij(this);return this.s};
f.w=function(){this.M=!1;zj.o.w.call(this);this.s&&(x(this.s),this.s=null);this.Te=this.Ab=null;this.X&&(this.X.w(),this.X=null);this.P&&(this.P.w(),this.P=null);this.Wb&&(this.Wb.w(),this.Wb=null);this.Xa&&(this.Xa.w(),this.Xa=null);this.Xe&&(this.Xe.w(),this.Xe=null);this.options.xb||x(bj(this).parentNode);this.Hi&&(F(this.Hi),this.Hi=null)};f.Ic=function(a,b){return new Jj(this,a,b)};function Dj(a,b){a.Wb=new Mi(a);var c=a.Wb.V();a.s.insertBefore(c,a.Ab);return a.Wb.g(b)}
function Ej(a,b){a.Xe=new wj(a);var c=a.Xe.V();a.s.appendChild(c);return a.Xe.g(b)}function Gj(a){a.P=new Kj({Yf:a.options.Yf,xb:a,j:a.j,kc:a.options.kc,Ed:a.Ed,sa:a.options.sa});a.P.Rf=!1;var b=a.P.V();a.s.insertBefore(b,a.Ab)}function xi(a){a.Xa&&a.Xa.resize();Cj(a)}f.resize=function(){this.X&&this.X.position();this.P&&this.P.position();this.Wb&&this.Wb.position();this.Xe&&this.Xe.position();this.Xa&&this.Xa.resize();Cj(this);Ij(this)};
function bj(a){if(a.Wm)return a.Wm;for(var b=a.s;b;){if("svg"==b.tagName)return a.Wm=b;b=b.parentNode}return null}f.translate=function(a,b){var c="translate("+a+","+b+") scale("+this.scale+")";this.Ab.setAttribute("transform",c);this.Te.setAttribute("transform",c)};f.Gc=function(){var a=this.ab();return a?a.ha/this.scale:0};f.ga=function(a){bj(this).style.display=a?"block":"none";this.X&&(this.X.Sc.style.display=a?"block":"none");a?(this.T(),this.X&&this.X.position()):$g(!0)};
f.T=function(){for(var a=this.uc(),b=a.length-1;0<=b;b--)a[b].T(!1)};function Lj(a,b){a.il=b;a.jl&&(F(a.jl),a.jl=null);b&&(a.jl=E(a.Ab,"blocklySelectChange",a,function(){this.il=!1}))}f.ak=function(a){this.il&&0!=Mj&&Lj(this,!1);if(this.il){var b=null;if(a&&(b=this.Wc[a]||null,!b))return;Lj(this,!1);b?b.select():Q&&Nj(Q);var c=this;setTimeout(function(){Lj(c,!0)},1)}};
function Oj(a){var b=Pj;if(a.M&&!(b.getElementsByTagName("block").length>=Id(a))){Qj();H++;try{var c=ti(b,a),d=parseInt(b.getAttribute("x"),10),e=parseInt(b.getAttribute("y"),10);if(!isNaN(d)&&!isNaN(e)){a.j&&(d=-d);do{for(var b=!1,h=a.uc(),k=0,m;m=h[k];k++){var r=m.ua();if(1>=Math.abs(d-r.x)&&1>=Math.abs(e-r.y)){b=!0;break}}if(!b)for(var p=c.fd(!1),k=0,v;v=p[k];k++)if(v.closest(20,new u(d,e)).F){b=!0;break}b&&(d=a.j?d-20:d+20,e+=40)}while(b);c.moveBy(d,e)}}finally{H--}0==H&&!c.bb&&I(new fi(c));c.select()}}
f.kf=function(a){zj.o.kf.call(this,a);if(this.X&&this.X.P&&!Rj){a=this.X;var b=a.zc.hd();b&&b.Xc&&a.P.show(b.Xc)}};function Ij(a){a.Bn=a.Wb?a.Wb.eg():null;a.An=a.P?a.P.eg():a.X?a.X.eg():null}function Sj(a,b){var c=new u(b.clientX,b.clientY);if(a.Bn){if(a.Bn.contains(c))return Qi(a.Wb,!0),jh(Tj),!0;Qi(a.Wb,!1)}if(a.An&&a.An.contains(c))return jh(Tj),!0;jh(Ji);return!1}
f.Ge=function(a){this.wf();Ii(a)?ah=null:(Qj(),$g(),a.target&&a.target.nodeName&&("svg"==a.target.nodeName.toLowerCase()||a.target==this.bc)&&Q&&!this.options.readOnly&&Nj(Q),oe(a)?(this.Rg(a),ah=null):this.Xa&&(this.Pb=1,this.Uw=a.clientX,this.Vw=a.clientY,this.Sw=this.ab(),this.al=this.scrollX,this.bl=this.scrollY,"mouseup"in ch&&(bh=bh||[],bh=bh.concat(E(document,"mouseup",null,hh))),sd=sd||[],sd=sd.concat(E(document,"mousemove",null,lh))),a.stopPropagation(),a.preventDefault())};
function Ki(a,b,c){b=aj(b,bj(a),a.wg);b.x/=a.scale;b.y/=a.scale;a.Hn=gc(c,b)}function Li(a,b){var c=aj(b,bj(a),a.wg);c.x/=a.scale;c.y/=a.scale;var d=a.Hn;return new u(d.x+c.x,d.y+c.y)}function pe(a){return 2==Mj||Rj&&2==Rj.Pb||2==a.Pb}f.Gw=function(a){Qj();var b=0<a.deltaY?-1:1,c=aj(a,bj(this),this.wg);this.zoom(c.x,c.y,b);a.preventDefault()};
function Uj(a){a=Ed(a,!1);if(!a.length)return{x:0,y:0,width:0,height:0};for(var b=Vj(a[0]),c=1;c<a.length;c++){var d=Vj(a[c]);d.yc.x<b.yc.x&&(b.yc.x=d.yc.x);d.Zc.x>b.Zc.x&&(b.Zc.x=d.Zc.x);d.yc.y<b.yc.y&&(b.yc.y=d.yc.y);d.Zc.y>b.Zc.y&&(b.Zc.y=d.Zc.y)}return{x:b.yc.x,y:b.yc.y,width:b.Zc.x-b.yc.x,height:b.Zc.y-b.yc.y}}f.ov=function(){B(!0);for(var a=Ed(this,!0),b=0,c=0,d;d=a[c];c++){var e=d.ua();d.moveBy(-e.x,b-e.y);Wj(d);b=d.ua().y+Xj(d).height+25}B(!1);xi(this)};
f.Rg=function(a){function b(a){if(qi(a))A=A.concat(Vg(a));else{a=a.ve();for(var c=0;c<a.length;c++)b(a[c])}}function c(){B(h);var a=A.shift();a&&(a.h?(a.w(!1,!0),setTimeout(c,10)):c());B(!1)}if(!this.options.readOnly&&!this.De){var d=[],e=Ed(this,!0),h=zd(),k={};k.text=L.$u;k.enabled=0<this.Ve.length;k.Za=this.kl.bind(this,!1);d.push(k);k={};k.text=L.Nt;k.enabled=0<this.Ig.length;k.Za=this.kl.bind(this,!0);d.push(k);this.Xa&&(k={},k.text=L.ep,k.enabled=1<e.length,k.Za=this.ov.bind(this),d.push(k));
if(this.options.collapse){for(var m=k=!1,r=0;r<e.length;r++)for(var p=e[r];p;)p.isCollapsed()?k=!0:m=!0,p=si(p);var v=function(a){for(var b=0,c=0;c<e.length;c++)for(var d=e[c];d;)setTimeout(d.ke.bind(d,a),b),d=si(d),b+=10},m={enabled:m};m.text=L.fp;m.Za=function(){v(!0)};d.push(m);k={enabled:k};k.text=L.$p;k.Za=function(){v(!1)};d.push(k)}for(var A=[],r=0;r<e.length;r++)b(e[r]);k={text:1==A.length?L.Cl:L.El.replace("%1",String(A.length)),enabled:0<A.length,Za:function(){(2>A.length||window.confirm(L.Tp.replace("%1",
String(A.length))))&&c()}};d.push(k);Yj.show(a,d,this.j)}};function Zj(a,b,c){if(b.length){try{var d=new window.Audio}catch(r){return}for(var e,h=0;h<b.length;h++){var k=b[h],m=k.match(/\.(\w+)$/);if(m&&d.canPlayType("audio/"+m[1])){e=new window.Audio(k);break}}e&&e.play&&(a.ph[c]=e)}}function ak(a,b,c){var d=a.ph[b];d?(b=new Date,100>b-a.$n||(a.$n=b,a=Yb&&9===Yb||Rb||Pb?d:d.cloneNode(),a.volume=void 0===c?1:c,a.play())):a.options.xb&&ak(a.options.xb,b,c)}
f.wf=function(){this.options.xb?this.options.xb.wf():ih=this};f.zoom=function(a,b,c){var d=this.options.Db.Ow,e=this.ab(),h=bj(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(this.Ab.getCTM().inverse());a=h.x;b=h.y;h=this.Ab;d=1==c?d:1/d;c=this.scale*d;c>this.options.Db.Dg?d=this.options.Db.Dg/this.scale:c<this.options.Db.Fg&&(d=this.options.Db.Fg/this.scale);this.scale!=c&&(this.Xa&&(a=h.getCTM().translate(a*(1-d),b*(1-d)).scale(d),this.scrollX=a.e-e.hb,this.scrollY=a.f-e.vb),this.setScale(c))};
function nd(a,b){var c=a.ab();a.zoom(c.ha/2,c.Ea/2,b)}function md(a){var b=a.ab(),c=Uj(a),d=c.width,c=c.height;if(d){var e=b.ha,h=b.Ea;a.P&&(e-=a.P.ea);a.Xa||(d+=b.ec,c+=b.fc);a.setScale(Math.min(e/d,h/c));xj(a)}}function xj(a){if(a.Xa){var b=a.ab(),c=(b.Ob-b.ha)/2;a.P&&(c-=a.P.ea/2);a.Xa.set(c,(b.Gb-b.Ea)/2)}}
f.setScale=function(a){this.options.Db.Dg&&a>this.options.Db.Dg?a=this.options.Db.Dg:this.options.Db.Fg&&a<this.options.Db.Fg&&(a=this.options.Db.Fg);this.scale=a;Hj(this);this.Xa?this.Xa.resize():this.translate(this.scrollX,this.scrollY);$g(!1);this.P&&this.P.Hk()};
function Hj(a){if(a.options.Xd){var b=a.options.wc.spacing*a.scale||100;a.options.Xd.setAttribute("width",b);a.options.Xd.setAttribute("height",b);var b=Math.floor(a.options.wc.spacing/2)+.5,c=b-a.options.wc.length/2,d=b+a.options.wc.length/2,e=a.options.Xd.firstChild,h=e&&e.nextSibling,b=b*a.scale,c=c*a.scale,d=d*a.scale;e&&(e.setAttribute("stroke-width",a.scale),e.setAttribute("x1",c),e.setAttribute("y1",b),e.setAttribute("x2",d),e.setAttribute("y2",b));h&&(h.setAttribute("stroke-width",a.scale),
h.setAttribute("x1",b),h.setAttribute("y1",c),h.setAttribute("x2",b),h.setAttribute("y2",d))}}
function Aj(){var a=bk(bj(this));if(this.X)if(0==this.sa||1==this.sa)a.height-=this.X.we();else if(2==this.sa||3==this.sa)a.width-=this.X.Gc();var b=Kj.prototype.Z-1,c=a.width-b,d=a.height-b,e=Uj(this),h=e.width*this.scale,k=e.height*this.scale,m=e.x*this.scale,r=e.y*this.scale;this.Xa?(b=Math.min(m-c/2,m+h-c),c=Math.max(m+h+c/2,m+c),h=Math.min(r-d/2,r+k-d),d=Math.max(r+k+d/2,r+d)):(b=e.x,c=b+e.width,h=e.y,d=h+e.height);e=0;this.X&&2==this.sa&&(e=this.X.Gc());k=0;this.X&&0==this.sa&&(k=this.X.we());
return{Ea:a.height,ha:a.width,Gb:d-h,Ob:c-b,sd:-this.scrollY,gb:-this.scrollX,fc:h,ec:b,vb:k,hb:e,hy:this.X?this.X.Gc():0,gy:this.X?this.X.we():0,Oh:this.P?this.P.Gc():0,Kn:this.P?this.P.we():0,sa:this.sa}}
function Bj(a){if(!this.Xa)throw"Attempt to set top level workspace scroll without scrollbars.";var b=this.ab();ga(a.x)&&(this.scrollX=-b.Ob*a.x-b.ec);ga(a.y)&&(this.scrollY=-b.Gb*a.y-b.fc);a=this.scrollX+b.hb;b=this.scrollY+b.vb;this.translate(a,b);this.options.Xd&&(this.options.Xd.setAttribute("x",a),this.options.Xd.setAttribute("y",b),q&&Hj(this))}zj.prototype.setVisible=zj.prototype.ga;function ck(a){this.N=a}f=ck.prototype;f.cn=!0;f.kj=17;f.Va=null;f.Ae=null;function dk(a){a.Sb||(a.Sb=D("g",{"class":"blocklyIconGroup"},null),a.N.Ib&&ge(a.Sb,"blocklyIconGroupReadonly"),a.Lj(a.Sb),a.N.xa().appendChild(a.Sb),E(a.Sb,"mouseup",a,a.bk),a.Qd())}f.w=function(){x(this.Sb);this.Sb=null;this.ga(!1);this.N=null};f.Qd=function(){};f.$=function(){return!!this.Va};f.bk=function(a){pe(this.N.h)||this.N.Ib||oe(a)||this.ga(!this.$())};f.Pd=function(){this.$()&&this.Va.v(this.N.cd)};
function ek(a){var b=a.N.ua(),c=fk(a.Sb),b=new u(b.x+c.x+a.kj/2,b.y+c.y+a.kj/2);fc(a.Ae,b)||(a.Ae=b,a.$()&&(a=a.Va,a.pe=b,a.Mg&&Ai(a)))};function gk(a){gk.o.constructor.call(this,null);this.Co=a}n(gk,ck);f=gk.prototype;f.If=0;f.dh=0;
f.Lj=function(a){D("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);D("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
D("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};f.bk=function(a){fe(this.N)&&ck.prototype.bk.call(this,a)};f.Aj=function(){this.Ug=D("svg",{x:Bi,y:Bi},null);if(this.Co.length)for(var a=w("xml"),b=0,c;c=this.Co[b];b++)a.appendChild(w("block",{type:c}));else a=null;a={vf:a,xb:this.N.h,Kc:this.N.h.options.Kc,j:this.N.j,sa:this.N.j?3:2,Ed:!1,ab:this.Mv.bind(this),Oe:null};this.i=new zj(a);this.i.Wn=!0;this.Ug.appendChild(this.i.V("blocklyMutatorBackground"));return this.Ug};
f.Qd=function(){this.N.Ib||(fe(this.N)?this.Sb&&he(this.Sb,"blocklyIconGroupReadonly"):(this.ga(!1),this.Sb&&ge(this.Sb,"blocklyIconGroupReadonly")));ck.prototype.Qd.call(this)};
f.Fi=function(){var a=2*Bi,b=this.i.Ab.getBBox(),c;c=this.N.j?-b.x:b.width+b.x;b=b.height+3*a;if(this.i.P)var d=this.i.P.gg(),b=Math.max(b,d.Gb+20);c+=3*a;if(Math.abs(this.If-c)>a||Math.abs(this.dh-b)>a)this.If=c,this.dh=b,this.Va.je(c+a,b+a),this.Ug.setAttribute("width",this.If),this.Ug.setAttribute("height",this.dh);this.N.j&&this.i.Ab.setAttribute("transform","translate("+this.If+",0)");this.i.resize()};
f.ga=function(a){if(a!=this.$())if(I(new ni(this.N,"mutatorOpen",!a,a)),a){this.Va=new yi(this.N.h,this.Aj(),this.N.qd,this.Ae,null,null);if(a=this.i.options.vf)this.i.P.g(this.i),this.i.P.show(a.childNodes);this.Id=this.N.lf(this.i);a=Vg(this.Id);for(var b=0,c;c=a[b];b++)c.T();this.Id.Li(!1);this.Id.Fj=!1;this.i.P?(a=2*this.i.P.Z,b=this.i.P.ea+a):b=a=16;this.N.j&&(b=-b);this.Id.moveBy(b,a);if(this.N.Ng){var d=this;this.N.Ng(this.Id);this.Oi=function(){d.N.Ng(d.Id)};this.N.h.Bc(this.Oi)}this.Fi();
this.i.Bc(this.gx.bind(this));this.Pd()}else this.Ug=null,this.i.w(),this.Id=this.i=null,this.Va.w(),this.Va=null,this.dh=this.If=0,this.Oi&&(this.N.h.Me(this.Oi),this.Oi=null)};
f.gx=function(){if(0==Mj)for(var a=Ed(this.i,!1),b=0,c;c=a[b];b++){var d=c.ua(),e=Xj(c);20>d.y+e.height&&c.moveBy(0,20-e.height-d.y)}if(this.Id.h==this.i){B(!0);c=this.N;a=(a=c.qa())&&od(a);b=c.M;c.M=!1;c.hf(this.Id);c.M=b;c.Yb();b=(b=c.qa())&&od(b);if(a!=b){I(new ne(c,"mutation",null,a,b));var h=Fd;setTimeout(function(){B(h);me(c);B(!1)},ij)}c.M&&c.T();this.Fi();B(!1)}};f.Mv=function(){return{Ea:this.dh,ha:this.If,vb:0,hb:0}};f.w=function(){this.N.jc=null;ck.prototype.w.call(this)};
function hk(a,b,c){if(!a||!a.m.h)return!1;c=O(b,c).F;var d=N(a);return d&&d!=b||c.I==a?!1:(c.I&&c.disconnect(),c.connect(a),!0)}g.Blockly||(g.Blockly={});g.Blockly.Mutator||(g.Blockly.Mutator={});g.Blockly.Mutator.reconnect=hk;function ik(a){ik.o.constructor.call(this,a);dk(this)}n(ik,ck);f=ik.prototype;f.ra="";f.ea=160;f.Ma=80;f.Lj=function(a){D("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);D("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.405 0.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25 -1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);D("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
f.Aj=function(){this.cg=D("foreignObject",{x:Bi,y:Bi},null);var a=document.createElementNS("http://www.w3.org/1999/xhtml","body");a.setAttribute("xmlns","http://www.w3.org/1999/xhtml");a.className="blocklyMinimalBody";var b=document.createElementNS("http://www.w3.org/1999/xhtml","textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.N.j?"RTL":"LTR");a.appendChild(b);this.rd=b;this.cg.appendChild(a);E(b,"mouseup",this,this.Yw);E(b,"wheel",this,function(a){a.stopPropagation()});
E(b,"change",this,function(){this.ra!=b.value&&(I(new ne(this.N,"comment",null,this.ra,b.value)),this.ra=b.value)});setTimeout(function(){b.focus()},0);return this.cg};f.Qd=function(){this.$()&&(this.ga(!1),this.ga(!0));ck.prototype.Qd.call(this)};f.Fi=function(){if(this.$()){var a=this.Va.ue(),b=2*Bi;this.cg.setAttribute("width",a.width-b);this.cg.setAttribute("height",a.height-b);this.rd.style.width=a.width-b-4+"px";this.rd.style.height=a.height-b-4+"px"}};
f.ga=function(a){if(a!=this.$())if(I(new ni(this.N,"commentOpen",!a,a)),!fe(this.N)&&!this.rd||q)jk.prototype.ga.call(this,a);else{var b=this.kb(),c=this.ue();a?(this.Va=new yi(this.N.h,this.Aj(),this.N.qd,this.Ae,this.ea,this.Ma),a=this.Fi.bind(this),this.Va.Ik=a,this.Pd()):(this.Va.w(),this.cg=this.rd=this.Va=null);this.cb(b);this.je(c.width,c.height)}};f.Yw=function(){Hi(this.Va);this.rd.focus()};f.ue=function(){return this.$()?this.Va.ue():{width:this.ea,height:this.Ma}};
f.je=function(a,b){this.rd?this.Va.je(a,b):(this.ea=a,this.Ma=b)};f.kb=function(){return this.rd?this.rd.value:this.ra};f.cb=function(a){this.ra!=a&&(I(new ne(this.N,"comment",null,this.ra,a)),this.ra=a);this.rd&&(this.rd.value=a)};f.w=function(){0==H&&this.cb("");this.N.Ha=null;ck.prototype.w.call(this)};var kk=!1,lk=0,mk=0,nk=0,ok=0,pk=null,qk=null,rk=null;function sk(a){tk(a,"mouseover",null,uk);tk(a,"mouseout",null,vk);a.addEventListener("mousemove",wk,!1)}function uk(a){for(a=a.target;!l(a.Vb)&&!ha(a.Vb);)a=a.Vb;pk!=a&&(xk(),qk=null,pk=a);clearTimeout(lk)}function vk(){lk=setTimeout(function(){qk=pk=null;xk()},1);clearTimeout(mk)}
function wk(a){if(pk&&pk.Vb&&0==Mj&&!yk)if(kk){var b=nk-a.pageX;a=ok-a.pageY;10<Math.sqrt(b*b+a*a)&&xk()}else qk!=pk&&(clearTimeout(mk),nk=a.pageX,ok=a.pageY,mk=setTimeout(zk,750))}function xk(){kk&&(kk=!1,rk&&(rk.style.display="none"));clearTimeout(mk)}
function zk(){qk=pk;if(rk){uc(rk);for(var a=pk.Vb;ha(a);)a=a();for(var a=Ak(a,50),a=a.split("\n"),b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));rk.appendChild(c)}a=pk.j;b=nc();rk.style.direction=a?"rtl":"ltr";rk.style.display="block";kk=!0;var c=nk,c=a?c-(0+rk.offsetWidth):c+0,d=ok+10;d+rk.offsetHeight>b.height+window.scrollY&&(d-=rk.offsetHeight+20);a?c=Math.max(5-window.scrollX,c):c+rk.offsetWidth>b.width+window.scrollX-10&&(c=b.width-rk.offsetWidth-
10);rk.style.top=d+"px";rk.style.left=c+"px"}};function Bk(a,b){this.Ta=new $b(0,17.5);this.bn=b;this.setValue(a)}n(Bk,be);f=Bk.prototype;f.Ye=!1;f.g=function(){this.Ba||(this.Ba=D("text",{"class":"blocklyText",y:this.Ta.height-5},null),this.bn&&ge(this.Ba,this.bn),this.Oa||(this.Ba.style.display="none"),this.m.xa().appendChild(this.Ba),this.Ba.Vb=this.m,sk(this.Ba),ee(this))};f.w=function(){x(this.Ba);this.Ba=null};f.xa=function(){return this.Ba};f.A=function(a){this.Ba.Vb=a};function Ck(a,b,c,d){this.type=a;this.name=b;this.m=c;this.F=d;this.Sa=[]}f=Ck.prototype;f.align=-1;f.Oa=!0;function R(a,b,c){if(!b&&!c)return a;l(b)&&(b=new Bk(b));b.m=a.m;a.m.M&&b.g();b.name=c;b.Ck&&R(a,b.Ck);a.Sa.push(b);b.dl&&R(a,b.dl);a.m.M&&(a.m.T(),me(a.m));return a}function Ek(a,b){for(var c=0,d;d=a.Sa[c];c++)if(d.name===b){d.w();a.Sa.splice(c,1);a.m.M&&(a.m.T(),me(a.m));break}}f.$=function(){return this.Oa};
f.ga=function(a){var b=[];if(this.Oa==a)return b;for(var c=(this.Oa=a)?"block":"none",d=0,e;e=this.Sa[d];d++)e.ga(a);if(this.F){if(a)b=Fk(this.F);else if(d=this.F,Gk(d,!0),d.I)for(d=Vg(N(d)),e=0;e<d.length;e++){for(var h=d[e],k=h.fd(!0),m=0;m<k.length;m++)Gk(k[m],!0);h=Hk(h);for(m=0;m<h.length;m++)h[m].ga(!1)}if(d=N(this.F))d.xa().style.display=c,a||(d.M=!1)}return b};f.C=function(a){if(!this.F)throw"This input does not have a connection.";this.F.C(a);return this};
function Ik(a,b){a.align=b;a.m.M&&a.m.T();return a}f.g=function(){if(this.m.h.M)for(var a=0;a<this.Sa.length;a++)this.Sa[a].g()};f.w=function(){for(var a=0,b;b=this.Sa[a];a++)b.w();this.F&&this.F.w();this.m=null};function jk(a){jk.o.constructor.call(this,a);dk(this);this.ra={}}n(jk,ck);f=jk.prototype;f.cn=!1;f.Lj=function(a){D("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);D("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);D("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
f.ga=function(a){if(a!=this.$())if(I(new ni(this.N,"warningOpen",!a,a)),a){var b=this.kb();a=D("text",{"class":"blocklyText blocklyBubbleText",y:Bi},null);for(var b=b.split("\n"),c=0;c<b.length;c++)D("tspan",{dy:"1em",x:Bi},a).appendChild(document.createTextNode(b[c]));this.Va=new yi(this.N.h,a,this.N.qd,this.Ae,null,null);if(this.N.j)for(var b=a.getBBox().width,c=0,d;d=a.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",b+Bi);this.Pd();a=this.Va.ue();this.Va.je(a.width,a.height)}else this.Va.w(),
this.Va=null};f.cb=function(a,b){this.ra[b]!=a&&(a?this.ra[b]=a:delete this.ra[b],this.$()&&(this.ga(!1),this.ga(!0)))};f.kb=function(){var a=[],b;for(b in this.ra)a.push(this.ra[b]);return a.join("\n")};f.w=function(){this.N.qc=null;ck.prototype.w.call(this)};function Hd(a,b,c){this.id=c&&!a.Wc[c]?c:zd();a.Wc[this.id]=this;this.O=this.D=this.G=null;this.S=[];this.ae=void 0;this.disabled=!1;this.Vb="";this.contextMenu=!0;this.kd=null;this.$c=[];this.In=this.io=this.Fj=!0;this.ad=this.bb=!1;this.Ha=null;this.ap=new u(0,0);this.h=a;this.Ib=a.De;this.lw=a.Wn;this.j=a.j;if(b){this.type=b;b=z[b];for(var d in b)this[d]=b[d]}Bd(a,this);ha(this.g)&&this.g();this.kw=this.ae;0==H&&I(new fi(this));ha(this.onchange)&&(this.wk=this.onchange.bind(this),this.h.Bc(this.wk))}
f=Hd.prototype;f.data=null;f.cd="#000000";f.w=function(a){if(this.h){this.wk&&this.h.Me(this.wk);mi(this,a);0==H&&I(new hi(this));H++;try{this.h&&(Dd(this.h,this),delete this.h.Wc[this.id],this.h=null);for(var b=this.$c.length-1;0<=b;b--)this.$c[b].w(!1);for(var b=0,c;c=this.S[b];b++)c.w();this.S.length=0;for(var d=this.fd(!0),b=0;b<d.length;b++){var e=d[b];e.I&&e.disconnect();d[b].w()}}finally{H--}}};
function mi(a,b){if(a.G)a.G.I&&a.G.disconnect();else if(a.O){var c=null;a.O.I&&(c=a.O.I,a.O.disconnect());var d=si(a);b&&d&&(d=a.D.I,d.disconnect(),c&&gj(c,d)&&c.connect(d))}}f.fd=function(){var a=[];this.G&&a.push(this.G);this.O&&a.push(this.O);this.D&&a.push(this.D);for(var b=0,c;c=this.S[b];b++)c.F&&a.push(c.F);return a};
function me(a){if(a.h&&0==Mj){var b=Jk(a);if(!b.Ib){a=a.fd(!1);for(var c=0,d;d=a[c];c++){d.I&&nj(d)&&me(N(d));var e;e=vj(d.Ih,d);for(var h=0,k;k=e[h];h++)d.I&&k.I||Jk(k.m)!=b&&(nj(d)?hj(k,d):hj(d,k))}}}}f.getParent=function(){return this.kd};function Kk(a){do{var b=a;a=a.getParent();if(!a)return null}while(si(a)==b);return a}function si(a){return a.D&&N(a.D)}function Jk(a){var b=a;do a=b,b=a.kd;while(b);return a}f.ve=function(){return this.$c};
f.Pe=function(a){if(a!=this.kd){if(this.kd){Wa(this.kd.$c,this);if(this.O&&this.O.I)throw"Still connected to previous block.";if(this.G&&this.G.I)throw"Still connected to parent block.";this.kd=null}else Dd(this.h,this);(this.kd=a)?a.$c.push(this):Bd(this.h,this)}};function Vg(a){for(var b=[a],c,d=0;c=a.$c[d];d++)b.push.apply(b,Vg(c));return b}function qi(a){return a.Fj&&!a.bb&&!(a.h&&a.h.options.readOnly)}function ri(a){return a.io&&!a.bb&&!(a.h&&a.h.options.readOnly)}f.Li=function(a){this.io=a};
f.Vk=function(a){this.bb=a};function fe(a){return a.In&&!(a.h&&a.h.options.readOnly)}f.Rk=function(a){this.In=a;a=0;for(var b;b=this.S[a];a++)for(var c=0,d;d=b.Sa[c];c++)d.Qd()};function vi(a,b){if(!b&&a.isCollapsed()){if(a.G&&Gk(a.G,b),a.O&&Gk(a.O,b),a.D){Gk(a.D,b);var c=N(a.D);c&&vi(c,b)}}else for(var d=a.fd(!0),e=0;c=d[e];e++)Gk(c,b),nj(c)&&(c=N(c))&&vi(c,b)}f.A=function(a){this.Vb=a};
f.v=function(a){var b=parseFloat(a);if(isNaN(b))if(l(a)&&a.match(/^#[0-9a-fA-F]{6}$/))this.cd=a;else throw"Invalid colour: "+a;else this.cd=Bh(Fh(b))};function ii(a,b){for(var c=0,d;d=a.S[c];c++)for(var e=0,h;h=d.Sa[e];e++)if(h.name===b)return h;return null}f.kg=function(){for(var a=[],b=0,c;c=this.S[b];b++)for(var d=0,e;e=c.Sa[d];d++)e instanceof Yg&&a.push(e.getValue());return a};f.ge=function(a,b){for(var c=0,d;d=this.S[c];c++)for(var e=0,h;h=d.Sa[e];e++)h instanceof Yg&&xd(a,h.getValue())&&h.setValue(b)};
function M(a,b){var c=ii(a,b);return c?c.getValue():null}function Lk(a,b,c){ii(a,c).setValue(b)}f.H=function(a,b){a?(void 0===b&&(b=null),this.O||(this.O=this.Bg(4)),this.O.C(b)):this.O&&(this.O.w(),this.O=null)};f.K=function(a,b){a?(void 0===b&&(b=null),this.D||(this.D=this.Bg(3)),this.D.C(b)):this.D&&(this.D.w(),this.D=null)};f.na=function(a,b){a?(void 0===b&&(b=null),this.G||(this.G=this.Bg(2)),this.G.C(b)):this.G&&(this.G.w(),this.G=null)};
f.Pa=function(a){this.ae!=a&&(I(new ne(this,"inline",null,this.ae,a)),this.ae=a)};function Mk(a){if(void 0!=a.ae)return a.ae;for(var b=1;b<a.S.length;b++)if(5==a.S[b-1].type&&5==a.S[b].type)return!1;for(b=1;b<a.S.length;b++)if(1==a.S[b-1].type&&5==a.S[b].type)return!0;return!1}f.Df=function(a){this.disabled!=a&&(I(new ne(this,"disabled",null,this.disabled,a)),this.disabled=a)};function Nk(a){for(;;){a=Kk(a);if(!a)return!1;if(a.disabled)return!0}}f.isCollapsed=function(){return this.ad};
f.ke=function(a){this.ad!=a&&(I(new ne(this,"collapsed",null,this.ad,a)),this.ad=a)};f.toString=function(a,b){var c=[],d=b||"?";if(this.ad)c.push(O(this,"_TEMP_COLLAPSED_INPUT").Sa[0].ra);else for(var e=0,h;h=this.S[e];e++){for(var k=0,m;m=h.Sa[k];k++)c.push(m.kb());h.F&&((h=N(h.F))?c.push(h.toString(void 0,b)):c.push(d))}c=ta(c.join(" "))||"???";a&&c.length>a&&(c=c.substring(0,a-3)+"...");return c};function S(a,b){return a.Pf(1,b)}function T(a,b){return a.Pf(3,b)}
function U(a,b){return a.Pf(5,b||"")}
function V(a,b){void 0!==b.colour&&a.v(b.colour);for(var c=0;void 0!==b["message"+c];){var d=a,e=b["args"+c]||[],h=b["lastDummyAlign"+c],k,m=[],r=b["message"+c].split("");r.push("");k=0;for(var p=[],v=null,A=0;A<r.length;A++){var K=r[A];0==k?"%"==K?k=1:p.push(K):1==k?"%"==K?(p.push(K),k=0):"0"<=K&&"9">=K?(k=2,v=K,(K=p.join(""))&&m.push(K),p.length=0):(p.push("%",K),k=0):2==k&&("0"<=K&&"9">=K?v+=K:(m.push(parseInt(v,10)),A--,k=0))}(K=p.join(""))&&m.push(K);k=m;p=0;m=[];for(r=0;r<k.length;r++)v=k[r],
"number"==typeof v?(p++,m.push(e[v-1])):(v=v.trim())&&m.push(v);!m.length||"string"!=typeof m[m.length-1]&&0!=m[m.length-1].type.lastIndexOf("field_",0)||(e={type:"input_dummy"},h&&(e.align=h),m.push(e));h={LEFT:-1,RIGHT:1,CENTRE:0};e=[];for(r=0;r<m.length;r++)if(p=m[r],"string"==typeof p)e.push([p,void 0]);else{k=v=null;do if(A=!1,"string"==typeof p)v=new Bk(p);else switch(p.type){case "input_value":k=S(d,p.name);break;case "input_statement":k=T(d,p.name);break;case "input_dummy":k=U(d,p.name);break;
case "field_label":v=new Bk(p.text,p["class"]);break;case "field_input":v=new oh(p.text);"boolean"==typeof p.spellcheck&&(v.Pi=p.spellcheck);break;case "field_angle":v=new Ok(p.angle);break;case "field_checkbox":v=new Pk(p.checked?"TRUE":"FALSE");break;case "field_colour":v=new Qk(p.colour);break;case "field_variable":v=new Yg(p.variable);break;case "field_dropdown":v=new J(p.options);break;case "field_image":v=new Rk(p.src,p.width,p.height,p.alt);break;case "field_number":v=new vh(p.value,p.min,
p.max,p.precision);break;case "field_date":if(rd.$i){v=new rd.$i(p.date);break}default:p.alt&&(p=p.alt,A=!0)}while(A);if(v)e.push([v,p.name]);else if(k){p.check&&k.C(p.check);p.align&&Ik(k,h[p.align]);for(p=0;p<e.length;p++)R(k,e[p][0],e[p][1]);e.length=0}}c++}void 0!==b.inputsInline&&a.Pa(b.inputsInline);void 0!==b.output&&a.na(!0,b.output);void 0!==b.previousStatement&&a.H(!0,b.previousStatement);void 0!==b.nextStatement&&a.K(!0,b.nextStatement);void 0!==b.tooltip&&a.A(b.tooltip);void 0!==b.helpUrl&&
(a.L=b.helpUrl)}f.Pf=function(a,b){var c=null;if(1==a||3==a)c=this.Bg(a);c=new Ck(a,b,this,c);this.S.push(c);return c};function Sk(a,b,c){if(b!=c){for(var d=-1,e=c?-1:a.S.length,h=0,k;k=a.S[h];h++)if(k.name==b){if(d=h,-1!=e)break}else if(c&&k.name==c&&(e=h,-1!=d))break;a.pk(d,e)}}f.pk=function(a,b){var c=this.S[a];this.S.splice(a,1);a<b&&b--;this.S.splice(b,0,c)};
f.aa=function(a){for(var b=0,c;c=this.S[b];b++)if(c.name==a){c.F&&c.F.I&&(c.F.od=null,a=N(c.F),a.bb?a.w():mi(a));c.w();this.S.splice(b,1);break}};function O(a,b){for(var c=0,d;d=a.S[c];c++)if(d.name==b)return d;return null}function Tk(a,b){var c=O(a,b);return c&&c.F&&N(c.F)}f.Uh=function(){return this.Ha||""};f.Jd=function(a){this.Ha!=a&&(I(new ne(this,"comment",null,this.Ha,a||"")),this.Ha=a)};f.eb=function(){};f.Kd=function(){};f.ua=function(){return this.ap};
f.moveBy=function(a,b){var c=new ji(this);this.ap.translate(a,b);li(c);I(c)};f.Bg=function(a){return new dj(this,a)};function Kj(a){a.ab=this.gg.bind(this);a.Oe=this.Pw.bind(this);this.i=new zj(a);this.i.De=!0;this.j=!!a.j;this.ya=a.Ed;this.cc=a.sa;this.Mj=[];this.vj=[];this.uh=[];this.Zb=[];this.zk=[];this.Ri=this.Si=0}var Rj=null,Uk=null,Vk=null,Wk=null,Xk=null,Yk=null;f=Kj.prototype;f.Rf=!0;f.Z=8;f.Xp=10;f.td=Kj.prototype.Z;f.fq=3*Kj.prototype.td;f.gq=3*Kj.prototype.td;f.df=2;f.ea=0;f.Ma=0;f.Pb=0;f.Fv=70;
f.V=function(){this.s=D("g",{"class":"blocklyFlyout"},null);this.bc=D("path",{"class":"blocklyFlyoutBackground"},this.s);this.s.appendChild(this.i.V());return this.s};f.g=function(a){this.Ub=a;this.i.Gf=a;this.nd=new Si(this.i,this.ya,!1);this.Cd();Array.prototype.push.apply(this.Mj,E(this.s,"wheel",this,this.ex));this.Rf||(this.Nh=this.Nj.bind(this),this.Ub.Bc(this.Nh));Array.prototype.push.apply(this.Mj,E(this.s,"mousedown",this,this.Ge))};
f.w=function(){this.Cd();F(this.Mj);this.Nh&&(this.Ub.Me(this.Nh),this.Nh=null);this.nd&&(this.nd.w(),this.nd=null);this.i&&(this.i.Gf=null,this.i.w(),this.i=null);this.s&&(x(this.s),this.s=null);this.Ub=this.bc=null};f.Gc=function(){return this.ea};f.we=function(){return this.Ma};
f.gg=function(){if(!this.$())return null;try{var a=this.i.Ab.getBBox()}catch(h){a={height:0,y:0,width:0,x:0}}var b=this.df,c=this.df;if(this.ya){1==this.cc&&(b=0);var d=this.Ma;0==this.cc&&(d+=this.td-this.df);var e=this.ea-2*this.df}else c=0,d=this.Ma-2*this.df,e=this.ea,this.j||(e-=this.df);return{Ea:d,ha:e,Gb:(a.height+2*this.td)*this.i.scale,Ob:(a.width+2*this.td)*this.i.scale,sd:-this.i.scrollY,gb:-this.i.scrollX,fc:a.y,ec:a.x,vb:b,hb:c}};
f.Pw=function(a){var b=this.gg();b&&(!this.ya&&ga(a.y)?this.i.scrollY=-b.Gb*a.y:this.ya&&ga(a.x)&&(this.i.scrollX=-b.Ob*a.x),this.i.translate(this.i.scrollX+b.hb,this.i.scrollY+b.vb))};
f.position=function(){if(this.$()){var a=this.Ub.ab();if(a){var b=this.ya?a.ha:this.ea,b=b-this.Z;3==this.cc&&(b*=-1);var c=this.ya?this.Ma:a.Ea;if(this.ya){var d=0==this.cc,e=["M 0,"+(d?0:this.Z)];d?(e.push("h",b+this.Z),e.push("v",c),e.push("a",this.Z,this.Z,0,0,1,-this.Z,this.Z),e.push("h",-1*(b-this.Z)),e.push("a",this.Z,this.Z,0,0,1,-this.Z,-this.Z)):(e.push("a",this.Z,this.Z,0,0,1,this.Z,-this.Z),e.push("h",b-this.Z),e.push("a",this.Z,this.Z,0,0,1,this.Z,this.Z),e.push("v",c-this.Z),e.push("h",
-b-this.Z))}else d=3==this.cc,e=["M "+(d?this.ea:0)+",0"],e.push("h",b),e.push("a",this.Z,this.Z,0,0,d?0:1,d?-this.Z:this.Z,this.Z),e.push("v",Math.max(0,c-2*this.Z)),e.push("a",this.Z,this.Z,0,0,d?0:1,d?this.Z:-this.Z,this.Z),e.push("h",-b);e.push("z");this.bc.setAttribute("d",e.join(" "));b=a.hb;3==this.cc&&(b+=a.ha,b-=this.ea);c=a.vb;1==this.cc&&(c+=a.Ea,c-=this.Ma);this.s.setAttribute("transform","translate("+b+","+c+")");this.ya?this.ea=a.ha:this.Ma=a.Ea;this.nd&&this.nd.resize()}}};
function Zk(a){a.nd.set(a.ya&&a.j?Infinity:0)}f.ex=function(a){var b=this.ya?a.deltaX:a.deltaY;if(b){Mb&&(b*=10);var c=this.gg(),b=this.ya?c.gb+b:c.sd+b,b=Math.min(b,this.ya?c.Ob-c.ha:c.Gb-c.Ea),b=Math.max(b,0);this.nd.set(b)}a.preventDefault();a.stopPropagation()};f.$=function(){return this.s&&"block"==this.s.style.display};f.Cd=function(){if(this.$()){this.s.style.display="none";for(var a=0,b;b=this.Zb[a];a++)F(b);this.Zb.length=0;this.fe&&(this.i.Me(this.fe),this.fe=null)}};
f.show=function(a){this.Cd();$k(this);a==vd?a=Wg(this.i.Gf):"PROCEDURE"==a&&(a=ue(this.i.Gf));this.s.style.display="block";for(var b=[],c=[],d=this.zk.length=0,e;e=a[d];d++)if(e.tagName){var h=e.tagName.toUpperCase(),k=this.ya?this.fq:this.gq;"BLOCK"==h?(h=ti(e,this.i),h.disabled&&this.zk.push(h),b.push({type:"block",block:h}),e=parseInt(e.getAttribute("gap"),10),c.push(isNaN(e)?k:e)):"SEP"==e.tagName.toUpperCase()?(e=parseInt(e.getAttribute("gap"),10),!isNaN(e)&&0<c.length?c[c.length-1]=e:c.push(k)):
"BUTTON"==h&&(e=e.getAttribute("text"),b.push({type:"button",button:new $h(this.i,this.Ub,e)}),c.push(k))}al(this,b,c);this.Zb.push(E(this.bc,"mouseover",this,function(){for(var a=Ed(this.i,!1),b=0,c;c=a[b];b++)c.Kg()}));this.ya?this.Ma=0:this.ea=0;this.Hk();this.Nj();this.position();this.fe=this.Hk.bind(this);this.i.Bc(this.fe)};
function al(a,b,c){a.i.scale=a.Ub.scale;var d=a.td,e=a.j?d:d+8;a.ya&&a.j&&(b=b.reverse());for(var h=0,k;k=b[h];h++)if("block"==k.type){k=k.block;for(var m=Vg(k),r=0,p;p=m[r];r++)p.Ib=!0;k.T();r=k.xa();m=Xj(k);p=k.G?8:0;a.ya&&(e+=p);k.moveBy(a.ya&&a.j?e+m.width-p:e,d);a.ya?e+=m.width+c[h]-p:d+=m.height+c[h];p=D("rect",{"fill-opacity":0},null);p.Vb=k;sk(p);a.i.Ab.insertBefore(p,k.xa());k.Ec=p;a.vj[h]=p;m=a;m.Zb.push(E(r,"mousedown",null,bl(m,k)));m.Zb.push(E(p,"mousedown",null,bl(m,k)));m.Zb.push(tk(r,
"mouseover",k,k.sh));m.Zb.push(tk(r,"mouseout",k,k.Kg));m.Zb.push(tk(p,"mouseover",k,k.sh));m.Zb.push(tk(p,"mouseout",k,k.Kg))}else"button"==k.type&&(k=k.button,m=k.V(),k.moveTo(e,d),k.show(),E(m,"mouseup",k,k.Ew),a.uh.push(k),a.ya?e+=k.width+c[h]:d+=k.height+c[h])}function $k(a){for(var b=Ed(a.i,!1),c=0,d;d=b[c];c++)d.h==a.i&&d.w(!1,!1);for(c=0;b=a.vj[c];c++)x(b);for(c=a.vj.length=0;b=a.uh[c];c++)b.w();a.uh.length=0}
function bl(a,b){return function(c){oe(c)?(Qj(),$g(!0),b.Rg(c),ah=null):(Qj(),$g(!0),jh(Ji),a.Si=c.clientY,a.Ri=c.clientX,Uk=c,Vk=b,Rj=a,Wk=E(document,"mouseup",a,a.Gg),Yk=E(document,"mousemove",a,a.Cw));c.stopPropagation();c.preventDefault()}}f.Ge=function(a){oe(a)?ah=null:($g(!0),this.Pb=2,this.Si=a.clientY,this.Ri=a.clientX,Rj=this,Xk=E(document,"mousemove",this,this.zi),Wk=E(document,"mouseup",this,bi),a.preventDefault(),a.stopPropagation())};
f.Gg=function(){pe(this.i)||(ah=null,this.Rf?cl(this)(Uk):yk||I(new ni(Vk,"click",void 0,void 0)));Qj()};f.zi=function(a){var b=this.gg();if(this.ya){if(!(0>b.Ob-b.ha)){var c=a.clientX-this.Ri;this.Ri=a.clientX;a=b.gb-c;a=ec(a,0,b.Ob-b.ha);this.nd.set(a)}}else 0>b.Gb-b.Ea||(c=a.clientY-this.Si,this.Si=a.clientY,a=b.sd-c,a=ec(a,0,b.Gb-b.Ea),this.nd.set(a))};
f.Cw=function(a){if(!("mousemove"==a.type&&1>=a.clientX&&0==a.clientY&&0==a.button)){var b;b=a.clientX-Uk.clientX;var c=a.clientY-Uk.clientY;if(2==this.Pb)b=!1;else if(Math.sqrt(b*b+c*c)<this.Xp)this.Pb=1,b=!1;else{b=Math.atan2(c,b)/Math.PI*180;var c=!1,d=this.Fv;if(this.ya)0==this.cc?b<90+d&&b>90-d&&(c=!0):b>-90-d&&b<-90+d&&(c=!0);else if(2==this.cc)b<d&&b>-d&&(c=!0);else if(b<-180+d||b>180-d)c=!0;c||!this.nd.$()?b=!0:(this.Pb=2,b=!1)}b?(fh(),cl(this)(Uk)):2==this.Pb&&(fh(),this.zi(a))}a.stopPropagation()};
function cl(a){var b=Vk;return function(c){if(!oe(c)&&!b.disabled){H++;try{var d,e=a.Ub,h=b.xa();if(!h)throw"originBlock is not rendered.";var k=cj(h,e),m=a.i.scrollX,r=a.i.scale;k.x+=m/r-m;3==a.cc&&(m=e.ab().ha-a.ea,r=e.scale,k.x+=m/r-m);var p=a.i.scrollY,r=a.i.scale;k.y+=p/r-p;1==a.cc&&(p=e.ab().Ea-a.Ma,r=e.scale,k.y+=p/r-p);var v=oi(b),A=ti(v,e),K=A.xa();if(!K)throw"block is not rendered.";var C=cj(K,e);C.x+=e.scrollX/e.scale-e.scrollX;C.y+=e.scrollY/e.scale-e.scrollY;e.X&&!e.Xa&&(C.x+=e.X.Gc()/
e.scale,C.y+=e.X.we()/e.scale);A.moveBy(k.x-C.x,k.y-C.y);d=A}finally{H--}0==H&&(B(!0),I(new fi(d)));a.Rf?a.Cd():a.Nj();d.Ge(c);Mj=2;dl(d,!0)}}}f.Nj=function(){for(var a=Id(this.Ub),b=Ed(this.i,!1),c=0,d;d=b[c];c++)if(-1==this.zk.indexOf(d)){var e=Vg(d);d.Df(e.length>a)}};
f.eg=function(){if(!this.s)return null;var a=this.s.getBoundingClientRect(),b=a.left,c=a.top,d=a.width,a=a.height;return 0==this.cc?new Nd(-1E9,c-1E9,2E9,1E9+a):1==this.cc?new Nd(-1E9,c,2E9,1E9+a):2==this.cc?new Nd(b-1E9,-1E9,1E9+d,2E9):new Nd(b,-1E9,1E9+d,2E9)};function bi(){Rj&&(2==Rj.Pb&&(ah=null),Rj.Pb=0,Rj=null);Wk&&(F(Wk),Wk=null);Yk&&(F(Yk),Yk=null);Xk&&(F(Xk),Xk=null);Vk=Uk=null}
f.Hk=function(){this.fe&&this.i.Me(this.fe);var a=Ed(this.i,!1);if(this.ya){this.i.scale=this.Ub.scale;for(var b=0,c=0,d;d=a[c];c++)b=Math.max(b,Xj(d).height);b+=1.5*this.td;b*=this.i.scale;b+=P;if(this.Ma!=b){for(c=0;d=a[c];c++){var e=Xj(d);if(d.Ec){d.Ec.setAttribute("width",e.width);d.Ec.setAttribute("height",e.height);var h=d.G?8:0,k=d.ua();d.Ec.setAttribute("y",k.y);d.Ec.setAttribute("x",this.j?k.x-e.width+h:k.x-h);(e=d.$k?15:0)&&d.moveBy(0,e);d.Ec.setAttribute("y",k.y)}}this.Ma=b;this.Ub.resize()}}else{this.i.scale=
this.Ub.scale;for(c=b=0;d=a[c];c++)k=Xj(d).width,d.G&&(k-=8),b=Math.max(b,k);for(c=0;d=this.uh[c];c++)b=Math.max(b,d.width);b+=1.5*this.td+8;b*=this.i.scale;b+=P;if(this.ea!=b){for(c=0;d=a[c];c++)k=Xj(d),this.j&&(e=d.ua().x,h=b/this.i.scale-this.td,h-=8,d.moveBy(h-e,0)),d.Ec&&(d.Ec.setAttribute("width",k.width),d.Ec.setAttribute("height",k.height),h=d.G?8:0,e=d.ua(),d.Ec.setAttribute("x",this.j?e.x-k.width+h:e.x-h),(k=d.$k?15:0)&&d.moveBy(0,k),d.Ec.setAttribute("y",e.y));this.ea=b;this.Ub.resize()}}this.fe&&
this.i.Bc(this.fe)};function el(a){if(a.jg&&"function"==typeof a.jg)return a.jg();if(l(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b};function fl(a){this.Cb=void 0;this.Eb={};if(a){var b;if(a.Yh&&"function"==typeof a.Yh)b=a.Yh();else if(a.jg&&"function"==typeof a.jg)b=void 0;else if(fa(a)||l(a)){b=[];for(var c=a.length,d=0;d<c;d++)b.push(d)}else for(d in b=[],c=0,a)b[c++]=d;a=el(a);for(c=0;c<b.length;c++)this.set(b[c],a[c])}}f=fl.prototype;f.set=function(a,b){gl(this,a,b,!1)};f.add=function(a,b){gl(this,a,b,!0)};
function gl(a,b,c,d){for(var e=0;e<b.length;e++){var h=b.charAt(e);a.Eb[h]||(a.Eb[h]=new fl);a=a.Eb[h]}if(d&&void 0!==a.Cb)throw Error('The collection already contains the key "'+b+'"');a.Cb=c}f.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.Eb[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.Cb:void 0};f.jg=function(){var a=[];hl(this,a);return a};function hl(a,b){void 0!==a.Cb&&b.push(a.Cb);for(var c in a.Eb)hl(a.Eb[c],b)}
f.Yh=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.Eb[e])return[];c=c.Eb[e]}il(c,a,b)}else il(this,"",b);return b};function il(a,b,c){void 0!==a.Cb&&c.push(b);for(var d in a.Eb)il(a.Eb[d],b+d,c)}f.clear=function(){this.Eb={};this.Cb=void 0};
f.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var e=a.charAt(d);if(!b.Eb[e])throw Error('The collection does not have the key "'+a+'"');c.push([b,e]);b=b.Eb[e]}a=b.Cb;for(delete b.Cb;0<c.length;)if(e=c.pop(),b=e[0],e=e[1],b.Eb[e].Vn())delete b.Eb[e];else break;return a};f.clone=function(){return new fl(this)};f.Vn=function(){var a;if(a=void 0===this.Cb)a:{a=this.Eb;for(var b in a){a=!1;break a}a=!0}return a};function jl(){this.Ee=new fl;this.ib="";this.ri=this.kk=null;this.xf=this.Cg=0}function kl(a,b){var c=b.kb();if(c&&!/^[\s\xa0]*$/.test(null==c?"":String(c))){var c=c.toLowerCase(),d=a.Ee.get(c);if(d){for(var e=rf(b),h=0;h<e;h++)kl(a,sf(b,h));Wa(d,b);d.length||a.Ee.remove(c)}}}function ll(a,b){var c=!1,d=a.Ee.Yh(b);d&&d.length&&(a.xf=0,a.Cg=0,c=a.Ee.get(d[0]),c=ml(a,c))&&(a.kk=d);return c}function ml(a,b){var c;b&&(a.xf<b.length&&(c=b[a.xf],a.ri=b),c&&(c.Kk(),c.select()));return!!c}
jl.prototype.clear=function(){this.ib=""};var nl="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function ol(){}ol.prototype.next=function(){throw nl;};ol.prototype.Qm=function(){return this};function pl(a){if(a instanceof ol)return a;if("function"==typeof a.Qm)return a.Qm();if(fa(a)){var b=0,c=new ol;c.next=function(){for(;;){if(b>=a.length)throw nl;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}function ql(a){try{return pl(a).next()}catch(b){if(b!=nl)throw b;return null}};function rl(a){hf.call(this);this.W=a;a=q?"focusout":"blur";this.mw=Ue(this.W,q?"focusin":"focus",this,!q);this.nw=Ue(this.W,a,this,!q)}n(rl,hf);rl.prototype.handleEvent=function(a){var b=new Oe(a.dd);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};rl.prototype.Ia=function(){rl.o.Ia.call(this);af(this.mw);af(this.nw);delete this.W};function sl(a,b,c){Ih.call(this,a,b,c);this.ag=!0;Rh(this,!0);this.Ya=this;this.Yg=new jl;this.Oj=this.Jb=null;this.Pj=!1;this.Kv=null;this.Yk=this.Re=this.Xk=this.Sg=!0;if(q)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(d){}}n(sl,Ih);f=sl.prototype;f.Rb=function(){return this};f.pf=function(){return 0};f.Kk=function(){};f.Tv=function(){this.Pj=!0;yf(this.B(),"focused");this.Ya&&this.Ya.select()};f.Ov=function(){this.Pj=!1;Af(this.B(),"focused")};f.hasFocus=function(){return this.Pj};
f.Xb=function(){return!this.Re||sl.o.Xb.call(this)};f.Nc=function(a){this.Re?sl.o.Nc.call(this,a):this.ag=a};f.Rj=function(){return Cb};f.Wh=function(){var a=Ph(this);return a?a.firstChild:null};f.Vh=function(){return null};f.Hf=function(){};f.hg=function(){return sl.o.hg.call(this)+(this.Re?"":" "+this.La.un)};f.Rh=function(){var a=this.Xb(),b=this.Jv;if(a&&b)return b;b=this.iw;if(!a&&b)return b;b=this.La;return a&&b.tn?b.qe+" "+b.tn:!a&&b.pn?b.qe+" "+b.pn:""};
f.pc=function(a){if(this.Ya!=a){var b=!1;this.Ya&&(b=this.Ya==this.Kv,Rh(this.Ya,!1));if(this.Ya=a)Rh(a,!0),b&&a.select();this.dispatchEvent("change")}};f.hd=function(){return this.Ya};function tl(a){0!=a.Sg&&(a.Sg=!1,a.oa&&ul(a))}function ul(a){function b(a){var h=Mh(a);if(h){var m=!d||c==a.getParent()&&!e?a.La.mn:a.La.ln;h.className=m;if(h=a.Vh())h.className=Vh(a)}qf(a,b)}var c=a,d=c.Sg,e=c.Yk;b(a)}function vl(a){0!=a.Xk&&(a.Xk=!1,a.oa&&ul(a))}
function wl(a){if(0!=a.Re){a.Re=!1;if(a.oa){var b=Ph(a);b&&(b.className=a.hg())}a.hd()==a&&sf(a,0)&&a.pc(sf(a,0))}}f.ii=function(){sl.o.ii.call(this);var a=this.B();Ff(a,"tree");Gf(a,"labelledby",Lh(this).id)};
f.jb=function(){sl.o.jb.call(this);var a=this.B();a.className=this.La.xn;a.setAttribute("hideFocus","true");a=this.B();a.tabIndex=0;var b=this.Jb=new Uf(a),c=this.Oj=new rl(a);of(this).ba(c,"focusout",this.Ov).ba(c,"focusin",this.Tv).ba(b,"key",this.xc).ba(a,"mousedown",this.Vj).ba(a,"click",this.Vj).ba(a,"dblclick",this.Vj);this.ii()};f.tc=function(){sl.o.tc.call(this);this.Jb.w();this.Jb=null;this.Oj.w();this.Oj=null};
f.Vj=function(a){var b=xl(this,a);if(b)switch(a.type){case "mousedown":b.vk(a);break;case "click":a.preventDefault();break;case "dblclick":b.oo(a)}};
f.xc=function(a){var b;b=this.Yg;var c=!1;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){var c=40==a.keyCode?1:-1,d=b.kk;if(d){var e=null,h=!1;if(b.ri){var k=b.xf+c;0<=k&&k<b.ri.length?(b.xf=k,e=b.ri):h=!0}e||(k=b.Cg+c,0<=k&&k<d.length&&(b.Cg=k),d.length>b.Cg&&(e=b.Ee.get(d[b.Cg])),e&&e.length&&h&&(b.xf=-1==c?e.length-1:0));ml(b,e)&&(b.kk=d)}c=!0}break;case 8:d=b.ib.length-1;c=!0;0<d?(b.ib=b.ib.substring(0,d),ll(b,b.ib)):0==d?b.ib="":c=!1;break;case 27:b.ib="",c=!0}(b=c||this.Ya&&this.Ya.tk(a))||
(b=this.Yg,c=!1,a.ctrlKey||a.altKey||(d=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),(1==d.length&&" "<=d&&"~">=d||"\u0080"<=d&&"\ufffd">=d)&&(" "!=d||b.ib)&&(b.ib+=d,c=ll(b,b.ib))),b=c);b&&a.preventDefault();return b};function xl(a,b){for(var c,d=b.target;null!=d;){if(c=Kh[d.id])return c;if(d==a.B())break;d=d.parentNode}return null}f.createNode=function(a){return new Zh(a||Cb,this.La,this.Qb())};
function Xh(a,b){var c=a.Yg,d=b.kb();if(d&&!/^[\s\xa0]*$/.test(null==d?"":String(d))){var d=d.toLowerCase(),e=c.Ee.get(d);e?e.push(b):c.Ee.set(d,[b])}}f.removeNode=function(a){kl(this.Yg,a)};function Fj(a){this.i=a;this.j=a.options.j;this.ya=a.options.Ed;this.sa=a.options.sa;this.La={dk:19,xn:"blocklyTreeRoot",un:"blocklyHidden",vn:"",Dj:"blocklyTreeRow",wn:"blocklyTreeLabel",qe:"blocklyTreeIcon",Bj:"blocklyTreeIconOpen",Cj:"blocklyTreeIconNone",yn:"blocklyTreeSelected"};this.Wo={Dj:"blocklyTreeSeparator"};this.ya&&(this.La.cssTreeRow+=a.j?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.Wo.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.j?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.La.cssTreeIcon="")}f=Fj.prototype;f.width=0;f.height=0;f.zg=null;
f.g=function(){var a=this.i,b=bj(this.i);this.Sc=w("DIV","blocklyToolboxDiv");this.Sc.setAttribute("dir",a.j?"RTL":"LTR");b.parentNode.insertBefore(this.Sc,b);E(this.Sc,"mousedown",this,function(a){oe(a)||a.target==this.Sc?$g(!1):$g(!0);ah=null});this.P=new Kj({Yf:a.options.Yf,xb:a,j:a.j,kc:a.options.kc,Ed:a.Ed,sa:a.options.sa});vc(this.P.V(),a.s);this.P.g(a);this.La.cleardotPath=a.options.Kc+"1x1.gif";this.La.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.j?"Rtl":"Ltr");this.zc=b=new yl(this,
this.La);wl(b);tl(b);vl(b);b.pc(null);a=zl(this,a.options.vf);b.T(this.Sc);a&&b.pc(a);Al(this);this.position()};f.w=function(){this.P.w();this.zc.w();x(this.Sc);this.zg=this.i=null};f.Gc=function(){return this.width};f.we=function(){return this.height};
f.position=function(){var a=this.Sc;if(a){var b=bj(this.i);Td(b);b=bk(b);this.ya?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,0==this.sa?a.style.top="0":a.style.bottom="0"):(3==this.sa?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.P.position()}};
function zl(a,b){a.zc.Fo();a.zc.Xc=[];a.On=!1;var c=Bl(a,b,a.zc,a.i.options.Kc);if(a.zc.Xc.length)throw"Toolbox cannot have both blocks and categories in the root level.";xi(a.i);return c}
function Bl(a,b,c,d){for(var e=null,h=null,k=0,m;m=b.childNodes[k];k++)if(m.tagName)switch(m.tagName.toUpperCase()){case "CATEGORY":h=a.zc.createNode(m.getAttribute("name"));h.Xc=[];c.add(h);var r=m.getAttribute("custom");r?h.Xc=r:(r=Bl(a,m,h,d))&&(e=r);r=m.getAttribute("colour");l(r)?(r.match(/^#[0-9a-fA-F]{6}$/)?h.di=r:h.di=Bh(Fh(r)),a.On=!0):h.di="";"true"==m.getAttribute("expanded")?(h.Xc.length&&(e=h),h.Nc(!0)):h.Nc(!1);h=m;break;case "SEP":h&&("CATEGORY"==h.tagName.toUpperCase()?c.add(new Cl(a.Wo)):
(m=parseFloat(m.getAttribute("gap")),!isNaN(m)&&h&&h.setAttribute("gap",m)));break;case "BLOCK":case "SHADOW":c.Xc.push(m),h=m}return e}function Al(a,b){for(var c=(b||a.zc).ve(),d=0,e;e=c[d];d++){var h=Ph(e);if(h){var k=a.On?"8px solid "+(e.di||"#ddd"):"none";a.i.j?h.style.borderRight=k:h.style.borderLeft=k}Al(a,e)}}
f.eg=function(){if(!this.Sc)return null;var a=this.Sc.getBoundingClientRect(),b=a.left,c=a.top,d=a.width,a=a.height;return 2==this.sa?new Nd(-1E7,-1E7,1E7+b+d,2E7):3==this.sa?new Nd(b,-1E7,1E7+d,2E7):0==this.sa?new Nd(-1E7,-1E7,2E7,1E7+c+a):new Nd(0,c,2E7,1E7+d)};function yl(a,b){this.X=a;sl.call(this,Cb,b)}n(yl,sl);yl.prototype.jb=function(){yl.o.jb.call(this);var a=this.B();He&&E(a,"touchstart",this,this.aw)};
yl.prototype.aw=function(a){a.preventDefault();var b=xl(this,a);b&&"touchstart"===a.type&&setTimeout(function(){b.vk(a)},1)};yl.prototype.createNode=function(a){return new Dl(this.X,a?vb(a):Cb,this.La,this.Qb())};
yl.prototype.pc=function(a){var b=this.X;if(a!=this.Ya&&a!=b.zc){b.zg&&(Ph(b.zg).style.backgroundColor="");if(a){var c=a.di||"#57e";Ph(a).style.backgroundColor=c;Al(b,a)}c=this.hd();sl.prototype.pc.call(this,a);a&&a.Xc&&a.Xc.length?(b.P.show(a.Xc),b.zg!=a&&Zk(b.P)):b.P.Cd();c!=a&&c!=this&&(c=new ni(null,"category",c&&ub(c.sg),a&&ub(a.sg)),c.Rc=b.i.id,I(c));a&&(b.zg=a)}};function Dl(a,b,c,d){Ih.call(this,b,c,d);a&&(this.ya=a.ya,b=function(){uh(a.i)},Ue(a.zc,"expand",b),Ue(a.zc,"collapse",b))}
n(Dl,Zh);Dl.prototype.Rj=function(){return Ab("span")};Dl.prototype.vk=function(){uf(this)&&this.xg?(this.toggle(),this.select()):this.li()?this.Rb().pc(null):this.select();Sh(this)};Dl.prototype.oo=function(){};Dl.prototype.tk=function(a){this.ya&&(a.keyCode={39:40,37:38,38:37,40:39}[a.keyCode]||a.keyCode);return Dl.o.tk.call(this,a)};function Cl(a){Dl.call(this,null,"",a)}n(Cl,Dl);function ge(a,b){var c=a.getAttribute("class")||"";-1==(" "+c+" ").indexOf(" "+b+" ")&&(c&&(c+=" "),a.setAttribute("class",c+b))}function he(a,b){var c=a.getAttribute("class");if(-1!=(" "+c+" ").indexOf(" "+b+" ")){for(var c=c.split(/\s+/),d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class")}}
function E(a,b,c,d,e){function h(a){var b=!e;a=nh(a);for(var h=0,m;m=a[h];h++){var p;(p=!b)||(p=!(0==m.type.lastIndexOf("touch",0)||0==m.type.lastIndexOf("mouse",0)))||(p=m.changedTouches&&m.changedTouches[0]&&void 0!=m.changedTouches[0].identifier&&null!=m.changedTouches[0].identifier?m.changedTouches[0].identifier:"mouse",void 0!=ah&&null!=ah?p=ah==p:"mousedown"==m.type||"touchstart"==m.type?(ah=p,p=!0):p=!1);if(p){p=m;if(0==p.type.lastIndexOf("touch",0)){var r=p.changedTouches[0];p.clientX=r.clientX;
p.clientY=r.clientY}c?d.call(c,m):d(m);k=!0}}}var k=!1;a.addEventListener(b,h,!1);var m=[[a,b,h]];if(b in ch)for(var r=function(a){h(a);k&&a.preventDefault()},p=0,v;v=ch[b][p];p++)a.addEventListener(v,r,!1),m.push([a,v,r]);return m}
function tk(a,b,c,d){function e(a){c?d.call(c,a):d(a)}a.addEventListener(b,e,!1);var h=[[a,b,e]];if(b in ch)for(var k=function(a){if(1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}e(a);a.preventDefault()},m=0,r;r=ch[b][m];m++)a.addEventListener(r,k,!1),h.push([a,r,k]);return h}function F(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}}function El(a){a.preventDefault();a.stopPropagation()}
function Ii(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable}function fk(a){var b=new u(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(a=(a=a.getAttribute("transform"))&&a.match(Fl))b.x+=parseFloat(a[1]),a[3]&&(b.y+=parseFloat(a[3]));return b}var Fl=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/;
function cj(a,b){var c=0,d=0,e=1;if(wc(b.Ab,a)||wc(b.Te,a))e=b.scale;do{var h=fk(a);if(a==b.Ab||a==b.Te)e=1;c+=h.x*e;d+=h.y*e;a=a.parentNode}while(a&&a!=bj(b));return new u(c,d)}function D(a,b,c){a=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a}function oe(a){return a.ctrlKey&&Ob?!0:2==a.button}
function aj(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)}function Sg(a){if(!a.length)return 0;for(var b=a[0].length,c=1;c<a.length;c++)b=Math.min(b,a[c].length);return b}function Tg(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;for(var c=0,d=b||Sg(a),e=0;e<d;e++){for(var h=a[0][e],k=1;k<a.length;k++)if(h!=a[k][e])return c;" "==h&&(c=e+1)}for(k=1;k<a.length;k++)if((h=a[k][e])&&" "!=h)return c;return d}
function Ug(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;for(var c=0,d=b||Sg(a),e=0;e<d;e++){for(var h=a[0].substr(-e-1,1),k=1;k<a.length;k++)if(h!=a[k].substr(-e-1,1))return c;" "==h&&(c=e+1)}for(k=1;k<a.length;k++)if((h=a[k].charAt(a[k].length-e-1))&&" "!=h)return c;return d}function Gl(a){return!!a.match(/^\s*-?\d+(\.\d+)?\s*$/)}function zd(){for(var a=Hl.length,b=[],c=0;20>c;c++)b[c]=Hl.charAt(Math.random()*a);return b.join("")}var Hl="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
function Ak(a,b){for(var c=a.split("\n"),d=0;d<c.length;d++){var e=d,h;var k=c[d];h=b;if(k.length<=h)h=k;else{for(var m=k.trim().split(/\s+/),r=0;r<m.length;r++)m[r].length>h&&(h=m[r].length);var p,r=-Infinity,v,A=1;do{p=r;v=k;for(var k=[],K=m.length/A,C=1,r=0;r<m.length-1;r++)C<(r+1.5)/K?(C++,k[r]=!0):k[r]=!1;for(var k=Il(m,k,h),r=Jl(m,k,h),K=m,C=[],G=0;G<K.length;G++)C.push(K[G]),void 0!==k[G]&&C.push(k[G]?"\n":" ");k=C.join("");A++}while(r>p);h=v}c[e]=h}return c.join("\n")}
function Jl(a,b,c){for(var d=[0],e=[],h=0;h<a.length;h++)d[d.length-1]+=a[h].length,!0===b[h]?(d.push(0),e.push(a[h].charAt(a[h].length-1))):!1===b[h]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(h=b=0;h<d.length;h++)b-=2*Math.pow(Math.abs(c-d[h]),1.5),b-=Math.pow(a-d[h],1.5),-1!=".?!".indexOf(e[h])?b+=c/3:-1!=",;)]}".indexOf(e[h])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b}
function Il(a,b,c){for(var d=Jl(a,b,c),e,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var m=Jl(a,k,c);m>d&&(d=m,e=k)}return e?Il(a,e,c):b};function Kl(a){hf.call(this);this.uf=[];Ll(this,a)}n(Kl,hf);f=Kl.prototype;f.Ya=null;f.Nk=null;f.Mn=function(a){return this.uf[a]||null};function Ll(a,b){b&&(Ra(b,function(a){this.Og(a,!1)},a),Za(a.uf,b))}f.removeItem=function(a){a&&Wa(this.uf,a)&&a==this.Ya&&(this.Ya=null,this.dispatchEvent("select"))};f.hd=function(){return this.Ya};f.pc=function(a){a!=this.Ya&&(this.Og(this.Ya,!1),this.Ya=a,this.Og(a,!0));this.dispatchEvent("select")};f.ig=function(){var a=this.Ya;return a?Qa(this.uf,a):-1};
f.Qg=function(a){this.pc(this.Mn(a))};f.clear=function(){var a=this.uf;if(!ea(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0;this.Ya=null};f.Ia=function(){Kl.o.Ia.call(this);delete this.uf;this.Ya=null};f.Og=function(a,b){a&&("function"==typeof this.Nk?this.Nk(a,b):"function"==typeof a.Tk&&a.Tk(b))};function Ml(a,b,c,d,e){this.mc=!!b;this.node=null;this.Nd=0;this.Ro=!1;this.hn=!c;a&&this.setPosition(a,d);this.depth=void 0!=e?e:this.Nd||0;this.mc&&(this.depth*=-1)}n(Ml,ol);Ml.prototype.setPosition=function(a,b,c){if(this.node=a)this.Nd=ga(b)?b:1!=this.node.nodeType?0:this.mc?-1:1;ga(c)&&(this.depth=c)};Ml.prototype.clone=function(){return new Ml(this.node,this.mc,!this.hn,this.Nd,this.depth)};
Ml.prototype.next=function(){var a;if(this.Ro){if(!this.node||this.hn&&0==this.depth)throw nl;a=this.node;var b=this.mc?-1:1;if(this.Nd==b){var c=this.mc?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,-1*b)}else(c=this.mc?a.previousSibling:a.nextSibling)?this.setPosition(c):this.setPosition(a.parentNode,-1*b);this.depth+=this.Nd*(this.mc?-1:1)}else this.Ro=!0;a=this.node;if(!this.node)throw nl;return a};
Ml.prototype.splice=function(a){var b=this.node,c=this.mc?1:-1;this.Nd==c&&(this.Nd=-1*c,this.depth+=this.Nd*(this.mc?-1:1));this.mc=!this.mc;Ml.prototype.next.call(this);this.mc=!this.mc;for(var c=fa(arguments[0])?arguments[0]:arguments,d=c.length-1;0<=d;d--)vc(c[d],b);x(b)};function Nl(a,b,c,d){Ml.call(this,a,b,c,null,d)}n(Nl,Ml);Nl.prototype.next=function(){do Nl.o.next.call(this);while(-1==this.Nd);return this.node};function Ol(){}n(Ol,Jf);ca(Ol);var Pl=0;Ol.prototype.V=function(a){var b=this.dg(a);a=a.Qb().V("DIV",b?b.join(" "):null,Ql(this,a.Fc(),a.rf(),a.Qb()));Ff(a,"grid");return a};function Ql(a,b,c,d){for(var e=[],h=0,k=0;h<c.height;h++){for(var m=[],r=0;r<c.width;r++){var p=b&&b[k++];m.push(Rl(a,p,d))}e.push(Sl(a,m,d))}return a.kn(e,d)}Ol.prototype.kn=function(a,b){var c=b.V("TABLE",this.Ca()+"-table",b.V("TBODY",this.Ca()+"-body",a));c.cellSpacing="0";c.cellPadding="0";return c};
function Sl(a,b,c){a=c.V("TR",a.Ca()+"-row",b);Ff(a,"row");return a}function Rl(a,b,c){a=c.V("TD",{"class":a.Ca()+"-cell",id:a.Ca()+"-cell-"+Pl++},b);Ff(a,"gridcell");Gf(a,"selected",!1);if(!Dc(a)&&!If(a,"label")){var d;b=new Nl(a);for(c="";!c&&(d=ql(b));)1==d.nodeType&&(c=If(d,"label")||d.title);(d=c)&&Gf(a,"label",d)}return a}
Ol.prototype.Ne=function(a,b){if(a){var c=kc(this.Ca()+"-body",a)[0];if(c){var d=0;Ra(c.rows,function(a){Ra(a.cells,function(a){uc(a);if(b){var c=b[d++];c&&a.appendChild(c)}})});if(d<b.length){for(var e=[],h=hc(a),k=c.rows[0].cells.length;d<b.length;){var m=b[d++];e.push(Rl(this,m,h));e.length==k&&(m=Sl(this,e,h),c.appendChild(m),e.length=0)}if(0<e.length){for(;e.length<k;)e.push(Rl(this,"",h));m=Sl(this,e,h);c.appendChild(m)}}}Zd(a,!0,Mb)}};
function Tl(a,b,c){for(b=b.B();c&&1==c.nodeType&&c!=b;){if("TD"==c.tagName&&xf(c,a.Ca()+"-cell"))return c.firstChild;c=c.parentNode}return null}Ol.prototype.Ca=function(){return"goog-palette"};function Ul(a,b,c){ag.call(this,a,b||Ol.gd(),c);this.uj&=-89;this.Xf=new Vl;this.Xf.Mi(this);this.ik=-1}n(Ul,ag);f=Ul.prototype;f.Ta=null;f.ma=-1;f.zb=null;f.Ia=function(){Ul.o.Ia.call(this);this.zb&&(this.zb.w(),this.zb=null);this.Ta=null;this.Xf.w()};f.Ki=function(a){Ul.o.Ki.call(this,a);Wl(this);this.zb?(this.zb.clear(),Ll(this.zb,a)):(this.zb=new Kl(a),a=oa(this.Og,this),this.zb.Nk=a,of(this).ba(this.zb,"select",this.$v));this.ma=-1};f.Sh=function(){return""};
f.pg=function(a){Ul.o.pg.call(this,a);var b=Tl(this.Y,this,a.target);b&&a.relatedTarget&&wc(b,a.relatedTarget)||b!=Xl(this)&&Yl(this,b)};f.Bd=function(a){Ul.o.Bd.call(this,a);this.Aa&4&&(a=Tl(this.Y,this,a.target),a!=Xl(this)&&Yl(this,a))};f.ee=function(a){var b=Xl(this);return b?(a&&(this.hd()?"mouseup"!=a.type||Tl(this.Y,this,a.target):1)&&this.pc(b),Ul.o.ee.call(this,a)):!1};
f.xc=function(a){var b=this.Fc(),b=b?b.length:0,c=this.Ta.width;if(0==b||!this.isEnabled())return!1;if(13==a.keyCode||32==a.keyCode)return this.ee(a);if(36==a.keyCode)return this.Mb(0),!0;if(35==a.keyCode)return this.Mb(b-1),!0;var d=0>this.ma?this.ig():this.ma;switch(a.keyCode){case 37:if(-1==d||0==d)d=b;this.Mb(d-1);a.preventDefault();return!0;case 39:return d==b-1&&(d=-1),this.Mb(d+1),a.preventDefault(),!0;case 38:-1==d&&(d=b+c-1);if(d>=c)return this.Mb(d-c),a.preventDefault(),!0;break;case 40:if(-1==
d&&(d=-c),d<b-c)return this.Mb(d+c),a.preventDefault(),!0}return!1};f.$v=function(){};f.rf=function(){return this.Ta};f.Ni=function(a,b){if(this.B())throw Error("Component already rendered");this.Ta=ga(a)?new $b(a,b):a;Wl(this)};function Xl(a){var b=a.Fc();return b&&b[a.ma]}f.Mb=function(a){a!=this.ma&&(Zl(this,this.ma,!1),this.ik=this.ma,this.ma=a,Zl(this,a,!0),this.dispatchEvent("a"))};function Yl(a,b){var c=a.Fc();a.Mb(c&&b?Qa(c,b):-1)}f.ig=function(){return this.zb?this.zb.ig():-1};
f.hd=function(){return this.zb?this.zb.hd():null};f.Qg=function(a){this.zb&&this.zb.Qg(a)};f.pc=function(a){this.zb&&this.zb.pc(a)};function Zl(a,b,c){if(a.B()){var d=a.Fc();if(d&&0<=b&&b<d.length){var e;e=(e=Xl(a))?e.parentNode:null;a.Xf.B()!=e&&(a.Xf.W=e);e=a.Xf;e.ac(c);!!(e.Aa&2)==c&&(b=d[b])&&(b=b?b.parentNode:null,d=a.Y.Ca()+"-cell-hover",c?yf(b,d):Af(b,d),c?Gf(a.W,"activedescendant",b.id):b.id==If(a.W,"activedescendant")&&Hf(a.W))}}}
f.ac=function(a){a&&-1==this.ma?this.Mb(-1<this.ik?this.ik:0):a||this.Mb(-1);Ul.o.ac.call(this,a)};f.Og=function(a,b){if(this.B()&&a){var c=a.parentNode,d=this.Y.Ca()+"-cell-selected";b?yf(c,d):Af(c,d);Gf(c,"selected",b)}};function Wl(a){var b=a.Fc();if(b)if(a.Ta&&a.Ta.width){if(b=Math.ceil(b.length/a.Ta.width),!ga(a.Ta.height)||a.Ta.height<b)a.Ta.height=b}else b=Math.ceil(Math.sqrt(b.length)),a.Ta=new $b(b,b);else a.Ta=new $b(0,0)}function Vl(){ag.call(this,null);this.Se|=2}n(Vl,ag);function $l(a,b,c){this.Ah=a||[];Ul.call(this,null,b||Ol.gd(),c);this.Ji(this.Ah)}n($l,Ul);f=$l.prototype;f.xi=null;f.oi=null;f.Ji=function(a,b){this.Ah=a;this.oi=b||null;this.xi=null;this.Ne(am(this))};f.Tj=function(){var a=this.hd();if(a){var b=a.style[Ha()];if("undefined"!==typeof b)a=b;else{var b=a.style,c=Od["background-color"];if(!c){var d=Ha(),c=d;void 0===a.style[d]&&(d=(t?"Webkit":Mb?"Moz":q?"ms":Kb?"O":null)+Ia(d),void 0!==a.style[d]&&(c=d));Od["background-color"]=c}a=b[c]||""}return bm(a)}return null};
f.Uk=function(a){a=bm(a);this.xi||(this.xi=Ta(this.Ah,function(a){return bm(a)}));this.Qg(a?Qa(this.xi,a):-1)};function am(a){return Ta(a.Ah,function(a,c){var b=this.Qb().V("DIV",{"class":this.Y.Ca()+"-colorswatch",style:"background-color:"+a});b.title=this.oi&&this.oi[c]?this.oi[c]:"#"==a.charAt(0)?"RGB ("+Dh(a).join(", ")+")":a;return b},a)}function bm(a){if(a)try{return xh(a).Zj}catch(b){}return null};function cm(a,b){kf.call(this,a);this.Ga=b||null;of(this).ba(this,"action",this.vw)}n(cm,kf);f=cm.prototype;f.te=!0;f.Ji=function(a){this.Ga?this.Ga.Ji(a):dm(this,a)};f.Ni=function(a){this.Ga||dm(this,[]);this.Ga.Ni(a)};f.rf=function(){return this.Ga?this.Ga.rf():null};f.ig=function(){return this.Ga?this.Ga.ig():-1};f.Qg=function(a){this.Ga&&this.Ga.Qg(a)};f.Tj=function(){return this.Ga?this.Ga.Tj():null};f.Uk=function(a){this.Ga&&this.Ga.Uk(a)};f.Fd=function(){return this.te};
f.le=function(a){this.te=a;this.Ga&&this.Ga.Tb(32,a)};f.jb=function(){cm.o.jb.call(this);this.Ga&&this.Ga.T(this.B());this.B().unselectable="on"};f.Ia=function(){cm.o.Ia.call(this);this.Ga&&(this.Ga.w(),this.Ga=null)};f.focus=function(){this.Ga&&this.Ga.B().focus()};f.vw=function(a){a.stopPropagation();this.dispatchEvent("change")};function dm(a,b){var c=new $l(b,null,a.Qb());c.Ni(5);c.Tb(32,a.te);a.oj(c);a.Ga=c;a.oa&&a.Ga.T(a.B())}var em="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");function Qk(a,b){Qk.o.constructor.call(this,a,b);this.cb("\u00a0\u00a0\u00a0")}var fm;n(Qk,be);f=Qk.prototype;f.pv=null;f.dn=0;f.g=function(){Qk.o.g.call(this);this.Yc.style.fillOpacity=1;this.setValue(this.getValue())};f.gh="default";f.w=function(){Pg(this);Qk.o.w.call(this)};f.getValue=function(){return this.cd};f.setValue=function(a){this.m&&0==H&&this.cd!=a&&I(new ne(this.m,"field",this.name,this.cd,a));this.cd=a;this.Yc&&(this.Yc.style.fill=a)};
f.kb=function(){var a=this.cd,b=a.match(/^#(.)\1(.)\2(.)\3$/);b&&(a="#"+b[1]+b[2]+b[3]);return a};f.setColumns=function(a){this.dn=a;return this};
f.Qe=function(){Og(this,this.m.j,gm);var a=new cm;a.Ni(this.dn||7);a.Ji(this.pv||em);var b=nc(),c=Rd(),d=Td(this.Yc),e=le(this);a.T(Qg);a.Uk(this.getValue());var h=Vd(a.B());d.y=d.y+h.height+e.height>=b.height+c.y?d.y-(h.height-1):d.y+(e.height-1);this.m.j?(d.x+=e.width,d.x-=h.width,d.x<c.x&&(d.x=c.x)):d.x>b.width+c.x-h.width&&(d.x=b.width+c.x-h.width);Rg(d.x,d.y,b,c,this.m.j);var k=this;fm=Ue(a,"change",function(a){a=a.target.Tj()||"#000000";th();k.m&&(a=ie(k,a));null!==a&&k.setValue(a)})};
function gm(){fm&&af(fm)};function hm(){this.cq=new RegExp(this.rb,"g")}f=hm.prototype;f.$e=null;f.ef=null;f.Ze="  ";f.yp=60;f.mh=[];function im(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}function jm(a,b){if(!b)return"";if(b.disabled)return jm(a,si(b));var c=a[b.type].call(b,b);if(ea(c))return[a.Lk(b,c[0]),c[1]];if(l(c)){var d=b.id.replace(/\$/g,"$$$$");a.ef&&(c=a.ef.replace(/%1/g,"'"+d+"'")+c);return a.Lk(b,c)}if(null===c)return""}
function W(a,b,c){var d=X;a=Tk(a,b);if(!a)return"";b=jm(d,a);if(""===b)return"";a=b[0];b=b[1];if(!a)return"";var e=!1,h=Math.floor(c),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(e=!0,h=0;h<d.mh.length;h++)if(d.mh[h][0]==c&&d.mh[h][1]==b){e=!1;break}e&&(a="("+a+")");return a}function km(a,b){var c=X,d=jm(c,Tk(a,b));d&&(d=im(d,c.Ze));return d}function lm(a,b){var c=X;b=b.replace(/\$/g,"$$$$");c.$e&&(a=c.$e.replace(/%1/g,"'"+b+"'")+a);c.ef&&(a+=im(c.ef.replace(/%1/g,"'"+b+"'"),c.Ze));return a}
f.jj="";f.rb="{leCUI8hutHZI4480Dc}";function mm(a,b,c){if(!a.re[b]){var d=wd(a.Da,b,"PROCEDURE");a.Qj[b]=d;c=c.join("\n").replace(a.cq,d);for(var e;e!=c;)e=c,c=c.replace(/^((  )*)  /gm,"$1"+a.Ze);a.re[b]=c}return a.Qj[b]};var kh="handopen",Ji="handclosed",Tj="handdelete",nm="",om=null,pm="";function jh(a){if(nm!=a){nm=a;var b="url("+pm+"/"+a+".cur), auto",c=".blocklyDraggable {\n  cursor: "+b+";\n}\n";om.deleteRule(0);om.insertRule(c,0);for(var c=document.getElementsByClassName("blocklyToolboxDiv"),d=0,e;e=c[d];d++)e.style.cursor=a==Tj?b:"";document.body.parentNode.style.cursor=a==kh?"":b}}
var qm=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","-ms-user-select: none;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: 0.9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #888;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;",
"}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {",
"cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",
".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklySvg text {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;",
"stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentTextarea {","background-color: #ffc;","border: 0;","margin: 0;","padding: 2px;","resize: none;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {",
"fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {",
"fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;",
"}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {",
"outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;",
"height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0px -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",
"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyTreeSelected .blocklyTreeLabel {",
"color: #fff;","}",".blocklyWidgetDiv .goog-palette {","outline: none;","cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","border: 1px solid #666;","border-collapse: collapse;","}",".blocklyWidgetDiv .goog-palette-cell {","height: 13px;","width: 15px;","margin: 0;","border: 0;","text-align: center;","vertical-align: middle;","border-right: 1px solid #666;","font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","position: relative;","height: 13px;","width: 15px;","border: 1px solid #666;",
"}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {","border: 1px solid #000;","color: #fff;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;",
"overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {",
"padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","-moz-opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {",
"background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;",
"text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];function rm(a,b){l(a)&&(a=document.getElementById(a)||document.querySelector(a));if(!wc(document,a))throw"Error: container is not in current document.";var c=new yj(b||{}),d=w("div","injectionDiv");a.appendChild(d);d.setAttribute("dir","LTR");lf=c.j;var e=c.Kc;if(!om){var h=".blocklyDraggable {}\n";c.dw&&(h+=qm.join("\n"),rd.$i&&(h+=rd.$i.CSS.join("\n")));pm=e.replace(/[\\\/]$/,"");h=h.replace(/<<<PATH>>>/g,pm);e=document.createElement("style");document.head.appendChild(e);e.appendChild(document.createTextNode(h));
om=e.sheet;jh(kh)}var d=D("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},d),h=D("defs",{},d),e=String(Math.random()).substring(2),k=D("filter",{id:"blocklyEmbossFilter"+e},h);D("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},k);var m=D("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},
k);D("fePointLight",{x:-5E3,y:-1E4,z:2E4},m);D("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},k);D("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},k);c.Hv=k.id;k=D("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},h);D("rect",{width:10,height:10,fill:"#aaa"},k);D("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},k);c.Yf=k.id;h=D("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},
h);0<c.wc.length&&0<c.wc.spacing&&(D("line",{stroke:c.wc.colour},h),1<c.wc.length&&D("line",{stroke:c.wc.colour},h));c.Xd=h;c=sm(d,c);tm(c);c.wf();E(d,"focus",c,c.wf);uh(c);return c}
function sm(a,b){b.xb=null;var c=new zj(b);c.scale=b.Db.Qo;a.appendChild(c.V("blocklyMainBackground"));c.translate(0,0);c.wf();b.readOnly||b.Pn||c.Bc(function(){if(0==Mj){var a=c.ab(),e=a.gb+a.hb,h=a.sd+a.vb;if(a.fc<h||a.fc+a.Gb>a.Ea+h||a.ec<(b.j?a.gb:e)||a.ec+a.Ob>(b.j?a.ha:a.ha+e))for(var k=Ed(c,!1),m=0,r;r=k[m];m++){var p=r.ua(),v=Xj(r),A=h+25-v.height-p.y;0<A&&r.moveBy(0,A);A=h+a.Ea-25-p.y;0>A&&r.moveBy(0,A);A=25+e-p.x-(b.j?0:v.width);0<A&&r.moveBy(A,0);p=e+a.ha-25-p.x+(b.j?v.width:0);0>p&&r.moveBy(p,
0)}}});uh(c);Qg||(Qg=w("DIV","blocklyWidgetDiv"),document.body.appendChild(Qg));rk||(rk=w("DIV","blocklyTooltipDiv"),document.body.appendChild(rk));return c}
function tm(a){var b=a.options,c=bj(a);E(c,"contextmenu",null,function(a){Ii(a)||a.preventDefault()});c=E(window,"resize",null,function(){$g(!0);uh(a)});a.Hi=c;um();b.vf&&(a.X?a.X.g(a):a.P&&(a.P.g(a),a.P.show(b.vf.childNodes),Zk(a.P),a.scrollX=a.P.ea,3==b.sa&&(a.scrollX*=-1),a.translate(a.scrollX,0)));b.Pn&&(a.Xa=new Ri(a),a.Xa.resize());b.ew&&vm(b.Kc,a)}
function um(){td||(E(document,"keydown",null,wm),E(document,"touchend",null,fh),E(document,"touchcancel",null,fh),document.addEventListener("mouseup",hh,!1),Rb&&E(window,"orientationchange",document,function(){uh(ih)}));td=!0}
function vm(a,b){function c(){for(;d.length;)F(d.pop());for(var a in b.ph){var c=b.ph[a];c.volume=.01;c.play();c.pause();if(Rb||Qb)break}}Zj(b,[a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");Zj(b,[a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");Zj(b,[a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var d=[];d.push(E(document,"mousemove",null,c,!0));d.push(E(document,"touchstart",null,c,!0))};var Qg=null,yk=null,xm=null;function Og(a,b,c){th();yk=a;xm=c;Qg.style.top=Rd().y+"px";Qg.style.direction=b?"rtl":"ltr";Qg.style.display="block"}function th(){yk&&(yk=null,Qg.style.display="none",Qg.style.left="",Qg.style.top="",xm&&xm(),xm=null,uc(Qg))}function Pg(a){yk==a&&th()}function Rg(a,b,c,d,e){b<d.y&&(b=d.y);e?a>c.width+d.x&&(a=c.width+d.x):a<d.x&&(a=d.x);Qg.style.left=a+"px";Qg.style.top=b+"px";Qg.style.height=c.height+"px"};function Rk(a,b,c,d){this.m=null;this.Ma=Number(c);this.ea=Number(b);this.Ta=new $b(this.ea,this.Ma+10);this.ra=d||"";this.setValue(a)}n(Rk,be);f=Rk.prototype;f.Di=null;f.Ye=!1;
f.g=function(){if(!this.Ka){this.Ka=D("g",{},null);this.Oa||(this.Ka.style.display="none");this.ug=D("image",{height:this.Ma+"px",width:this.ea+"px"},this.Ka);this.setValue(this.Po);Mb&&(this.Di=D("rect",{height:this.Ma+"px",width:this.ea+"px","fill-opacity":0},this.Ka));this.m.xa().appendChild(this.Ka);var a=this.Di||this.ug;a.Vb=this.m;sk(a)}};f.w=function(){x(this.Ka);this.Di=this.ug=this.Ka=null};f.A=function(a){(this.Di||this.ug).Vb=a};f.getValue=function(){return this.Po};
f.setValue=function(a){null!==a&&(this.Po=a,this.ug&&this.ug.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l(a)?a:""))};f.cb=function(a){null!==a&&(this.ra=a)};f.Cf=function(){};function Pk(a,b){Pk.o.constructor.call(this,"",b);this.setValue(a)}n(Pk,be);f=Pk.prototype;f.gh="default";f.g=function(){this.Ka||(Pk.o.g.call(this),this.xh=D("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.Ka),this.xh.appendChild(document.createTextNode("\u2713")),this.xh.style.display=this.Aa?"block":"none")};f.getValue=function(){return String(this.Aa).toUpperCase()};
f.setValue=function(a){a="TRUE"==a.toUpperCase();this.Aa!==a&&(this.m&&0==H&&I(new ne(this.m,"field",this.name,this.Aa,a)),this.Aa=a,this.xh&&(this.xh.style.display=a?"block":"none"))};f.Qe=function(){var a=!this.Aa;this.m&&(a=ie(this,a));null!==a&&this.setValue(String(a).toUpperCase())};function ym(a,b){ym.o.constructor.call(this,a,b);this.yi=new u(0,0)}n(ym,dj);function zm(a,b){var c=a.dc-b.dc,d=a.Fa-b.Fa;return Math.sqrt(c*c+d*d)}function hj(a,b){if(0==Mj){var c=Jk(a.m);if(!c.Ib){var d=!1;if(!ri(c)){c=Jk(b.m);if(!ri(c))return;b=a;d=!0}var e=Q==c;e||c.sh();var h=b.dc+20-a.dc,k=b.Fa+20-a.Fa;d&&(k=-k);c.j&&(h=-h);c.moveBy(h,k);e||c.Kg()}}}f=ym.prototype;f.moveTo=function(a,b){this.$d&&kj(this.rc,this);this.dc=a;this.Fa=b;this.$j||sj(this.rc,this)};
f.moveBy=function(a,b){this.moveTo(this.dc+a,this.Fa+b)};function Am(a,b){a.moveTo(b.x+a.yi.x,b.y+a.yi.y)}function Bm(a,b,c){a.yi.x=b;a.yi.y=c}function Cm(a){var b=a.I.dc-a.dc,c=a.I.Fa-a.Fa;if(0!=b||0!=c){a=N(a);var d=a.xa();if(!d)throw"block is not rendered.";d=fk(d);a.xa().setAttribute("transform","translate("+(d.x-b)+","+(d.y-c)+")");Dm(a,-b,-c)}}
f.closest=function(a,b){var c;c=this.Ih;if(c.length){var d=this.Fa,e=this.dc;this.dc=e+b.x;this.Fa=d+b.y;for(var h=tj(c,this),k=null,m=a,r,p=h-1;0<=p&&Math.abs(c[p].Fa-this.Fa)<=a;)r=c[p],this.ki(r,m)&&(k=r,m=zm(r,this)),p--;for(;h<c.length&&Math.abs(c[h].Fa-this.Fa)<=a;)r=c[h],this.ki(r,m)&&(k=r,m=zm(r,this)),h++;this.dc=e;this.Fa=d;c={F:k,Eo:m}}else c={F:null,Eo:a};return c};
f.Rn=function(){var a;a=1==this.type||2==this.type?"m 0,0 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 5":"m -20,0 h 5 l 6,4 3,0 6,-4 h 5";var b=this.m.ua();dj.Sn=D("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.dc-b.x)+","+(this.Fa-b.y)+")"+(this.m.j?" scale(-1 1)":"")},this.m.xa())};
function Fk(a){Gk(a,!1);var b=[];if(1!=a.type&&3!=a.type)return b;if(a=N(a)){var c;a.isCollapsed()?(c=[],a.G&&c.push(a.G),a.D&&c.push(a.D),a.O&&c.push(a.O)):c=a.fd(!0);for(var d=0;d<c.length;d++)b.push.apply(b,Fk(c[d]));b.length||(b[0]=a)}return b}function Em(){x(dj.Sn);delete dj.Sn}function Gk(a,b){(a.$j=b)&&a.$d?kj(a.rc,a):b||a.$d||sj(a.rc,a)}f.ki=function(a,b){return zm(this,a)>b?!1:ym.o.ki.call(this,a)};f.Kj=function(a,b){ym.o.Kj.call(this,a,b);a.M&&a.T();b.M&&(wi(b),b.T())};
f.Jk=function(){var a=this.m,b=this.od;if(a.h&&b&&Kd){ym.o.Jk.call(this);b=N(this);if(!b)throw"Couldn't respawn the shadow block that should exist here.";b.Yb();b.T(!1);a.M&&a.T()}};f.Bh=function(a){ym.o.Bh.call(this,a);var b=this.m;a=a.m;b.M&&wi(b);a.M&&wi(a);b.M&&a.M&&(3==this.type||4==this.type?a.T():b.T())};var Yj={Hh:null,show:function(a,b,c){Og(Yj,c,null);if(b.length){var d=new Jg;d.Ld(c);for(var e=0,h;h=b[e];e++){var k=new qg(h.text);k.Ld(c);d.oj(k,!0);k.Pg(h.enabled);h.enabled&&Ue(k,"action",h.Za)}Ue(d,"action",Yj.Cd);b=nc();e=Rd();d.T(Qg);var m=d.B();ge(m,"blocklyContextMenu");E(m,"contextmenu",null,El);h=Vd(m);var k=a.clientX+e.x,r=a.clientY+e.y;a.clientY+h.height>=b.height&&(r-=h.height);c?h.width>=a.clientX&&(k+=h.width):a.clientX+h.width>=b.width&&(k-=h.width);Rg(k,r,b,e,c);Kg(d);setTimeout(function(){m.focus()},
1);Yj.Hh=null}else Yj.Cd()},Cd:function(){Pg(Yj);Yj.Hh=null},wh:function(a,b){return function(){H++;try{var c=ti(b,a.h),d=a.ua();d.x=a.j?d.x-20:d.x+20;d.y+=40;c.moveBy(d.x,d.y)}finally{H--}0==H&&!c.bb&&I(new fi(c));c.select()}}};function Jj(a,b,c){this.s=D("g",{},null);this.Vg=D("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.s);this.qd=D("path",{"class":"blocklyPath"},this.s);this.Ff=D("path",{"class":"blocklyPathLight"},this.s);this.qd.Vb=this;this.M=!1;sk(this.qd);Jj.o.constructor.call(this,a,b,c)}n(Jj,Hd);f=Jj.prototype;f.height=0;f.width=0;f.Zf=null;
f.Yb=function(){for(var a=0,b;b=this.S[a];a++)b.g();b=Hk(this);for(a=0;a<b.length;a++)dk(b[a]);this.Pd();Fm(this);if(!this.h.options.readOnly&&!this.Iv){E(this.xa(),"mousedown",this,this.Ge);var c=this;E(this.xa(),"touchstart",null,function(a){eh(a,c)})}this.Iv=!0;this.xa().parentNode||this.h.Ab.appendChild(this.xa())};
f.select=function(){if(this.bb&&this.getParent())this.getParent().select();else if(Q!=this){var a=null;if(Q){a=Q.id;H++;try{Nj(Q)}finally{H--}}a=new ni(null,"selected",a,this.id);a.Rc=this.h.id;I(a);Q=this;this.sh()}};function Nj(a){if(Q==a){var b=new ni(null,"selected",a.id,null);b.Rc=a.h.id;I(b);Q=null;a.Kg()}}f.jc=null;f.Ha=null;f.qc=null;function Hk(a){var b=[];a.jc&&b.push(a.jc);a.Ha&&b.push(a.Ha);a.qc&&b.push(a.qc);return b}var Gm=null,Hm=null;
function Im(){Jm();Gm&&(F(Gm),Gm=null);Hm&&(F(Hm),Hm=null);var a=Q;if(2==Mj&&a){var b=a.ua(),b=gc(b,a.Zf),c=new ji(a);c.qk=a.Zf;li(c);I(c);Dm(a,b.x,b.y);delete a.Mh;dl(a,!1);a.T();var d=Fd;setTimeout(function(){B(d);Wj(a);B(!1)},ij/2);setTimeout(function(){B(d);me(a);B(!1)},ij);xi(a.h)}Mj=0;jh(kh)}f=Jj.prototype;
f.Pe=function(a){if(a!=this.kd){var b=this.xa();if(this.kd&&b){var c=this.ua();this.h.Ab.appendChild(b);b.setAttribute("transform","translate("+c.x+","+c.y+")")}je();Jj.o.Pe.call(this,a);ke();a&&(c=this.ua(),a.xa().appendChild(b),a=this.ua(),Dm(this,a.x-c.x,a.y-c.y))}};f.ua=function(){var a=0,b=0,c=this.xa();if(c){do var d=fk(c),a=a+d.x,b=b+d.y,c=c.parentNode;while(c&&c!=this.h.Ab)}return new u(a,b)};
f.moveBy=function(a,b){var c=new ji(this),d=this.ua();this.xa().setAttribute("transform","translate("+(d.x+a)+","+(d.y+b)+")");Dm(this,a,b);li(c);xi(this.h);I(c)};function Wj(a){if(a.h&&0==Mj&&!a.getParent()&&!a.Ib&&a.h.options.wc&&a.h.options.wc.snap){var b=a.h.options.wc.spacing,c=b/2,d=a.ua(),e=Math.round((d.x-c)/b)*b+c-d.x,b=Math.round((d.y-c)/b)*b+c-d.y,e=Math.round(e),b=Math.round(b);0==e&&0==b||a.moveBy(e,b)}}
function Xj(a){var b=a.height,c=a.width,d=si(a);d?(a=Xj(d),b+=a.height-4,c=Math.max(c,a.width)):a.D||a.G||(b+=2);return{height:b,width:c}}function Vj(a){var b=a.ua(a),c=a.G?8:0,d=Xj(a);a.j?(a=new u(b.x-(d.width-c),b.y),b=new u(b.x+c,b.y+d.height)):(a=new u(b.x-c,b.y),b=new u(b.x+d.width-c,b.y+d.height));return{yc:a,Zc:b}}
f.ke=function(a){if(this.ad!=a){for(var b=[],c=0,d;d=this.S[c];c++)b.push.apply(b,d.ga(!a));if(a){d=Hk(this);for(c=0;c<d.length;c++)d[c].ga(!1);c=this.toString(30);R(U(this,"_TEMP_COLLAPSED_INPUT"),c).g()}else this.aa("_TEMP_COLLAPSED_INPUT"),this.eb(null);Jj.o.ke.call(this,a);b.length||(b[0]=this);if(this.M)for(c=0;a=b[c];c++)a.T()}};
f.tab=function(a,b){for(var c=[],d=0,e;e=this.S[d];d++){for(var h=0,k;k=e.Sa[h];h++)k instanceof oh&&c.push(k);e.F&&(e=N(e.F))&&c.push(e)}d=c.indexOf(a);-1==d&&(d=b?-1:c.length);(c=c[b?d+1:d-1])?c instanceof be?c.Qe():c.tab(null,b):(c=this.getParent())&&c.tab(this,b)};
f.Ge=function(a){if(!this.h.options.readOnly)if(this.Ib)"touchstart"==a.type&&oe(a)&&(Qj(),$g(!0),this.Rg(a),ah=null,a.stopPropagation(),a.preventDefault());else{this.lw&&this.h.resize();var b=this.h,c=pc(document);fc(b.Zn,c)||(b.Zn=c,Cj(b),Ij(b));this.h.wf();Qj();this.select();$g();if(oe(a))this.Rg(a),ah=null;else if(ri(this)){Fd||B(!0);jh(Ji);this.Zf=this.ua();Ki(this.h,a,this.Zf);Mj=1;Gm=E(document,"mouseup",this,this.Gg);Hm=E(document,"mousemove",this,this.zi);this.Mh=[];for(var b=Vg(this),c=
0,d;d=b[c];c++){d=Hk(d);for(var e=0;e<d.length;e++){var h=d[e].Ae;h.jv=d[e];this.Mh.push(h)}}}else return;a.stopPropagation();a.preventDefault()}};
f.Gg=function(a){ah=null;2==Mj||yk||I(new ni(this,"click",void 0,void 0));Qj();if(Q&&lj){mj.connect(lj);if(this.M&&(a=(nj(mj)?lj:mj).m,ak(a.h,"click"),!(1>a.h.scale))){var b=cj(a.s,a.h);a.G?(b.x+=(a.j?3:-3)*a.h.scale,b.y+=13*a.h.scale):a.O&&(b.x+=(a.j?-23:23)*a.h.scale,b.y+=3*a.h.scale);b=D("circle",{cx:b.x,cy:b.y,r:0,fill:"none",stroke:"#888","stroke-width":10},bj(a.h));Km(b,new Date,a.h.scale)}this.h.Wb&&this.h.Wb.close()}else!this.getParent()&&qi(Q)&&Sj(this.h,a)&&((a=this.h.Wb)&&Hh(a.close,100,
a),Q.w(!1,!0));lj&&(Em(),lj=null);jh(kh);yk||B(!1)};
f.Rg=function(a){if(!this.h.options.readOnly&&this.contextMenu){var b=this,c=[];if(qi(this)&&ri(this)&&!b.Ib){var d={text:L.Yp,enabled:!0,Za:function(){var a=Pj,c=Lm;Mm(b);Oj(b.h);Pj=a;Lm=c}};Vg(this).length>Id(this.h)&&(d.enabled=!1);c.push(d);fe(this)&&!this.ad&&this.h.options.Vf&&(d={enabled:!q},this.Ha?(d.text=L.Ot,d.Za=function(){b.Jd(null)}):(d.text=L.bp,d.Za=function(){b.Jd("")}),c.push(d));if(!this.ad)for(d=1;d<this.S.length;d++)if(3!=this.S[d-1].type&&3!=this.S[d].type){var d={enabled:!0},
e=Mk(this);d.text=e?L.bq:L.iq;d.Za=function(){b.Pa(!e)};c.push(d);break}this.h.options.collapse&&(this.ad?(d={enabled:!0},d.text=L.aq,d.Za=function(){b.ke(!1)}):(d={enabled:!0},d.text=L.gp,d.Za=function(){b.ke(!0)}),c.push(d));this.h.options.disable&&(d={text:this.disabled?L.Zp:L.Wp,enabled:!Nk(this),Za:function(){b.Df(!b.disabled)}},c.push(d));var d=Vg(this).length,h=si(this);h&&(d-=Vg(h).length);d={text:1==d?L.Cl:L.El.replace("%1",String(d)),enabled:!0,Za:function(){B(!0);b.w(!0,!0);B(!1)}};c.push(d)}d=
{enabled:!(ha(this.L)?!this.L():!this.L)};d.text=L.hq;d.Za=function(){var a=ha(b.L)?b.L():b.L;a&&window.open(a)};c.push(d);this.gc&&!b.Ib&&this.gc(c);Yj.show(a,c,this.j);Yj.Hh=this}};function Dm(a,b,c){if(a.M){for(var d=a.fd(!1),e=0;e<d.length;e++)d[e].moveBy(b,c);d=Hk(a);for(e=0;e<d.length;e++)ek(d[e]);for(e=0;e<a.$c.length;e++)Dm(a.$c[e],b,c)}}
function dl(a,b){if(b){var c=a.xa();c.Xg="";c.Tg="";ge(a.s,"blocklyDragging");pj=pj.concat(a.fd(!0))}else he(a.s,"blocklyDragging"),pj=[];for(c=0;c<a.$c.length;c++)dl(a.$c[c],b)}
f.zi=function(a){if("mousemove"==a.type&&1>=a.clientX&&0==a.clientY&&0==a.button)a.stopPropagation();else{var b=this.ua(),c=Li(this.h,a),d;if(d=1==Mj){d=b.x-c.x;var e=b.y-c.y;d=Math.sqrt(d*d+e*e)*this.h.scale>mh}d&&(Mj=2,fh(),this.kd&&(mi(this),d=this.xa(),d.Xg="translate("+c.x+","+c.y+")",ak(this.h,"disconnect"),1>this.h.scale||(d=Math.atan(10/Xj(this).height)/Math.PI*180,this.j||(d*=-1),Nm(this.s,d,new Date))),dl(this,!0));if(2==Mj){b=gc(b,this.Zf);d=this.xa();d.Xg="translate("+c.x+","+c.y+")";
d.setAttribute("transform",d.Xg+d.Tg);for(c=0;c<this.Mh.length;c++)e=this.Mh[c],d=e.jv,e=new u(e.x+b.x,e.y+b.y),d.Ae=e,d.$()&&(d=d.Va,d.pe=e,d.Mg&&Ai(d));d=this.fd(!1);a:{for(c=this.D;c;){e=N(c);if(!e)break a;c=e.D}c=null}c&&c!=this.D&&d.push(c);for(var h=e=null,k=20,c=0;c<d.length;c++){var m=d[c],r=m.closest(k,b);r.F&&(e=r.F,h=m,k=r.Eo)}lj&&lj!=e&&(Em(),mj=lj=null);e&&e!=lj&&(e.Rn(),lj=e,mj=h);qi(this)&&Sj(this.h,a)}a.stopPropagation();a.preventDefault()}};
function Fm(a){ri(a)?ge(a.s,"blocklyDraggable"):he(a.s,"blocklyDraggable")}f.Li=function(a){Jj.o.Li.call(this,a);Fm(this)};f.Rk=function(a){Jj.o.Rk.call(this,a);a=Hk(this);for(var b=0;b<a.length;b++)a[b].Qd()};f.Vk=function(a){Jj.o.Vk.call(this,a);this.Pd()};f.xa=function(){return this.s};
f.w=function(a,b){if(this.h){xk();je();var c=this.h;Q==this&&(Nj(this),Qj());Yj.Hh==this&&Yj.Cd();if(b&&this.M){mi(this,a);ak(this.h,"delete");var d=cj(this.s,this.h),e=this.s.cloneNode(!0);e.Uo=d.x;e.Vo=d.y;e.setAttribute("transform","translate("+e.Uo+","+e.Vo+")");bj(this.h).appendChild(e);e.Um=e.getBBox();Om(e,this.j,new Date,this.h.scale)}this.M=!1;H++;try{for(var h=Hk(this),d=0;d<h.length;d++)h[d].w()}finally{H--}Jj.o.w.call(this,a);x(this.s);xi(c);this.Vg=this.Ff=this.qd=this.s=null;ke()}};
function Om(a,b,c,d){var e=(new Date-c)/150;1<e?x(a):(a.setAttribute("transform","translate("+(a.Uo+(b?-1:1)*a.Um.width*d/2*e)+","+(a.Vo+a.Um.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(function(){Om(a,b,c,d)},10))}function Km(a,b,c){var d=(new Date-b)/150;1<d?x(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,setTimeout(function(){Km(a,b,c)},10))}
function Nm(a,b,c){var d=(new Date-c)/200;1<d?a.Tg="":(a.Tg="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",Pm=a,Qm=setTimeout(function(){Nm(a,b,c)},10));a.setAttribute("transform",a.Xg+a.Tg)}function Jm(){if(Pm){clearTimeout(Qm);var a=Pm;a.Tg="";a.setAttribute("transform",a.Xg);Pm=null}}var Qm=0,Pm=null;f=Jj.prototype;
f.Pd=function(){if(!this.disabled){var a=this.cd,b=Dh(a);if(this.bb)b=Gh([255,255,255],b,.6),a=Bh(b),this.Ff.style.display="none",this.Vg.setAttribute("fill",a);else{this.Ff.style.display="";var c=Bh(Gh([255,255,255],b,.3)),b=Bh(Gh([0,0,0],b,.2));this.Ff.setAttribute("stroke",c);this.Vg.setAttribute("fill",b)}this.qd.setAttribute("fill",a);a=Hk(this);for(c=0;c<a.length;c++)a[c].Pd();for(a=0;c=this.S[a];a++)for(var b=0,d;d=c.Sa[b];b++)d.cb(null)}};
function wi(a){var b;b=-1!=(" "+a.s.getAttribute("class")+" ").indexOf(" blocklyDisabled ");a.disabled||Nk(a)?b||(ge(a.s,"blocklyDisabled"),a.qd.setAttribute("fill","url(#"+a.h.options.Yf+")")):b&&(he(a.s,"blocklyDisabled"),a.Pd());a=a.ve();b=0;for(var c;c=a[b];b++)wi(c)}f.Uh=function(){return this.Ha?this.Ha.kb().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};f.Jd=function(a){var b=!1;l(a)?(this.Ha||(this.Ha=new ik(this),b=!0),this.Ha.cb(a)):this.Ha&&(this.Ha.w(),b=!0);b&&this.M&&(this.T(),me(this))};
f.eb=function(a,b){this.eb.Gd||(this.eb.Gd=Object.create(null));var c=b||"";if(c)this.eb.Gd[c]&&(clearTimeout(this.eb.Gd[c]),delete this.eb.Gd[c]);else for(var d in this.eb.Gd)clearTimeout(this.eb.Gd[d]),delete this.eb.Gd[d];if(2==Mj){var e=this;this.eb.Gd[c]=setTimeout(function(){e.h&&(delete e.eb.Gd[c],e.eb(a,c))},100)}else{this.Ib&&(a=null);d=Kk(this);for(var h=null;d;)d.isCollapsed()&&(h=d),d=Kk(d);h&&h.eb(a,"collapsed "+this.id+" "+c);d=!1;l(a)?(this.qc||(this.qc=new jk(this),d=!0),this.qc.cb(a,
c)):this.qc&&!c?(this.qc.w(),d=!0):this.qc&&(d=this.qc.kb(),this.qc.cb("",c),(h=this.qc.kb())||this.qc.w(),d=d==h);d&&this.M&&(this.T(),me(this))}};f.Kd=function(a){this.jc&&this.jc!==a&&this.jc.w();a&&(a.N=this,this.jc=a,dk(a))};f.Df=function(a){this.disabled!=a&&(Jj.o.Df.call(this,a),this.M&&wi(this))};f.sh=function(){ge(this.s,"blocklySelected");var a=this;do{var b=a.xa();b.parentNode.appendChild(b);a=a.getParent()}while(a)};f.Kg=function(){he(this.s,"blocklySelected")};
f.v=function(a){Jj.o.v.call(this,a);this.M&&this.Pd()};f.H=function(a,b){Jj.o.H.call(this,a,b);this.M&&(this.T(),me(this))};f.K=function(a,b){Jj.o.K.call(this,a,b);this.M&&(this.T(),me(this))};f.na=function(a,b){Jj.o.na.call(this,a,b);this.M&&(this.T(),me(this))};f.Pa=function(a){Jj.o.Pa.call(this,a);this.M&&(this.T(),me(this))};f.aa=function(a,b){Jj.o.aa.call(this,a,b);this.M&&(this.T(),me(this))};f.pk=function(a,b){Jj.o.pk.call(this,a,b);this.M&&(this.T(),me(this))};
f.Pf=function(a,b){var c=Jj.o.Pf.call(this,a,b);this.M&&(this.T(),me(this));return c};f.fd=function(a){var b=[];if(a||this.M)if(this.G&&b.push(this.G),this.O&&b.push(this.O),this.D&&b.push(this.D),a||!this.ad){a=0;for(var c;c=this.S[a];a++)c.F&&b.push(c.F)}return b};f.Bg=function(a){return new ym(this,a)};var Rm=7.5*(1-Math.SQRT1_2)+.5,Sm=8.5*(1-Math.SQRT1_2)-.5,Tm="m "+Rm+","+Rm,Um="a 8,8 0 0,0 "+(-Sm-.5)+","+(8-Sm),Vm="a 8.5,8.5 0 0,0 "+(8-Sm)+","+(Sm+.5);
Jj.prototype.T=function(a){je();this.M=!0;var b=10;this.j&&(b=-b);for(var c=Hk(this),d=0;d<c.length;d++){var e=c[d];if(e.cn&&e.N.isCollapsed())e.Sb.setAttribute("display","none");else{e.Sb.setAttribute("display","block");var h=e.kj;e.N.j&&(b-=h);e.Sb.setAttribute("transform","translate("+b+",5)");ek(e);b=e.N.j?b-10:b+(h+10)}}var k=b+=this.j?10:-10,m=this.S,c=[];c.qb=k+20;if(this.O||this.D)c.qb=Math.max(c.qb,40);for(var e=d=0,r=h=!1,p=!1,v=void 0,A=Mk(this)&&!this.isCollapsed(),K=0,C;C=m[K];K++)if(C.$()){var G;
A&&v&&3!=v&&3!=C.type?G=c[c.length-1]:(v=C.type,G=[],G.type=A&&3!=C.type?-1:C.type,G.height=0,c.push(G));G.push(C);C.ie=25;C.yb=A&&1==C.type?20.5:0;if(C.F&&C.F.I){var Nc=Xj(N(C.F));C.ie=Math.max(C.ie,Nc.height);C.yb=Math.max(C.yb,Nc.width)}A||K!=m.length-1?!A&&1==C.type&&m[K+1]&&3==m[K+1].type&&C.ie--:C.ie--;G.height=Math.max(G.height,C.ie);C.Dc=0;1==c.length&&(C.Dc+=this.j?-k:k);for(var Nc=!1,ph=0,oc;oc=C.Sa[ph];ph++){0!=ph&&(C.Dc+=10);var Dk=oc.rf();oc.yb=Dk.width;oc.Ei=Nc&&oc.Ye?10:0;C.Dc+=oc.yb+
oc.Ei;G.height=Math.max(G.height,Dk.height);Nc=oc.Ye}-1!=G.type&&(3==G.type?(r=!0,e=Math.max(e,C.Dc)):(1==G.type?h=!0:5==G.type&&(p=!0),d=Math.max(d,C.Dc)))}for(k=0;G=c[k];k++)if(G.To=!1,-1==G.type)for(m=0;C=G[m];m++)if(1==C.type){G.height+=10;G.To=!0;break}c.Ti=20+e;r&&(c.qb=Math.max(c.qb,c.Ti+30));h?c.qb=Math.max(c.qb,d+20+8):p&&(c.qb=Math.max(c.qb,d+20));c.gw=h;c.Ox=r;c.Nx=p;e=b;this.$k=!1;this.height=0;this.G?this.Zk=this.Qi=!0:(this.Zk=this.Qi=!1,this.O&&(b=N(this.O))&&si(b)==this&&(this.Qi=
!0),si(this)&&(this.Zk=!0));h=[];r=[];b=[];d=[];p=c.qb;this.Qi?(h.push("m 0,0"),b.push("m 0.5,0.5"),this.$k&&(h.push("c 30,-15 70,-15 100,0"),b.push(this.j?"m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7":"c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5"))):(h.push("m 0,8"),b.push(this.j?Tm:"m 0.5,7.5"),h.push("A 8,8 0 0,1 8,0"),b.push("A 7.5,7.5 0 0,1 8,0.5"));this.O&&(h.push("H",15),b.push("H",15),h.push("l 6,4 3,0 6,-4"),b.push("l 6,4 3,0 6,-4"),Bm(this.O,this.j?-30:30,0));h.push("H",p);b.push("H",p-.5);this.width=
p;for(C=p=0;G=c[C];C++){v=10;0==C&&(v+=this.j?-e:e);b.push("M",c.qb-.5+","+(p+.5));if(this.isCollapsed())k=G[0],A=p,Wm(this,k.Sa,v,A),h.push("l 8,0 0,4 8,4 -16,8 8,4"),b.push("h 8"),k=G.height-20,h.push("v",k),this.j&&(b.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),b.push("v",k-.7)),this.width+=15;else if(-1==G.type){for(m=0;k=G[m];m++)A=p,G.To&&(A+=5),v=Wm(this,k.Sa,v,A),5!=k.type&&(v+=k.yb+10),1==k.type&&(r.push("M",v-10+","+(p+5)),r.push("h",6-k.yb),r.push("v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5"),
r.push("v",k.ie+1-20),r.push("h",k.yb+2-8),r.push("z"),this.j?(d.push("M",v-10-2.5+8-k.yb+","+(p+5+.5)),d.push("v 6.5 m -7.76,3 q -0.4,10 2.4,9.5 m 5.36,-1.9 v 1.4"),d.push("v",k.ie-20+2.5),d.push("h",k.yb-8+2)):(d.push("M",v-10+.5+","+(p+5+.5)),d.push("v",k.ie+1),d.push("h",6-k.yb),d.push("M",v-k.yb-10+.9+","+(p+5+20-.7)),d.push("l","3.68,-2.1")),A=this.j?-v-8+10+k.yb+1:v+8-10-k.yb-1,K=p+5+1,Bm(k.F,A,K));v=Math.max(v,c.qb);this.width=Math.max(this.width,v);h.push("H",v);b.push("H",v-.5);h.push("v",
G.height);this.j&&b.push("v",G.height-1)}else 1==G.type?(k=G[0],A=p,-1!=k.align&&(m=c.qb-k.Dc-8-20,1==k.align?v+=m:0==k.align&&(v+=m/2)),Wm(this,k.Sa,v,A),h.push("v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5"),m=G.height-20,h.push("v",m),this.j?(b.push("v 6.5 m -7.76,3 q -0.4,10 2.4,9.5 m 5.36,-1.9 v 1.4"),b.push("v",m+.5)):(b.push("M",c.qb-5+","+(p+20-.7)),b.push("l","3.68,-2.1")),A=this.j?-c.qb-1:c.qb+1,Bm(k.F,A,p),k.F.I&&(this.width=Math.max(this.width,c.qb+Xj(N(k.F)).width-8+1))):5==G.type?(k=G[0],
A=p,-1!=k.align&&(m=c.qb-k.Dc-20,c.gw&&(m-=8),1==k.align?v+=m:0==k.align&&(v+=m/2)),Wm(this,k.Sa,v,A),h.push("v",G.height),this.j&&b.push("v",G.height-1)):3==G.type&&(k=G[0],0==C&&(h.push("v",10),this.j&&b.push("v",9),p+=10),A=p,-1!=k.align&&(m=c.Ti-k.Dc-20,1==k.align?v+=m:0==k.align&&(v+=m/2)),Wm(this,k.Sa,v,A),v=c.Ti+30,h.push("H",v),h.push("l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8"),h.push("v",G.height-16),h.push("a 8,8 0 0,0 8,8"),h.push("H",c.qb),this.j?(b.push("M",v-30+Sm+","+(p+Sm)),b.push(Um),
b.push("v",G.height-16),b.push("a 8.5,8.5 0 0,0 8.5,8.5")):(b.push("M",v-30+Sm+","+(p+G.height-Sm)),b.push(Vm)),b.push("H",c.qb-.5),A=this.j?-v:v+1,Bm(k.F,A,p+1),k.F.I&&(this.width=Math.max(this.width,c.Ti+Xj(N(k.F)).width)),C==c.length-1||3==c[C+1].type)&&(h.push("v",10),this.j&&b.push("v",9),p+=10);p+=G.height}c.length||(p=25,h.push("V",p),this.j&&b.push("V",p-1));c=p;this.height+=c+1;this.D&&(h.push("H",30+(this.j?.5:-.5)+" l -6,4 -3,0 -6,-4"),Bm(this.D,this.j?-30:30,c+1),this.height+=4);this.Zk?
(h.push("H 0"),this.j||b.push("M","0.5,"+(c-.5))):(h.push("H",8),h.push("a","8,8 0 0,1 -8,-8"),this.j||(b.push("M",Rm+","+(c-Rm)),b.push("A","7.5,7.5 0 0,1 0.5,"+(c-8))));this.G?(Bm(this.G,0,0),h.push("V",20),h.push("c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5"),this.j?(b.push("M","-2,8.4"),b.push("l","-3.6,-2.1")):(b.push("V",18.5),b.push("m","-7.36,-0.5 q -1.52,-5.5 0,-11"),b.push("m","7.36,1 V 0.5 H 1")),this.width+=8):this.j||(this.Qi?b.push("V",.5):b.push("V",8));h.push("z");c=h.join(" ")+"\n"+r.join(" ");
this.qd.setAttribute("d",c);this.Vg.setAttribute("d",c);c=b.join(" ")+"\n"+d.join(" ");this.Ff.setAttribute("d",c);this.j&&(this.qd.setAttribute("transform","scale(-1 1)"),this.Ff.setAttribute("transform","scale(-1 1)"),this.Vg.setAttribute("transform","translate(1,1) scale(-1 1)"));c=this.ua();this.O&&Am(this.O,c);this.G&&Am(this.G,c);for(b=0;b<this.S.length;b++)if(d=this.S[b].F)Am(d,c),d.I&&Cm(d);this.D&&(Am(this.D,c),this.D.I&&Cm(this.D));!1!==a&&((a=this.getParent())?a.T(!0):xi(this.h));ke()};
function Wm(a,b,c,d){d+=5;a.j&&(c=-c);for(var e=0,h;h=b[e];e++){var k=h.xa();k&&(a.j?(c-=h.Ei+h.yb,k.setAttribute("transform","translate("+c+","+d+")"),h.yb&&(c-=10)):(k.setAttribute("transform","translate("+(c+h.Ei)+","+d+")"),h.yb&&(c+=h.Ei+h.yb+10)))}return a.j?-c:c};function Ok(a,b){this.fl=D("tspan",{},null);this.fl.appendChild(document.createTextNode("\u00b0"));Ok.o.constructor.call(this,a,b)}n(Ok,oh);
Ok.prototype.Qe=function(){Ok.o.Qe.call(this,Nb||Pb||Rb);var a=Qg;if(a.firstChild){var a=D("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:"100px",width:"100px"},a),b=D("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.Ph=D("path",{"class":"blocklyAngleGauge"},a);this.ao=D("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)D("line",{x1:99,y1:50,x2:99-(0==c%
45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+c+",50,50)"},a);a.style.marginLeft="-34px";tk(a,"click",this,th);tk(b,"mousemove",this,this.to);tk(this.Ph,"mousemove",this,this.to);Xm(this)}};Ok.prototype.to=function(a){var b=this.Ph.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/c);isNaN(b)||(b=180*b/Math.PI,0>c?b+=180:0<a&&(b+=360),b=15*Math.round((b-0)/15),b=ie(this,b),qh.value=b,this.setValue(b),sh(this),this.Gi())};
Ok.prototype.cb=function(a){Ok.o.cb.call(this,a);this.Ba&&(Xm(this),this.m.j?this.Ba.insertBefore(this.fl,this.Ba.firstChild):this.Ba.appendChild(this.fl),this.Ta.width=0)};
function Xm(a){if(a.Ph){var b=(Number(a.kb())+0)*Math.PI/180,c=["M ",50,",",50],d=50,e=50;if(!isNaN(b)){var h=0*Math.PI/180,k=49*Math.cos(h),m=-49*Math.sin(h),d=d+49*Math.cos(b),e=e-49*Math.sin(b);c.push(" l ",k,",",m," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",d,",",e," z")}a.Ph.setAttribute("d",c.join(""));a.ao.setAttribute("x2",d);a.ao.setAttribute("y2",e)}}
Ok.prototype.yh=function(a){if(null===a)return null;a=parseFloat(a||0);if(isNaN(a))return null;a%=360;0>a&&(a+=360);360<a&&(a-=360);return String(a)};var ih=null,Q=null,lj=null,mj=null,pj=[],Pj=null,Lm=null,Mj=0;function bk(a){return{width:a.Xm,height:a.Vm}}function uh(a){for(;a.options.xb;)a=a.options.xb;var b=bj(a),c=b.parentNode;if(c){var d=c.offsetWidth,c=c.offsetHeight;b.Xm!=d&&(b.setAttribute("width",d+"px"),b.Xm=d);b.Vm!=c&&(b.setAttribute("height",c+"px"),b.Vm=c);a.resize()}}
function wm(a){if(!ih.options.readOnly&&!Ii(a)){var b=!1;if(27==a.keyCode)$g();else if(8==a.keyCode||46==a.keyCode)a.preventDefault(),Q&&qi(Q)&&(b=!0);else if(a.altKey||a.ctrlKey||a.metaKey)Q&&qi(Q)&&ri(Q)&&(67==a.keyCode?($g(),Mm(Q)):88==a.keyCode&&(Mm(Q),b=!0)),86==a.keyCode?Pj&&(B(!0),Oj(Lm),B(!1)):90==a.keyCode&&($g(),ih.kl(a.shiftKey));b&&(B(!0),$g(),Q.w(2!=Mj,!0),lj&&(Em(),lj=null),B(!1))}}function Qj(){Im();bi()}
function Mm(a){var b=oi(a);if(2!=Mj)for(var c=0,d;d=b.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){b.removeChild(d);break}c=a.ua();b.setAttribute("x",a.j?-c.x:c.x);b.setAttribute("y",c.y);Pj=b;Lm=a.h}function $g(a){xk();th();a||(a=ih,a.X&&a.X.P&&a.X.P.Rf&&a.X.zc.pc(null))}g.console||(g.console={log:function(){},warn:function(){}});g.Blockly||(g.Blockly={});g.Blockly.getMainWorkspace=function(){return ih};
g.Blockly.addChangeListener=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return ih.Bc(a)};L.Lx={};L.bp="Add Comment";L.cp="Change value:";L.ep="Clean up Blocks";L.fp="Collapse Blocks";L.gp="Collapse Block";L.hp="colour 1";L.ip="colour 2";L.jp="http://meyerweb.com/eric/tools/color-blend/";L.kp="ratio";L.lp="blend";L.mp="Blends two colours together with a given ratio (0.0 - 1.0).";L.np="https://en.wikipedia.org/wiki/Color";L.op="Choose a colour from the palette.";L.pp="http://randomcolour.com";L.qp="random colour";L.rp="Choose a colour at random.";L.sp="blue";L.tp="green";L.up="http://www.december.com/html/spec/colorper.html";
L.vp="red";L.wp="colour with";L.xp="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";L.zp="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";L.ll="break out of loop";L.ol="continue with next iteration of loop";L.Ap="Break out of the containing loop.";L.Bp="Skip the rest of this loop, and continue with the next iteration.";L.Cp="Warning: This block may only be used within a loop.";L.Dp="https://github.com/google/blockly/wiki/Loops#for-each";
L.Fp="for each item %1 in list %2";L.Gp="For each item in a list, set the variable '%1' to the item, and then do some statements.";L.ql="https://github.com/google/blockly/wiki/Loops#count-with";L.Ip="count with %1 from %2 to %3 by %4";L.rl="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";L.Kp="Add a condition to the if block.";L.Mp="Add a final, catch-all condition to the if block.";L.sl="https://github.com/google/blockly/wiki/IfElse";
L.Op="Add, remove, or reorder sections to reconfigure this if block.";L.ul="else";L.vl="else if";L.Wi="if";L.wl="If a value is true, then do some statements.";L.xl="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";L.yl="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";L.zl="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
L.Xi="https://en.wikipedia.org/wiki/For_loop";L.ne="do";L.Yi="repeat %1 times";L.Zi="Do some statements several times.";L.Al="https://github.com/google/blockly/wiki/Loops#repeat";L.Qp="repeat until";L.Rp="repeat while";L.Sp="While a value is false, then do some statements.";L.Bl="While a value is true, then do some statements.";L.Tp="Delete all %1 blocks?";L.Cl="Delete Block";L.Dl="Delete the '%1' variable";L.Vp="Delete %1 uses of the '%2' variable?";L.El="Delete %1 Blocks";L.Wp="Disable Block";
L.Yp="Duplicate";L.Zp="Enable Block";L.$p="Expand Blocks";L.aq="Expand Block";L.bq="External Inputs";L.hq="Help";L.iq="Inline Inputs";L.jq="https://github.com/google/blockly/wiki/Lists#create-empty-list";L.hh="create empty list";L.kq="Returns a list, of length 0, containing no data records";L.lq="list";L.mq="Add, remove, or reorder sections to reconfigure this list block.";L.nq="https://github.com/google/blockly/wiki/Lists#create-list-with";L.aj="create list with";L.pq="Add an item to the list.";
L.qq="Create a list with any number of items.";L.Gl="first";L.Hl="# from end";L.Il="#";L.rq="get";L.sq="get and remove";L.Kl="last";L.Ll="random";L.uq="remove";L.bj="";L.vq="Returns the first item in a list.";L.Ml="Returns the item at the specified position in a list.";L.wq="Returns the last item in a list.";L.xq="Returns a random item in a list.";L.yq="Removes and returns the first item in a list.";L.zq="Removes and returns the item at the specified position in a list.";L.Aq="Removes and returns the last item in a list.";
L.Bq="Removes and returns a random item in a list.";L.Cq="Removes the first item in a list.";L.Dq="Removes the item at the specified position in a list.";L.Eq="Removes the last item in a list.";L.Fq="Removes a random item in a list.";L.Gq="to # from end";L.Hq="to #";L.Iq="to last";L.Jq="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";L.Lq="get sub-list from first";L.Mq="get sub-list from # from end";L.Nq="get sub-list from #";L.cj="";L.Oq="Creates a copy of the specified portion of a list.";
L.Nl="%1 is the last item.";L.Jf="%1 is the first item.";L.Pq="find first occurrence of item";L.Ol="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";L.Rq="find last occurrence of item";L.Sq="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";L.ih="in list";L.Tq="https://github.com/google/blockly/wiki/Lists#is-empty";L.Uq="%1 is empty";L.Vq="Returns true if the list is empty.";L.Wq="https://github.com/google/blockly/wiki/Lists#length-of";
L.Pl="length of %1";L.Xq="Returns the length of a list.";L.Yq="https://github.com/google/blockly/wiki/Lists#create-list-with";L.Zq="create list with item %1 repeated %2 times";L.$q="Creates a list consisting of the given value repeated the specified number of times.";L.Ql="https://github.com/google/blockly/wiki/Lists#in-list--set";L.dr="as";L.er="insert at";L.gr="set";L.ir="Inserts the item at the start of a list.";L.jr="Inserts the item at the specified position in a list.";L.kr="Append the item to the end of a list.";
L.lr="Inserts the item randomly in a list.";L.nr="Sets the first item in a list.";L.Rl="Sets the item at the specified position in a list.";L.or="Sets the last item in a list.";L.pr="Sets a random item in a list.";L.qr="https://github.com/google/blockly/wiki/Lists#sorting-a-list";L.rr="ascending";L.ur="descending";L.vr="sort %1 %2 %3";L.wr="Sort a copy of a list.";L.xr="alphabetic, ignore case";L.yr="numeric";L.zr="alphabetic";L.Ar="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";
L.Br="make list from text";L.Cr="make text from list";L.Dr="Join a list of texts into one text, separated by a delimiter.";L.Er="Split text into a list of texts, breaking at each delimiter.";L.Fr="with delimiter";L.Sl="false";L.Gr="https://github.com/google/blockly/wiki/Logic#values";L.Hr="Returns either true or false.";L.Tl="true";L.Ul="https://en.wikipedia.org/wiki/Inequality_(mathematics)";L.Vl="Return true if both inputs equal each other.";L.Wl="Return true if the first input is greater than the second input.";
L.Xl="Return true if the first input is greater than or equal to the second input.";L.Yl="Return true if the first input is smaller than the second input.";L.Zl="Return true if the first input is smaller than or equal to the second input.";L.$l="Return true if both inputs are not equal to each other.";L.Ir="https://github.com/google/blockly/wiki/Logic#not";L.am="not %1";L.Jr="Returns true if the input is false. Returns false if the input is true.";L.Kr="null";L.Lr="https://en.wikipedia.org/wiki/Nullable_type";
L.Mr="Returns null.";L.bm="and";L.Nr="https://github.com/google/blockly/wiki/Logic#logical-operations";L.cm="or";L.Or="Return true if both inputs are true.";L.Pr="Return true if at least one of the inputs is true.";L.Qr="test";L.Rr="https://en.wikipedia.org/wiki/%3F:";L.Sr="if false";L.Tr="if true";L.Ur="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";L.Wr="+";L.dm="https://en.wikipedia.org/wiki/Arithmetic";L.em="Return the sum of the two numbers.";
L.fm="Return the quotient of the two numbers.";L.gm="Return the difference of the two numbers.";L.hm="Return the product of the two numbers.";L.Xr="Return the first number raised to the power of the second number.";L.im="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";L.Yr="change %1 by %2";L.jm="Add a number to variable '%1'.";L.$r="https://en.wikipedia.org/wiki/Mathematical_constant";L.as="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
L.bs="https://en.wikipedia.org/wiki/Clamping_%28graphics%29";L.ds="constrain %1 low %2 high %3";L.fs="Constrain a number to be between the specified limits (inclusive).";L.gs="\u00f7";L.hs="is divisible by";L.js="is even";L.ks="is negative";L.ls="is odd";L.ns="is positive";L.os="is prime";L.qs="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";L.rs="is whole";L.ss="https://en.wikipedia.org/wiki/Modulo_operation";
L.ts="remainder of %1 \u00f7 %2";L.us="Return the remainder from dividing the two numbers.";L.vs="\u00d7";L.lm="https://en.wikipedia.org/wiki/Number";L.mm="A number.";L.ws="";L.xs="average of list";L.ys="max of list";L.zs="median of list";L.As="min of list";L.Bs="modes of list";L.Cs="random item of list";L.Ds="standard deviation of list";L.Es="sum of list";L.Fs="Return the average (arithmetic mean) of the numeric values in the list.";L.Gs="Return the largest number in the list.";L.Hs="Return the median number in the list.";
L.Is="Return the smallest number in the list.";L.Js="Return a list of the most common item(s) in the list.";L.Ks="Return a random element from the list.";L.Ls="Return the standard deviation of the list.";L.Ms="Return the sum of all the numbers in the list.";L.Ns="^";L.Os="https://en.wikipedia.org/wiki/Random_number_generation";L.nm="random fraction";L.Ps="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";L.om="https://en.wikipedia.org/wiki/Random_number_generation";L.Qs="random integer from %1 to %2";
L.pm="Return a random integer between the two specified limits, inclusive.";L.Rs="https://en.wikipedia.org/wiki/Rounding";L.Ss="round";L.Ts="round down";L.Us="round up";L.Vs="Round a number up or down.";L.Ws="https://en.wikipedia.org/wiki/Square_root";L.Xs="absolute";L.Ys="square root";L.Zs="Return the absolute value of a number.";L.$s="Return e to the power of a number.";L.at="Return the natural logarithm of a number.";L.bt="Return the base 10 logarithm of a number.";L.ct="Return the negation of a number.";
L.dt="Return 10 to the power of a number.";L.et="Return the square root of a number.";L.ft="-";L.gt="acos";L.ht="asin";L.jt="atan";L.kt="cos";L.mt="https://en.wikipedia.org/wiki/Trigonometric_functions";L.nt="sin";L.ot="tan";L.qt="Return the arccosine of a number.";L.rt="Return the arcsine of a number.";L.st="Return the arctangent of a number.";L.tt="Return the cosine of a degree (not radian).";L.ut="Return the sine of a degree (not radian).";L.vt="Return the tangent of a degree (not radian).";
L.qm="Create variable...";L.xt="New variable name:";L.Vc="";L.At="allow statements";L.sm="with:";L.tm="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";L.um="Run the user-defined function '%1'.";L.vm="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";L.wm="Run the user-defined function '%1' and use its output.";L.Bt="with:";L.Ct="Create '%1'";L.Mf="Describe this function...";L.xm="";L.ym="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";L.hj="do something";
L.zm="to";L.Am="Creates a function with no output.";L.Bm="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29";L.Nf="return";L.Dm="Creates a function with an output.";L.Et="Warning: This function has duplicate parameters.";L.Ft="Highlight function definition";L.Gt="http://c2.com/cgi/wiki?GuardClause";L.Ht="If a value is true, then return a second value.";L.It="Warning: This block may be used only within a function definition.";L.Jt="input name:";L.Kt="Add an input to the function.";
L.Lt="inputs";L.Mt="Add, remove, or reorder inputs to this function.";L.Nt="Redo";L.Ot="Remove Comment";L.ij="Rename variable...";L.Pt="Rename all '%1' variables to:";L.Ut="append text";L.Vt="https://github.com/google/blockly/wiki/Text#text-modification";L.Wt="to";L.Xt="Append some text to variable '%1'.";L.Zt="https://github.com/google/blockly/wiki/Text#adjusting-text-case";L.$t="to lower case";L.au="to Title Case";L.bu="to UPPER CASE";L.cu="Return a copy of the text in a different case.";L.du="get first letter";
L.fu="get letter # from end";L.gu="get letter #";L.iu="https://github.com/google/blockly/wiki/Text#extracting-text";L.ju="in text";L.ku="get last letter";L.lu="get random letter";L.Em="";L.mu="Returns the letter at the specified position.";L.ou="Add an item to the text.";L.pu="join";L.qu="Add, remove, or reorder sections to reconfigure this text block.";L.su="to letter # from end";L.tu="to letter #";L.uu="to last letter";L.vu="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";
L.wu="in text";L.xu="get substring from first letter";L.yu="get substring from letter # from end";L.zu="get substring from letter #";L.qh="";L.Au="Returns a specified portion of the text.";L.Bu="https://github.com/google/blockly/wiki/Text#finding-text";L.Cu="in text";L.Du="find first occurrence of text";L.Eu="find last occurrence of text";L.Fm="";L.Fu="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";L.Gu="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";
L.Hu="%1 is empty";L.Iu="Returns true if the provided text is empty.";L.Ju="https://github.com/google/blockly/wiki/Text#text-creation";L.Ku="create text with";L.Lu="Create a piece of text by joining together any number of items.";L.Mu="https://github.com/google/blockly/wiki/Text#text-modification";L.Nu="length of %1";L.Ou="Returns the number of letters (including spaces) in the provided text.";L.Pu="https://github.com/google/blockly/wiki/Text#printing-text";L.Qu="print %1";L.Ru="Print the specified text, number or other value.";
L.Gm="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";L.Hm="Prompt for user for a number.";L.Im="Prompt for user for some text.";L.Jm="prompt for number with message";L.Km="prompt for text with message";L.Su="https://en.wikipedia.org/wiki/String_(computer_science)";L.Tu="A letter, word, or line of text.";L.Uu="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";L.Vu="trim spaces from both sides of";L.Wu="trim spaces from left side of";L.Xu="trim spaces from right side of";
L.Yu="Return a copy of the text with spaces removed from one or both ends.";L.Hx="Today";L.$u="Undo";L.ff="item";L.Lm="Create 'set %1'";L.Mm="https://github.com/google/blockly/wiki/Variables#get";L.Nm="Returns the value of this variable.";L.av="set %1 to %2";L.rh="Create 'get %1'";L.Om="https://github.com/google/blockly/wiki/Variables#set";L.Pm="Sets this variable to be equal to the input.";L.bv="A variable named '%1' already exists.";L.Dt=L.zm;L.Np=L.Wi;L.Pp=L.ne;L.fh=L.ne;L.Lp=L.ul;L.Cm=L.hj;
L.Kq=L.ih;L.tq=L.ih;L.Zr=L.ff;L.Gx=L.xm;L.Jp=L.vl;L.Jl=L.Ol;L.Ep=L.ne;L.cr=L.ih;L.Hp=L.ne;L.oq=L.ff;L.Yt=L.ff;L.nu=L.ff;L.Qq=L.ih;L.oh=L.Mf;var Z={nf:null,g:function(){dd();var a=document.getElementById("linkButton");if("BlocklyStorage"in window){if(BlocklyStorage.HTTPREQUEST_ERROR=y("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=y("Games_linkAlert"),BlocklyStorage.HASH_ERROR=y("Games_hashError"),BlocklyStorage.XML_ERROR=y("Games_xmlError"),BlocklyStorage.alert=Y.Xw,a){var b=BlocklyStorage.link;"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}}else a&&(a.style.display=
"none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Z.nv,!0);z&&(z.yt=!1);X&&(X.yt=!1)},Sx:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var c=null;try{c=window.sessionStorage.bo}catch(h){}c&&delete window.sessionStorage.bo;var d=ed(Tc),e=b&&ed(Tc-1);(c=c||d||e||a)&&Z.Ko(c)}},Ko:function(a){Z.nf?Z.nf.setValue(a,-1):(a=kd(a),null.clear(),ld(a,null),null.xj())},Ln:function(){if(Z.nf)var a=
Z.nf.getValue();else a=pd(null),a=od(a);return a},Wx:function(){window.localStorage&&(window.localStorage[gd+Tc]=Z.Ln())},ek:function(){window.location=(Uc?"index.html":"./")+"?lang="+Yc},nv:function(){if(window.sessionStorage){if(Z.nf)var a=Z.nf.getValue();else a=pd(null),a=od(a);window.sessionStorage.bo=a}var a=document.getElementById("languageMenu"),a=encodeURIComponent(a.options[a.selectedIndex].value),b=window.location.search,b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,
"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},Rn:function(a){if(a){var b=a.match(/^block_id_([^']+)$/);b&&(a=b[1])}null.ak(a)},Rx:function(a,b){var c=document.getElementById(a);c.firstChild||(c=rm(c,{rtl:-1!=Xc.indexOf(Yc),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),ld(kd(b),c))},by:function(a){return a.replace(/(,\s*)?'block_id_[^']+'\)/g,")").replace(/[\s\xa0]+$/,"")},Td:function(a){if("click"==a.type&&
"touchend"==Z.Td.Ek&&Z.Td.Dk+2E3>Date.now()||Z.Td.Ek==a.type&&Z.Td.Dk+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Z.Td.Ek=a.type;Z.Td.Dk=Date.now();return!1}};Z.Td.Ek=null;Z.Td.Dk=0;Z.Px=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compiled.js");document.head.appendChild(a)};
Z.Qx=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=Z;Z.setCode=Z.Ko;Z.getCode=Z.Ln;var Y={Ce:!1,Dn:null,Kh:null,Wk:function(a,b,c,d,e,h){function k(){Y.Ce&&(m.style.visibility="visible",m.style.zIndex=10,r.style.visibility="hidden")}Y.Ce&&Y.Dd(!1);$g(!0);Y.Ce=!0;Y.Dn=b;Y.Kh=h;var m=document.getElementById("dialog");h=document.getElementById("dialogShadow");var r=document.getElementById("dialogBorder"),p;for(p in e)m.style[p]=e[p];d&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,d=document.createElement("div"),d.id="dialogHeader",m.appendChild(d),Y.Gj=tk(d,"mousedown",
null,Y.Dv));m.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");c&&b?(Y.pi(b,!1,.2),Y.pi(m,!0,.8),setTimeout(k,175)):k()},En:0,Fn:0,Dv:function(a){Y.Jj();if(!oe(a)){var b=document.getElementById("dialog");Y.En=b.offsetLeft-a.clientX;Y.Fn=b.offsetTop-a.clientY;Y.Ij=tk(document,"mouseup",null,Y.Jj);Y.Hj=tk(document,"mousemove",null,Y.Ev);a.stopPropagation()}},Ev:function(a){var b=document.getElementById("dialog"),c=Y.En+a.clientX;a=Y.Fn+a.clientY;a=Math.max(a,0);a=Math.min(a,
window.innerHeight-b.offsetHeight);c=Math.max(c,0);c=Math.min(c,window.innerWidth-b.offsetWidth);b.style.left=c+"px";b.style.top=a+"px"},Jj:function(){Y.Ij&&(F(Y.Ij),Y.Ij=null);Y.Hj&&(F(Y.Hj),Y.Hj=null)},Dd:function(a){function b(){d.style.zIndex=-1;d.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Y.Ce){Y.Jj();Y.Gj&&(F(Y.Gj),Y.Gj=null);Y.Ce=!1;Y.Kh&&Y.Kh();Y.Kh=null;var c=!1===a?null:Y.Dn;a=document.getElementById("dialog");var d=document.getElementById("dialogShadow");
d.style.opacity=0;c?(Y.pi(a,!1,.8),Y.pi(c,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((c=document.getElementById("dialogHeader"))&&c.parentNode.removeChild(c);a.firstChild;)c=a.firstChild,c.className+=" dialogHiddenContent",document.body.appendChild(c)}},pi:function(a,b,c){function d(){e.style.width=h.width+"px";e.style.height=h.height+"px";e.style.left=h.x+"px";e.style.top=h.y+"px";e.style.opacity=c}if(a){var e=document.getElementById("dialogBorder"),h=Y.Lv(a);
b?(e.className="dialogAnimate",setTimeout(d,1)):(e.className="",d());e.style.visibility="visible"}},Lv:function(a){var b=Td(a);a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Xw:function(a){var b=document.getElementById("containerStorage");b.textContent="";a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("p");d.appendChild(document.createTextNode(a[c]));b.appendChild(d)}b=document.getElementById("dialogStorage");
a=document.getElementById("linkButton");Y.Wk(b,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Ww);Y.Qw()},cv:function(){if(!ed(Tc))if(Y.Ce||0!=Mj)setTimeout(Y.cv,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",Y.Dd,!0);b.addEventListener("touchend",Y.Dd,!0);b=document.getElementById("abortOk");b.addEventListener("click",Z.ek,!0);b.addEventListener("touchend",Z.ek,!0);Y.Wk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.Rm,!0)});document.body.addEventListener("keydown",Y.Rm,!0)}},Kx:function(){var a,b=document.getElementById("dialogDone");a=10>Tc?y("Games_nextLevel").replace("%1",Tc+1):y("Games_finalLevel");var c=document.getElementById("doneCancel");c.addEventListener("click",Y.Dd,!0);c.addEventListener("touchend",Y.Dd,!0);c=document.getElementById("doneOk");c.addEventListener("click",Z.jo,!0);c.addEventListener("touchend",Z.jo,!0);Y.Wk(b,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.fn,!0)});document.body.addEventListener("keydown",Y.fn,!0);document.getElementById("dialogDoneText").textContent=a},Cn:function(a){!Y.Ce||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Y.Dd(!0),a.stopPropagation(),a.preventDefault())},Qw:function(){document.body.addEventListener("keydown",Y.Cn,!0)},Ww:function(){document.body.removeEventListener("keydown",Y.Cn,!0)},fn:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Y.Dd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Z.jo()},
Rm:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Y.Dd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Z.ek()}};window.BlocklyDialogs=Y;Y.hideDialog=Y.Dd;
// Copyright 2012 Google Inc.  Apache License 2.0
var X=new hm,Ym=X;Ym.jj+="Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan,";
X.Uc=0;X.Cx=1.1;X.wa=1.2;X.U=2;X.Ax=3;X.xx=3;X.tx=4.1;X.Ex=4.2;X.nh=4.3;X.cf=4.4;X.Dx=4.5;X.Fx=4.6;X.yx=4.7;X.lh=5.1;X.gj=5.2;X.Lf=5.3;X.Rd=6.1;X.Tc=6.2;X.vx=7;X.zt=8;X.zx=8;X.Bx=8;X.rm=9;X.sx=10;X.wx=11;X.ux=12;X.ej=13;X.fj=14;X.kh=15;X.ud=16;X.va=17;X.R=99;X.mh=[[X.U,X.wa],[X.U,X.U],[X.wa,X.wa],[X.wa,X.U],[X.cf,X.cf],[X.gj,X.gj],[X.Tc,X.Tc],[X.ej,X.ej],[X.fj,X.fj]];
X.g=function(a){X.re=Object.create(null);X.Qj=Object.create(null);X.Da?X.Da.reset():X.Da=new ud(X.jj);var b=[];a=a.Nb;if(a.length){for(var c=0;c<a.length;c++)b[c]=X.Da.getName(a[c],vd);X.re.variables="var "+b.join(", ")+";"}};X.finish=function(a){var b=[],c;for(c in X.re)b.push(X.re[c]);delete X.re;delete X.Qj;X.Da.reset();return b.join("\n\n")+"\n\n\n"+a};X.Jo=function(a){return a+";\n"};X.Do=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
X.Lk=function(a,b){var c="";if(!a.G||!a.G.I){var d=a.Uh();(d=Ak(d,X.yp-3))&&(c=a.Ad?c+("/**\n"+im(d+"\n"," * ")+" */\n"):c+im(d+"\n","// "));for(var e=0;e<a.S.length;e++)if(1==a.S[e].type){var h=N(a.S[e].F);if(h){for(var d=[],h=Vg(h),k=0;k<h.length;k++){var m=h[k].Uh();m&&d.push(m)}d.length&&d.push("");(d=d.join("\n"))&&(c+=im(d,"// "))}}}e=jm(X,a.D&&N(a.D));return c+b+e};
X.tb=function(a,b,c,d,e){c=c||0;e=e||X.R;a.h.options.kc&&c--;var h=a.h.options.kc?"1":"0";a=0<c?W(a,b,X.Tc)||h:0>c?W(a,b,X.Rd)||h:d?W(a,b,X.nh)||h:W(a,b,e)||h;if(Gl(a))a=parseFloat(a)+c,d&&(a=-a);else{if(0<c){a=a+" + "+c;var k=X.Tc}else 0>c&&(a=a+" - "+-c,k=X.Rd);d&&(a=c?"-("+a+")":"-"+a,k=X.nh);k=Math.floor(k);e=Math.floor(e);k&&e>=k&&(a="("+a+")")}return a};z.maze_moveForward={g:function(){V(this,{message0:y("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:y("Maze_moveForwardTooltip")})}};X.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};z.maze_turn={g:function(){var a=[[y("Maze_turnLeft"),"turnLeft"],[y("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.v(290);R(U(this),new J(a),"DIR");this.H(!0);this.K(!0);this.A(y("Maze_turnTooltip"))}};
X.maze_turn=function(a){return M(a,"DIR")+"('block_id_"+a.id+"');\n"};z.maze_if={g:function(){var a=[[y("Maze_pathAhead"),"isPathForward"],[y("Maze_pathLeft"),"isPathLeft"],[y("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.v(210);R(U(this),new J(a),"DIR");R(T(this,"DO"),y("Maze_doCode"));this.A(y("Maze_ifTooltip"));this.H(!0);this.K(!0)}};X.maze_if=function(a){var b=M(a,"DIR")+"('block_id_"+a.id+"')";a=km(a,"DO");return"if ("+b+") {\n"+a+"}\n"};
z.maze_ifElse={g:function(){var a=[[y("Maze_pathAhead"),"isPathForward"],[y("Maze_pathLeft"),"isPathLeft"],[y("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.v(210);R(U(this),new J(a),"DIR");R(T(this,"DO"),y("Maze_doCode"));R(T(this,"ELSE"),y("Maze_elseCode"));this.A(y("Maze_ifelseTooltip"));this.H(!0);this.K(!0)}};X.maze_ifElse=function(a){var b=M(a,"DIR")+"('block_id_"+a.id+"')",c=km(a,"DO");a=km(a,"ELSE");return"if ("+b+") {\n"+c+"} else {\n"+a+"}\n"};
z.maze_forever={g:function(){this.v(120);R(R(U(this),y("Maze_repeatUntil")),new Rk("maze/marker.png",12,16));R(T(this,"DO"),y("Maze_doCode"));this.H(!0);this.A(y("Maze_whileTooltip"))}};X.maze_forever=function(a){var b=km(a,"DO");X.$e&&(b=X.$e.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};function Zm(a,b,c){function d(a,c){a>=Object.keys(m).length&&$('<div class="costumes">'+a+'<img width="70px" height="70px" id="'+b+"-costume-"+a+'"></div>').insertBefore("#"+b+"-add-costume");m[a]=c;$("#"+b+"-costume-"+a).attr("src",m[a]);$("#"+b+"-costume-"+a).click(function(){var b=p.getImage();b&&d(k,b.toDataURL("image/png"));k=a;p.clear();e(c)})}function e(a){if(a){var b=new Image;b.src=a;p.saveShape(LC.createShape("Image",{image:b}));d(k,a)}}var h=this,k=0,m={};$(".costumes").remove();var r=
"Paul Mitch Peter Sally Quail Dennis Lucy Trya Jimmer Randy Susan Falthia Arwen Galadriel Smeagal".split(" ");$("#"+b+"-hero-name").val("");$("#"+b+"-hero-type").val("custom");$('.nav-tabs a[href="#'+b+'-add-hero"]').tab("show").keydown(function(a){13==a.keyCode&&(a.preventDefault(),$("#"+h.username+"-submit-hero").click())});var p=LC.init(document.getElementById("paint-"+b),{imageURLPrefix:"common/literally_canvas_img"});p.clear();$("#"+b+"-hero-type").on("change",function(){p.clear();e(chars[this.value])});
p.on("drawingChange",function(){var a=p.getImage();a&&d(k,a.toDataURL("image/png"))});if(c)$("#"+b+"-hero-name").val(c.hl),$("#"+b+"-hero-type").val(c.hw),e(c.images[0]),c.images.forEach(function(a,b){d(b,a)});else{var v=r[Math.floor(Math.random()*r.length)];$("#"+b+"-hero-name").val(v)}$("#"+b+"-submit-hero").off("click").click(function(){var c=$("#"+b+"-hero-name").val(),d=$("#"+b+"-hero-type").val(),e=p.getImage();e&&(m[k]=e.toDataURL("image/png"));(c=c.replace(/[^a-zA-Z0-9]+/g,""))&&d?!a.Qa[c]||
confirm("Overwrite this hero?")?(e=r.indexOf(c),0<=e&&r.splice(e,1),a.Bi(c,d,m)):console.log("This hero already exists: ",c):console.log("Fill out the whole form: ",c,d)});v=$("#"+b+"-x").show().off("click");c&&c.hl?v.click(function(){confirm("DELETE this hero?")&&a.Go(c.hl)}):v.hide();$("#"+b+"-add-costume").off("click").click(function(){if(p.getImage()){var a=p.getImage().toDataURL("image/png");d(k,a);k=Object.keys(m).length;p.clear();e(chars[$("#"+b+"-hero-type").val()])}})};function $m(a){var b=Qc,c=this;c.username=a;c.Ud=null;c.Qa={};c.Ef=an.nj/3;c.So=an.lx/2;c.Bi=function(a,e,h){var d,m,r,p;c.Qa[a]?m=c.Qa[a].Xj:(r=c.Ef,p=c.So,d=Object.keys(c.Qa).length);b.Bi(null.id,a,e,d,r,p,h,m)};c.Cv=function(){c.Ef+=an.nj/3;c.Ef>an.nj&&(c.Ef=an.nj/3/2)};c.qw=function(a,e,h,k){c.Qa[a]=new bn(c.username,a,e,h,c,null,k);c.Qa[a].Ci||b.gn(h,e,c.Qa[a].h);for(var d in c.Qa)a!=d&&"world"!=d&&(c.Qa[d].h.zf.push([a,a]),c.Qa[a].h.zf.push([d,d]));c.Ud&&(c.Ud.Ix(a,e,c.Qa[a],c.Ef,c.So,k),c.Cv());
return c.Qa[a]};c.Yo=function(a,b,h,k){c.Ud&&null.Yo(a,b,h,k);c.Qa[a].$w(k)};c.Go=function(a){c.Ud&&b.Kw(c.Qa[a].Xj);c.Qa[a].remove();delete c.Qa[a];c.Ud&&c.Ud.Vx(a);for(var d in c.Yj)for(a=c.Yj[d].h.zf.length;a--;)c.Yj[d].h.zf[a][0]==name&&c.Yj[d].h.zf.splice(a,1)};c.rw=function(a,e){c.Qa.world=new bn(c.username,"world","world",a,c,"world_toolbox",e);c.Ud&&c.Ud.Zx(c.Qa.world);c.Qa.world.Ci||b.gn(a,"world",c.Qa.world.h);return c.Qa.world};c.display=function(){for(var a in c.Qa)c.Qa[a].display()};
c.Bo=function(a,c,h){b.Bi(null.id,null,null,null,c,h,null,a)};c.Oo=function(a){new Zm(c,c.username,a)};$("#"+c.username+"-new-hero-button").click(function(){c.Oo(null)});"lion eagle human smiley king knight dancer turtle custom".split(" ").forEach(function(a){$("#"+c.username+"-hero-type").append($("<option></option>",{value:a,text:a}))})}
function bn(a,b,c,d,e,h,k){var m=this;m.Xj=d;m.hw=c;m.hl=b;m.images=k||[];h=h||"toolbox";m.Hb=a+"-"+b;m.Ci=!(id()==a||"teacher"==id().toLowerCase());c=$('<li role="presentation" id="'+m.Hb+'-li"></li>').insertBefore("#"+a+"-new-hero-button");k=$('<a href="#'+m.Hb+'-container" aria-controls="'+m.Hb+'-container" data-toggle="tab" role="tab" class="hero-tab">'+b+"</a>");if(m.images.length){var r=new Image(20,20);r.src=m.images[0];r.id=m.Hb+"-thumbnail";k.append(r)}r=new Image(15,15);r.src="heroes/loading.gif";
r.className="spinner";r.id=m.Hb+"-spinner";k.append(r);"world"==b.toLowerCase()||m.Ci||k.append('<img id="'+m.Hb+'-edit" src="heroes/edit.png" height=15 width=15>');c.append(k);$('<div role="tabpanel" class="tab-pane active" id="'+m.Hb+'-container"  style="width:100%"><div class="workspace" id="'+m.Hb+'" style="width:100%"></div></div>').insertBefore("#"+a+"-add-hero");b=document.getElementById(h);m.h=rm(m.Hb,{media:"third-party/blockly/media/",toolbox:b,readOnly:m.Ci,scrollbars:!0,zoom:{controls:!0,
wheel:!1,maxScale:1,minScale:.7}});m.h.zf=[["item","item"],["edge","edge"]];Lj(m.h,!0);m.$w=function(a){m.images=a;m.h.Qn=[];Object.keys(a).forEach(function(a){m.h.Qn.push([a.toString(),a])});$("#"+m.Hb+"-thumbnail").attr("src",a[0])};m.display=function(){var a=pd(m.h);m.h.clear();ld(a,m.h);uh(m.h)};window.addEventListener("resize",m.display);$("#"+m.Hb+"-li a").click(function(a){a.preventDefault();$(this).tab("show");m.display();md(m.h);nd(m.h,-1)});$("#"+a+'-tabs a[href="#'+m.Hb+'-container"]').click();
cn.forEach(function(a){Zj(m.h,["heroes/"+a[1]+".mp3"],a[1])});m.Mx=function(){var a=m.h,b=X;a||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),a=ih);var c=[];b.g(a);for(var a=Ed(a,!0),d=0,e;e=a[d];d++){var h=jm(b,e);ea(h)&&(h=h[0]);h&&(e.G&&b.Jo&&(h=b.Jo(h)),c.push(h))}c=c.join("\n");c=b.finish(c);c=c.replace(/^\s+\n/,"");c=c.replace(/\n\s+$/,"\n");for(b=c=c.replace(/[ \t]+\n/g,"\n");;){c=b.indexOf("<callback>");a=b.indexOf("</callback>");if(-1==c^-1==a){console.log("Uh oh, there weren't matching callback tokens. We're giving up...");
break}if(-1==c)break;b=b.substring(c+10,a)+b.substring(0,c)+b.substring(a+11,b.length)}return b};m.remove=function(){$("#"+m.Hb+"-li").remove();$("#"+m.Hb+"-container").remove()};m.ay=function(a){document.getElementById(m.Hb+"-spinner").style.visibility=a?"visible":"hidden"};m.ak=function(a){m.h.ak(a)};m.Bo=function(a,b){e.Bo(d,a,b)};m.Gv=function(){e.Oo(m)};$("#"+m.Hb+"-edit").click(function(){setTimeout(function(){m.Gv()},1)})};X.me={};X.variables_get=function(a){return[X.Da.getName(M(a,"VAR"),vd),X.Uc]};X.variables_set=function(a){var b=W(a,"VALUE",X.ud)||"0";return X.Da.getName(M(a,"VAR"),vd)+" = "+b+";\n"};z.Bb={};z.Bb.u=160;
z.text={g:function(){this.L=L.Su;this.v(z.Bb.u);R(R(R(U(this),this.jd(!0)),new oh(""),"TEXT"),this.jd(!1));this.na(!0,"String");var a=this;this.A(function(){var b=a.getParent();return b&&Mk(b)&&b.Vb||L.Tu})},jd:function(a){return new Rk(a==this.j?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",
12,12,'"')}};
z.text_join={g:function(){this.L=L.Ju;this.v(z.Bb.u);this.za=2;this.Ua();this.na(!0,"String");this.Kd(new gk(["text_create_join_item"]));this.A(L.Lu)},qa:function(){var a=document.createElement("mutation");a.setAttribute("items",this.za);return a},Ja:function(a){this.za=parseInt(a.getAttribute("items"),10);this.Ua()},lf:function(a){var b=a.Ic("text_create_join_container");b.Yb();for(var c=O(b,"STACK").F,d=0;d<this.za;d++){var e=a.Ic("text_create_join_item");e.Yb();c.connect(e.O);c=e.D}return b},hf:function(a){var b=
Tk(a,"STACK");for(a=[];b;)a.push(b.bh),b=b.D&&N(b.D);for(b=0;b<this.za;b++){var c=O(this,"ADD"+b).F.I;c&&-1==a.indexOf(c)&&c.disconnect()}this.za=a.length;this.Ua();for(b=0;b<this.za;b++)hk(a[b],this,"ADD"+b)},Ng:function(a){a=Tk(a,"STACK");for(var b=0;a;){var c=O(this,"ADD"+b);a.bh=c&&c.F.I;b++;a=a.D&&N(a.D)}},Ua:function(){this.za&&O(this,"EMPTY")?this.aa("EMPTY"):this.za||O(this,"EMPTY")||R(R(U(this,"EMPTY"),this.jd(!0)),this.jd(!1));for(var a=0;a<this.za;a++)if(!O(this,"ADD"+a)){var b=S(this,
"ADD"+a);0==a&&R(b,L.Ku)}for(;O(this,"ADD"+a);)this.aa("ADD"+a),a++},jd:z.text.jd};z.text_create_join_container={g:function(){this.v(z.Bb.u);R(U(this),L.pu);T(this,"STACK");this.A(L.qu);this.contextMenu=!1}};z.text_create_join_item={g:function(){this.v(z.Bb.u);R(U(this),L.nu);this.H(!0);this.K(!0);this.A(L.ou);this.contextMenu=!1}};
z.text_append={g:function(){this.L=L.Vt;this.v(z.Bb.u);R(R(R(S(this,"TEXT"),L.Wt),new Yg(L.Yt),"VAR"),L.Ut);this.H(!0);this.K(!0);var a=this;this.A(function(){return L.Xt.replace("%1",M(a,"VAR"))})}};z.text_length={g:function(){V(this,{message0:L.Nu,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:z.Bb.u,tooltip:L.Ou,helpUrl:L.Mu})}};
z.text_isEmpty={g:function(){V(this,{message0:L.Hu,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:z.Bb.u,tooltip:L.Iu,helpUrl:L.Gu})}};z.text_indexOf={g:function(){var a=[[L.Du,"FIRST"],[L.Eu,"LAST"]];this.L=L.Bu;this.v(z.Bb.u);this.na(!0,"Number");R(S(this,"VALUE").C("String"),L.Cu);R(S(this,"FIND").C("String"),new J(a),"END");L.Fm&&R(U(this),L.Fm);this.Pa(!0);var b=this;this.A(function(){return L.Fu.replace("%1",b.h.options.kc?"0":"-1")})}};
z.text_charAt={g:function(){this.Of=[[L.gu,"FROM_START"],[L.fu,"FROM_END"],[L.du,"FIRST"],[L.ku,"LAST"],[L.lu,"RANDOM"]];this.L=L.iu;this.v(z.Bb.u);this.na(!0,"String");R(S(this,"VALUE").C("String"),L.ju);U(this,"AT");this.Pa(!0);this.Ra(!0);var a=this;this.A(function(){var b=M(a,"WHERE"),c=L.mu;if("FROM_START"==b||"FROM_END"==b)c+="  "+("FROM_START"==b?L.Jf:L.Nl).replace("%1",a.h.options.kc?"#1":"#0");return c})},qa:function(){var a=document.createElement("mutation");a.setAttribute("at",1==O(this,
"AT").type);return a},Ja:function(a){a="false"!=a.getAttribute("at");this.Ra(a)},Ra:function(a){this.aa("AT");this.aa("ORDINAL",!0);a?(S(this,"AT").C("Number"),L.Vc&&R(U(this,"ORDINAL"),L.Vc)):U(this,"AT");L.Em&&(this.aa("TAIL",!0),R(U(this,"TAIL"),L.Em));var b=new J(this.Of,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.m;e.Ra(c);Lk(e,b,"WHERE");return null}});R(O(this,"AT"),b,"WHERE")}};
z.text_getSubstring={g:function(){this.WHERE_OPTIONS_1=[[L.zu,"FROM_START"],[L.yu,"FROM_END"],[L.xu,"FIRST"]];this.WHERE_OPTIONS_2=[[L.tu,"FROM_START"],[L.su,"FROM_END"],[L.uu,"LAST"]];this.L=L.vu;this.v(z.Bb.u);R(S(this,"STRING").C("String"),L.wu);U(this,"AT1");U(this,"AT2");L.qh&&R(U(this,"TAIL"),L.qh);this.Pa(!0);this.na(!0,"String");this.Ra(1,!0);this.Ra(2,!0);this.A(L.Au)},qa:function(){var a=document.createElement("mutation");a.setAttribute("at1",1==O(this,"AT1").type);a.setAttribute("at2",
1==O(this,"AT2").type);return a},Ja:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Ra(1,b);this.Ra(2,a)},Ra:function(a,b){this.aa("AT"+a);this.aa("ORDINAL"+a,!0);b?(S(this,"AT"+a).C("Number"),L.Vc&&R(U(this,"ORDINAL"+a),L.Vc)):U(this,"AT"+a);2==a&&L.qh&&(this.aa("TAIL",!0),R(U(this,"TAIL"),L.qh));var c=new J(this["WHERE_OPTIONS_"+a],function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=b){var h=this.m;h.Ra(a,d);Lk(h,c,"WHERE"+a);return null}});R(O(this,"AT"+
a),c,"WHERE"+a);1==a&&Sk(this,"AT1","AT2")}};z.text_changeCase={g:function(){var a=[[L.bu,"UPPERCASE"],[L.$t,"LOWERCASE"],[L.au,"TITLECASE"]];this.L=L.Zt;this.v(z.Bb.u);R(S(this,"TEXT").C("String"),new J(a),"CASE");this.na(!0,"String");this.A(L.cu)}};z.text_trim={g:function(){var a=[[L.Vu,"BOTH"],[L.Wu,"LEFT"],[L.Xu,"RIGHT"]];this.L=L.Uu;this.v(z.Bb.u);R(S(this,"TEXT").C("String"),new J(a),"MODE");this.na(!0,"String");this.A(L.Yu)}};
z.text_print={g:function(){V(this,{message0:L.Qu,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:z.Bb.u,tooltip:L.Ru,helpUrl:L.Pu})}};
z.text_prompt_ext={g:function(){var a=[[L.Km,"TEXT"],[L.Jm,"NUMBER"]];this.L=L.Gm;this.v(z.Bb.u);var b=this,a=new J(a,function(a){b.Qc(a)});R(S(this,"TEXT"),a,"TYPE");this.na(!0,"String");this.A(function(){return"TEXT"==M(b,"TYPE")?L.Im:L.Hm})},Qc:function(a){this.G.C("NUMBER"==a?"Number":"String")},qa:function(){var a=document.createElement("mutation");a.setAttribute("type",M(this,"TYPE"));return a},Ja:function(a){this.Qc(a.getAttribute("type"))}};
z.text_prompt={g:function(){var a=[[L.Km,"TEXT"],[L.Jm,"NUMBER"]],b=this;this.L=L.Gm;this.v(z.Bb.u);a=new J(a,function(a){b.Qc(a)});R(R(R(R(U(this),a,"TYPE"),this.jd(!0)),new oh(""),"TEXT"),this.jd(!1));this.na(!0,"String");this.A(function(){return"TEXT"==M(b,"TYPE")?L.Im:L.Hm})},jd:z.text.jd,Qc:z.text_prompt_ext.Qc,qa:z.text_prompt_ext.qa,Ja:z.text_prompt_ext.Ja};z.me={};z.me.u=330;z.variables_get={g:function(){this.L=L.Mm;this.v(z.me.u);R(U(this),new Yg(L.ff),"VAR");this.na(!0);this.A(L.Nm);this.Eh=L.Lm},Fh:"variables_set",gc:function(a){var b={enabled:!0},c=M(this,"VAR");b.text=this.Eh.replace("%1",c);c=w("field",null,c);c.setAttribute("name","VAR");c=w("block",null,c);c.setAttribute("type",this.Fh);b.Za=Yj.wh(this,c);a.push(b)}};
z.variables_set={g:function(){V(this,{message0:L.av,args0:[{type:"field_variable",name:"VAR",variable:L.ff},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,colour:z.me.u,tooltip:L.Pm,helpUrl:L.Om});this.Eh=L.rh},Fh:"variables_get",gc:z.variables_get.gc};X.bd={};X.colour_picker=function(a){return["'"+M(a,"COLOUR")+"'",X.Uc]};X.colour_random=function(){return[mm(X,"colourRandom",["function "+X.rb+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",X.U]};
X.colour_rgb=function(a){var b=W(a,"RED",X.va)||0,c=W(a,"GREEN",X.va)||0;a=W(a,"BLUE",X.va)||0;return[mm(X,"colourRgb",["function "+X.rb+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;",
"}"])+"("+b+", "+c+", "+a+")",X.U]};
X.colour_blend=function(a){var b=W(a,"COLOUR1",X.va)||"'#000000'",c=W(a,"COLOUR2",X.va)||"'#000000'";a=W(a,"RATIO",X.va)||.5;return[mm(X,"colourBlend",["function "+X.rb+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);",
"  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",X.U]};z.bd={};z.bd.u=20;z.colour_picker={g:function(){V(this,{message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:z.bd.u,helpUrl:L.np});var a=this;this.A(function(){var b=a.getParent();return b&&Mk(b)&&b.Vb||L.op})}};z.colour_random={g:function(){V(this,{message0:L.qp,output:"Colour",colour:z.bd.u,tooltip:L.rp,helpUrl:L.pp})}};
z.colour_rgb={g:function(){this.L=L.up;this.v(z.bd.u);R(R(Ik(S(this,"RED").C("Number"),1),L.wp),L.vp);R(Ik(S(this,"GREEN").C("Number"),1),L.tp);R(Ik(S(this,"BLUE").C("Number"),1),L.sp);this.na(!0,"Colour");this.A(L.xp)}};z.colour_blend={g:function(){this.L=L.jp;this.v(z.bd.u);R(R(Ik(S(this,"COLOUR1").C("Colour"),1),L.lp),L.hp);R(Ik(S(this,"COLOUR2").C("Colour"),1),L.ip);R(Ik(S(this,"RATIO").C("Number"),1),L.kp);this.na(!0,"Colour");this.A(L.mp)}};z.Hc={};z.Hc.u=120;z.controls_repeat_ext={g:function(){V(this,{message0:L.Yi,args0:[{type:"input_value",name:"TIMES",check:"Number"}],previousStatement:null,nextStatement:null,colour:z.Hc.u,tooltip:L.Zi,helpUrl:L.Xi});R(T(this,"DO"),L.ne)}};z.controls_repeat={g:function(){V(this,{message0:L.Yi,args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],previousStatement:null,nextStatement:null,colour:z.Hc.u,tooltip:L.Zi,helpUrl:L.Xi});R(T(this,"DO"),L.ne)}};
z.controls_whileUntil={g:function(){var a=[[L.Rp,"WHILE"],[L.Qp,"UNTIL"]];this.L=L.Al;this.v(z.Hc.u);R(S(this,"BOOL").C("Boolean"),new J(a),"MODE");R(T(this,"DO"),L.Pp);this.H(!0);this.K(!0);var b=this;this.A(function(){var a=M(b,"MODE");return{WHILE:L.Bl,UNTIL:L.Sp}[a]})}};
z.controls_for={g:function(){V(this,{message0:L.Ip,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:z.Hc.u,helpUrl:L.ql});R(T(this,"DO"),L.Hp);var a=this;this.A(function(){return L.rl.replace("%1",M(a,"VAR"))})},gc:function(a){if(!this.isCollapsed()){var b=
{enabled:!0},c=M(this,"VAR");b.text=L.rh.replace("%1",c);c=w("field",null,c);c.setAttribute("name","VAR");c=w("block",null,c);c.setAttribute("type","variables_get");b.Za=Yj.wh(this,c);a.push(b)}}};
z.controls_forEach={g:function(){V(this,{message0:L.Fp,args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],previousStatement:null,nextStatement:null,colour:z.Hc.u,helpUrl:L.Dp});R(T(this,"DO"),L.Ep);var a=this;this.A(function(){return L.Gp.replace("%1",M(a,"VAR"))})},gc:z.controls_for.gc};
z.controls_flow_statements={g:function(){var a=[[L.ll,"BREAK"],[L.ol,"CONTINUE"]];this.L=L.zp;this.v(z.Hc.u);R(U(this),new J(a),"FLOW");this.H(!0);var b=this;this.A(function(){var a=M(b,"FLOW");return{BREAK:L.Ap,CONTINUE:L.Bp}[a]})},onchange:function(){var a=!1,b=this;do{if(-1!=this.Vr.indexOf(b.type)){a=!0;break}b=Kk(b)}while(b);a?this.eb(null):this.eb(L.Cp)},Vr:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]};X.wb={};X.math_number=function(a){return[parseFloat(M(a,"NUM")),X.Uc]};X.math_arithmetic=function(a){var b={ADD:[" + ",X.Tc],MINUS:[" - ",X.Rd],MULTIPLY:[" * ",X.gj],DIVIDE:[" / ",X.lh],POWER:[null,X.va]}[M(a,"OP")],c=b[0],b=b[1],d=W(a,"A",b)||"0";a=W(a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",X.U]};
X.math_single=function(a){var b=M(a,"OP"),c;if("NEG"==b)return a=W(a,"NUM",X.nh)||"0","-"==a[0]&&(a=" "+a),["-"+a,X.nh];a="SIN"==b||"COS"==b||"TAN"==b?W(a,"NUM",X.lh)||"0":W(a,"NUM",X.R)||"0";switch(b){case "ABS":c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c="Math.floor("+
a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,X.U];switch(b){case "LOG10":c="Math.log("+a+") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw"Unknown math operator: "+b;}return[c,X.lh]};
X.math_constant=function(a){return{PI:["Math.PI",X.wa],E:["Math.E",X.wa],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",X.lh],SQRT2:["Math.SQRT2",X.wa],SQRT1_2:["Math.SQRT1_2",X.wa],INFINITY:["Infinity",X.Uc]}[M(a,"CONSTANT")]};
X.math_number_property=function(a){var b=W(a,"NUMBER_TO_CHECK",X.Lf)||"0",c=M(a,"PROPERTY"),d;if("PRIME"==c)return d=mm(X,"mathIsPrime",["function "+X.rb+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")",[d,X.U];switch(c){case "EVEN":d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=W(a,"DIVISOR",X.Lf)||"0",d=b+" % "+a+" == 0"}return[d,X.rm]};
X.math_change=function(a){var b=W(a,"DELTA",X.Tc)||"0";a=X.Da.getName(M(a,"VAR"),vd);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};X.math_round=X.math_single;X.math_trig=X.math_single;
X.math_on_list=function(a){var b=M(a,"OP");switch(b){case "SUM":a=W(a,"LIST",X.wa)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=W(a,"LIST",X.va)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=W(a,"LIST",X.va)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=mm(X,"mathMean",["function "+X.rb+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=W(a,"LIST",X.R)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=mm(X,"mathMedian",
["function "+X.rb+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=W(a,"LIST",X.R)||"[]";a=b+"("+a+")";break;case "MODE":b=mm(X,"mathModes",["function "+X.rb+"(values) {",
"  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }",
"  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=W(a,"LIST",X.R)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=mm(X,"mathStandardDeviation",["function "+X.rb+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=W(a,"LIST",X.R)||"[]";a=b+"("+a+")";break;case "RANDOM":b=mm(X,"mathRandomList",["function "+X.rb+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=W(a,"LIST",X.R)||"[]";a=b+"("+a+")";break;default:throw"Unknown operator: "+b;}return[a,X.U]};X.math_modulo=function(a){var b=W(a,"DIVIDEND",X.Lf)||"0";a=W(a,"DIVISOR",X.Lf)||"0";return[b+" % "+a,X.Lf]};
X.math_constrain=function(a){var b=W(a,"VALUE",X.va)||"0",c=W(a,"LOW",X.va)||"0";a=W(a,"HIGH",X.va)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",X.U]};X.math_random_int=function(a){var b=W(a,"FROM",X.va)||"0";a=W(a,"TO",X.va)||"0";return[mm(X,"mathRandomInt",["function "+X.rb+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+b+", "+a+")",X.U]};
X.math_random_float=function(){return["Math.random()",X.U]};z.lc={};z.lc.u=290;
z.procedures_defnoreturn={g:function(){var a=new oh(L.hj,te);a.Pi=!1;R(R(R(U(this),L.zm),a,"NAME"),"","PARAMS");this.Kd(new gk(["procedures_mutatorarg"]));(this.h.options.Vf||this.h.options.xb&&this.h.options.xb.options.Vf)&&L.Mf&&this.Jd(L.Mf);this.v(z.lc.u);this.A(L.Am);this.L=L.ym;this.J=[];this.Md(!0);this.Pc=null},Md:function(a){this.ci!==a&&(a?(R(T(this,"STACK"),L.xm),O(this,"RETURN")&&Sk(this,"STACK","RETURN")):this.aa("STACK",!0),this.ci=a)},$g:function(){for(var a=!1,b={},c=0;c<this.J.length;c++){if(b["arg_"+
this.J[c].toLowerCase()]){a=!0;break}b["arg_"+this.J[c].toLowerCase()]=!0}a?this.eb(L.Et):this.eb(null);a="";this.J.length&&(a=L.sm+" "+this.J.join(", "));H++;try{Lk(this,a,"PARAMS")}finally{H--}},qa:function(a){var b=document.createElement("mutation");a&&b.setAttribute("name",M(this,"NAME"));for(var c=0;c<this.J.length;c++){var d=document.createElement("arg");d.setAttribute("name",this.J[c]);a&&this.xk&&d.setAttribute("paramId",this.xk[c]);b.appendChild(d)}this.ci||b.setAttribute("statements","false");
return b},Ja:function(a){this.J=[];for(var b=0,c;c=a.childNodes[b];b++)"arg"==c.nodeName.toLowerCase()&&this.J.push(c.getAttribute("name"));this.$g();ve(this);this.Md("false"!==a.getAttribute("statements"))},lf:function(a){var b=a.Ic("procedures_mutatorcontainer");b.Yb();O(this,"RETURN")?Lk(b,this.ci?"TRUE":"FALSE","STATEMENTS"):O(b,"STATEMENT_INPUT").ga(!1);for(var c=O(b,"STACK").F,d=0;d<this.J.length;d++){var e=a.Ic("procedures_mutatorarg");e.Yb();Lk(e,this.J[d],"NAME");e.Tx=d;c.connect(e.O);c=
e.D}ve(this);return b},hf:function(a){this.J=[];this.xk=[];for(var b=Tk(a,"STACK");b;)this.J.push(M(b,"NAME")),this.xk.push(b.id),b=b.D&&N(b.D);this.$g();ve(this);a=M(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.ci!=a))if(a)this.Md(!0),hk(this.Pc,this,"STACK"),this.Pc=null;else{a=O(this,"STACK").F;if(this.Pc=a.I)a=N(a),mi(a),me(a);this.Md(!1)}},Ad:function(){return[M(this,"NAME"),this.J,!1]},kg:function(){return this.J},ge:function(a,b){for(var c=!1,d=0;d<this.J.length;d++)xd(a,this.J[d])&&(this.J[d]=
b,c=!0);if(c&&(this.$g(),this.jc.$()))for(var c=this.jc.i.uc(),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&xd(a,M(e,"NAME"))&&Lk(e,b,"NAME")},gc:function(a){var b={enabled:!0},c=M(this,"NAME");b.text=L.Ct.replace("%1",c);var d=w("mutation");d.setAttribute("name",c);for(var e=0;e<this.J.length;e++)c=w("arg"),c.setAttribute("name",this.J[e]),d.appendChild(c);d=w("block",null,d);d.setAttribute("type",this.Ym);b.Za=Yj.wh(this,d);a.push(b);if(!this.isCollapsed())for(e=0;e<this.J.length;e++)b={enabled:!0},
c=this.J[e],b.text=L.rh.replace("%1",c),d=w("field",null,c),d.setAttribute("name","VAR"),d=w("block",null,d),d.setAttribute("type","variables_get"),b.Za=Yj.wh(this,d),a.push(b)},Ym:"procedures_callnoreturn"};
z.procedures_defreturn={g:function(){var a=new oh(L.Cm,te);a.Pi=!1;R(R(R(U(this),L.Dt),a,"NAME"),"","PARAMS");R(Ik(S(this,"RETURN"),1),L.Nf);this.Kd(new gk(["procedures_mutatorarg"]));(this.h.options.Vf||this.h.options.xb&&this.h.options.xb.options.Vf)&&L.oh&&this.Jd(L.oh);this.v(z.lc.u);this.A(L.Dm);this.L=L.Bm;this.J=[];this.Md(!0);this.Pc=null},Md:z.procedures_defnoreturn.Md,$g:z.procedures_defnoreturn.$g,qa:z.procedures_defnoreturn.qa,Ja:z.procedures_defnoreturn.Ja,lf:z.procedures_defnoreturn.lf,
hf:z.procedures_defnoreturn.hf,Ad:function(){return[M(this,"NAME"),this.J,!0]},kg:z.procedures_defnoreturn.kg,ge:z.procedures_defnoreturn.ge,gc:z.procedures_defnoreturn.gc,Ym:"procedures_callreturn"};z.procedures_mutatorcontainer={g:function(){R(U(this),L.Lt);T(this,"STACK");R(R(U(this,"STATEMENT_INPUT"),L.At),new Pk("TRUE"),"STATEMENTS");this.v(z.lc.u);this.A(L.Mt);this.contextMenu=!1}};
z.procedures_mutatorarg={g:function(){var a=new oh("x",this.ah);R(R(U(this),L.Jt),a,"NAME");this.H(!0);this.K(!0);this.v(z.lc.u);this.A(L.Kt);this.contextMenu=!1;a.rk=this.uv;a.rk("x")},ah:function(a){return(a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""))||null},uv:function(a){var b=this.m;b&&b.h&&b.h.options&&b.h.options.xb&&b.h.options.xb.kf(a)}};
z.procedures_callnoreturn={g:function(){R(U(this,"TOPROW"),this.id,"NAME");this.H(!0);this.K(!0);this.v(z.lc.u);this.L=L.tm;this.J=[];this.Hd={};this.Mc=null},vc:function(){return M(this,"NAME")},Lg:function(a,b){xd(a,this.vc())&&(Lk(this,b,"NAME"),this.A((this.G?L.wm:L.um).replace("%1",b)))},Sk:function(a,b){var c=we(this.vc(),this.h),c=c&&c.jc&&c.jc.$();c||(this.Hd={},this.Mc=null);if(b){var d;a:if(d=this.J,fa(d)&&fa(a)&&d.length==a.length){for(var e=d.length,h=0;h<e;h++)if(d[h]!==a[h]){d=!1;break a}d=
!0}else d=!1;if(d)this.Mc=b;else{if(b.length!=a.length)throw"Error: paramNames and paramIds must be the same length.";this.ke(!1);this.Mc||(this.Hd={},a.join("\n")==this.J.join("\n")?this.Mc=b:this.Mc=[]);d=this.M;this.M=!1;for(e=0;e<this.J.length;e++)if(h=O(this,"ARG"+e))h=h.F.I,this.Hd[this.Mc[e]]=h,c&&h&&-1==b.indexOf(this.Mc[e])&&(h.disconnect(),me(h.m));this.J=[].concat(a);this.Ua();if(this.Mc=b)for(e=0;e<this.J.length;e++)c=this.Mc[e],c in this.Hd&&(h=this.Hd[c],hk(h,this,"ARG"+e)||delete this.Hd[c]);
(this.M=d)&&this.T()}}},Ua:function(){for(var a=0;a<this.J.length;a++){var b=ii(this,"ARGNAME"+a);if(b){H++;try{b.setValue(this.J[a])}finally{H--}}else b=new Bk(this.J[a]),R(Ik(S(this,"ARG"+a),1),b,"ARGNAME"+a).g()}for(;O(this,"ARG"+a);)this.aa("ARG"+a),a++;if(a=O(this,"TOPROW"))this.J.length?ii(this,"WITH")||(R(a,L.Bt,"WITH"),a.g()):ii(this,"WITH")&&Ek(a,"WITH")},qa:function(){var a=document.createElement("mutation");a.setAttribute("name",this.vc());for(var b=0;b<this.J.length;b++){var c=document.createElement("arg");
c.setAttribute("name",this.J[b]);a.appendChild(c)}return a},Ja:function(a){var b=a.getAttribute("name");this.Lg(this.vc(),b);for(var b=[],c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),c.push(e.getAttribute("paramId")));this.Sk(b,c)},ge:function(a,b){for(var c=0;c<this.J.length;c++)xd(a,this.J[c])&&(this.J[c]=b,ii(this,"ARGNAME"+c).setValue(b))},onchange:function(a){if(this.h&&!this.h.De)if("create"==a.type&&-1!=a.gi.indexOf(this.id)){var b=this.vc(),
b=we(b,this.h);!b||b.type==this.Ej&&JSON.stringify(b.J)==JSON.stringify(this.J)||(b=null);if(!b){B(a.group);a=w("xml");b=w("block");b.setAttribute("type",this.Ej);var c=this.ua(),d=c.y+40;b.setAttribute("x",c.x+20*(this.j?-1:1));b.setAttribute("y",d);c=this.qa();b.appendChild(c);c=w("field");c.setAttribute("name","NAME");c.appendChild(document.createTextNode(this.vc()));b.appendChild(c);a.appendChild(b);ld(a,this.h);B(!1)}}else"delete"==a.type&&(b=this.vc(),b=we(b,this.h),b||(B(a.group),this.w(!0,
!1),B(!1)))},gc:function(a){var b={enabled:!0};b.text=L.Ft;var c=this.vc(),d=this.h;b.Za=function(){var a=we(c,d);a&&a.select()};a.push(b)},Ej:"procedures_defnoreturn"};
z.procedures_callreturn={g:function(){R(U(this,"TOPROW"),"","NAME");this.na(!0);this.v(z.lc.u);this.L=L.vm;this.J=[];this.Hd={};this.Mc=null},vc:z.procedures_callnoreturn.vc,Lg:z.procedures_callnoreturn.Lg,Sk:z.procedures_callnoreturn.Sk,Ua:z.procedures_callnoreturn.Ua,qa:z.procedures_callnoreturn.qa,Ja:z.procedures_callnoreturn.Ja,ge:z.procedures_callnoreturn.ge,onchange:z.procedures_callnoreturn.onchange,gc:z.procedures_callnoreturn.gc,Ej:"procedures_defreturn"};
z.procedures_ifreturn={g:function(){R(S(this,"CONDITION").C("Boolean"),L.Wi);R(S(this,"VALUE"),L.Nf);this.Pa(!0);this.H(!0);this.K(!0);this.v(z.lc.u);this.A(L.Ht);this.L=L.Gt;this.Zd=!0},qa:function(){var a=document.createElement("mutation");a.setAttribute("value",Number(this.Zd));return a},Ja:function(a){this.Zd=1==a.getAttribute("value");this.Zd||(this.aa("VALUE"),R(U(this,"VALUE"),L.Nf))},onchange:function(){var a=!1,b=this;do{if(-1!=this.eq.indexOf(b.type)){a=!0;break}b=Kk(b)}while(b);a?("procedures_defnoreturn"==
b.type&&this.Zd?(this.aa("VALUE"),R(U(this,"VALUE"),L.Nf),this.Zd=!1):"procedures_defreturn"!=b.type||this.Zd||(this.aa("VALUE"),R(S(this,"VALUE"),L.Nf),this.Zd=!0),this.eb(null)):this.eb(L.It)},eq:["procedures_defnoreturn","procedures_defreturn"]};z.wb={};z.wb.u=230;z.math_number={g:function(){this.L=L.lm;this.v(z.wb.u);R(U(this),new vh("0"),"NUM");this.na(!0,"Number");var a=this;this.A(function(){var b=a.getParent();return b&&Mk(b)&&b.Vb||L.mm})}};
z.math_arithmetic={g:function(){V(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[[L.Wr,"ADD"],[L.ft,"MINUS"],[L.vs,"MULTIPLY"],[L.gs,"DIVIDE"],[L.Ns,"POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:z.wb.u,helpUrl:L.dm});var a=this;this.A(function(){var b=M(a,"OP");return{ADD:L.em,MINUS:L.gm,MULTIPLY:L.hm,DIVIDE:L.fm,POWER:L.Xr}[b]})}};
z.math_single={g:function(){V(this,{message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[L.Ys,"ROOT"],[L.Xs,"ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:z.wb.u,helpUrl:L.Ws});var a=this;this.A(function(){var b=M(a,"OP");return{ROOT:L.et,ABS:L.Zs,NEG:L.ct,LN:L.at,LOG10:L.bt,EXP:L.$s,POW10:L.dt}[b]})}};
z.math_trig={g:function(){V(this,{message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[L.nt,"SIN"],[L.kt,"COS"],[L.ot,"TAN"],[L.ht,"ASIN"],[L.gt,"ACOS"],[L.jt,"ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:z.wb.u,helpUrl:L.mt});var a=this;this.A(function(){var b=M(a,"OP");return{SIN:L.ut,COS:L.tt,TAN:L.vt,ASIN:L.rt,ACOS:L.qt,ATAN:L.st}[b]})}};
z.math_constant={g:function(){V(this,{message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:z.wb.u,tooltip:L.as,helpUrl:L.$r})}};
z.math_number_property={g:function(){var a=[[L.js,"EVEN"],[L.ls,"ODD"],[L.os,"PRIME"],[L.rs,"WHOLE"],[L.ns,"POSITIVE"],[L.ks,"NEGATIVE"],[L.hs,"DIVISIBLE_BY"]];this.v(z.wb.u);S(this,"NUMBER_TO_CHECK").C("Number");a=new J(a,function(a){this.m.Ua("DIVISIBLE_BY"==a)});R(U(this),a,"PROPERTY");this.Pa(!0);this.na(!0,"Boolean");this.A(L.qs)},qa:function(){var a=document.createElement("mutation"),b="DIVISIBLE_BY"==M(this,"PROPERTY");a.setAttribute("divisor_input",b);return a},Ja:function(a){a="true"==a.getAttribute("divisor_input");
this.Ua(a)},Ua:function(a){var b=O(this,"DIVISOR");a?b||S(this,"DIVISOR").C("Number"):b&&this.aa("DIVISOR")}};z.math_change={g:function(){V(this,{message0:L.Yr,args0:[{type:"field_variable",name:"VAR",variable:L.Zr},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:z.me.u,helpUrl:L.im});var a=this;this.A(function(){return L.jm.replace("%1",M(a,"VAR"))})}};
z.math_round={g:function(){V(this,{message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[[L.Ss,"ROUND"],[L.Us,"ROUNDUP"],[L.Ts,"ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:z.wb.u,tooltip:L.Vs,helpUrl:L.Rs})}};
z.math_on_list={g:function(){var a=[[L.Es,"SUM"],[L.As,"MIN"],[L.ys,"MAX"],[L.xs,"AVERAGE"],[L.zs,"MEDIAN"],[L.Bs,"MODE"],[L.Ds,"STD_DEV"],[L.Cs,"RANDOM"]],b=this;this.L=L.ws;this.v(z.wb.u);this.na(!0,"Number");a=new J(a,function(a){b.Qc(a)});R(S(this,"LIST").C("Array"),a,"OP");this.A(function(){var a=M(b,"OP");return{SUM:L.Ms,MIN:L.Is,MAX:L.Gs,AVERAGE:L.Fs,MEDIAN:L.Hs,MODE:L.Js,STD_DEV:L.Ls,RANDOM:L.Ks}[a]})},Qc:function(a){"MODE"==a?this.G.C("Array"):this.G.C("Number")},qa:function(){var a=document.createElement("mutation");
a.setAttribute("op",M(this,"OP"));return a},Ja:function(a){this.Qc(a.getAttribute("op"))}};z.math_modulo={g:function(){V(this,{message0:L.ts,args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:z.wb.u,tooltip:L.us,helpUrl:L.ss})}};
z.math_constrain={g:function(){V(this,{message0:L.ds,args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:z.wb.u,tooltip:L.fs,helpUrl:L.bs})}};z.math_random_int={g:function(){V(this,{message0:L.Qs,args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:z.wb.u,tooltip:L.pm,helpUrl:L.om})}};
z.math_random_float={g:function(){V(this,{message0:L.nm,output:"Number",colour:z.wb.u,tooltip:L.Ps,helpUrl:L.Os})}};X.lc={};X.procedures_defreturn=function(a){var b=X.Da.getName(M(a,"NAME"),"PROCEDURE"),c=km(a,"STACK");X.ef&&(c=im(X.ef.replace(/%1/g,"'"+a.id+"'"),X.Ze)+c);X.$e&&(c=X.$e.replace(/%1/g,"'"+a.id+"'")+c);var d=W(a,"RETURN",X.R)||"";d&&(d="  return "+d+";\n");for(var e=[],h=0;h<a.J.length;h++)e[h]=X.Da.getName(a.J[h],vd);c="function "+b+"("+e.join(", ")+") {\n"+c+d+"}";c=X.Lk(a,c);X.re["%"+b]=c;return null};X.procedures_defnoreturn=X.procedures_defreturn;
X.procedures_callreturn=function(a){for(var b=X.Da.getName(M(a,"NAME"),"PROCEDURE"),c=[],d=0;d<a.J.length;d++)c[d]=W(a,"ARG"+d,X.va)||"null";return[b+"("+c.join(", ")+")",X.U]};X.procedures_callnoreturn=function(a){for(var b=X.Da.getName(M(a,"NAME"),"PROCEDURE"),c=[],d=0;d<a.J.length;d++)c[d]=W(a,"ARG"+d,X.va)||"null";return b+"("+c.join(", ")+");\n"};
X.procedures_ifreturn=function(a){var b="if ("+(W(a,"CONDITION",X.R)||"false")+") {\n";a.Zd?(a=W(a,"VALUE",X.R)||"null",b+="  return "+a+";\n"):b+="  return;\n";return b+"}\n"};z.$b={};z.$b.u=210;
z.controls_if={g:function(){this.L=L.sl;this.v(z.$b.u);R(S(this,"IF0").C("Boolean"),L.Wi);R(T(this,"DO0"),L.fh);this.H(!0);this.K(!0);this.Kd(new gk(["controls_if_elseif","controls_if_else"]));var a=this;this.A(function(){if(a.$a||a.sb){if(!a.$a&&a.sb)return L.xl;if(a.$a&&!a.sb)return L.yl;if(a.$a&&a.sb)return L.zl}else return L.wl;return""});this.sb=this.$a=0},qa:function(){if(!this.$a&&!this.sb)return null;var a=document.createElement("mutation");this.$a&&a.setAttribute("elseif",this.$a);this.sb&&
a.setAttribute("else",1);return a},Ja:function(a){this.$a=parseInt(a.getAttribute("elseif"),10)||0;this.sb=parseInt(a.getAttribute("else"),10)||0;this.Ua()},lf:function(a){var b=a.Ic("controls_if_if");b.Yb();for(var c=b.D,d=1;d<=this.$a;d++){var e=a.Ic("controls_if_elseif");e.Yb();c.connect(e.O);c=e.D}this.sb&&(a=a.Ic("controls_if_else"),a.Yb(),c.connect(a.O));return b},hf:function(a){var b=N(a.D);this.sb=this.$a=0;a=[null];for(var c=[null],d=null;b;){switch(b.type){case "controls_if_elseif":this.$a++;
a.push(b.bh);c.push(b.Pc);break;case "controls_if_else":this.sb++;d=b.Pc;break;default:throw"Unknown block type.";}b=b.D&&N(b.D)}this.Ua();for(b=1;b<=this.$a;b++)hk(a[b],this,"IF"+b),hk(c[b],this,"DO"+b);hk(d,this,"ELSE")},Ng:function(a){a=N(a.D);for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=O(this,"IF"+b),d=O(this,"DO"+b);a.bh=c&&c.F.I;a.Pc=d&&d.F.I;b++;break;case "controls_if_else":d=O(this,"ELSE");a.Pc=d&&d.F.I;break;default:throw"Unknown block type.";}a=a.D&&N(a.D)}},Ua:function(){O(this,
"ELSE")&&this.aa("ELSE");for(var a=1;O(this,"IF"+a);)this.aa("IF"+a),this.aa("DO"+a),a++;for(a=1;a<=this.$a;a++)R(S(this,"IF"+a).C("Boolean"),L.vl),R(T(this,"DO"+a),L.fh);this.sb&&R(T(this,"ELSE"),L.ul)}};z.controls_if_if={g:function(){this.v(z.$b.u);R(U(this),L.Np);this.K(!0);this.A(L.Op);this.contextMenu=!1}};z.controls_if_elseif={g:function(){this.v(z.$b.u);R(U(this),L.Jp);this.H(!0);this.K(!0);this.A(L.Kp);this.contextMenu=!1}};
z.controls_if_else={g:function(){this.v(z.$b.u);R(U(this),L.Lp);this.H(!0);this.A(L.Mp);this.contextMenu=!1}};
z.logic_compare={g:function(){var a=[["=","EQ"],["\u2260","NEQ"],["\u200f<\u200f","LT"],["\u200f\u2264\u200f","LTE"],["\u200f>\u200f","GT"],["\u200f\u2265\u200f","GTE"]],b=[["=","EQ"],["\u2260","NEQ"],["<","LT"],["\u2264","LTE"],[">","GT"],["\u2265","GTE"]],a=this.j?a:b;this.L=L.Ul;this.v(z.$b.u);this.na(!0,"Boolean");S(this,"A");R(S(this,"B"),new J(a),"OP");this.Pa(!0);var c=this;this.A(function(){var a=M(c,"OP");return{EQ:L.Vl,NEQ:L.$l,LT:L.Yl,LTE:L.Zl,GT:L.Wl,GTE:L.Xl}[a]});this.Hg=[null,null]},
onchange:function(a){var b=Tk(this,"A"),c=Tk(this,"B");if(b&&c&&!gj(b.G,c.G)){B(a.group);for(a=0;a<this.Hg.length;a++){var d=this.Hg[a];if(d===b||d===c)mi(d),me(d)}B(!1)}this.Hg[0]=b;this.Hg[1]=c}};z.logic_operation={g:function(){var a=[[L.bm,"AND"],[L.cm,"OR"]];this.L=L.Nr;this.v(z.$b.u);this.na(!0,"Boolean");S(this,"A").C("Boolean");R(S(this,"B").C("Boolean"),new J(a),"OP");this.Pa(!0);var b=this;this.A(function(){var a=M(b,"OP");return{AND:L.Or,OR:L.Pr}[a]})}};
z.logic_negate={g:function(){V(this,{message0:L.am,args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",colour:z.$b.u,tooltip:L.Jr,helpUrl:L.Ir})}};z.logic_boolean={g:function(){V(this,{message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[[L.Tl,"TRUE"],[L.Sl,"FALSE"]]}],output:"Boolean",colour:z.$b.u,tooltip:L.Hr,helpUrl:L.Gr})}};z.logic_null={g:function(){V(this,{message0:L.Kr,output:null,colour:z.$b.u,tooltip:L.Mr,helpUrl:L.Lr})}};
z.logic_ternary={g:function(){this.L=L.Rr;this.v(z.$b.u);R(S(this,"IF").C("Boolean"),L.Qr);R(S(this,"THEN"),L.Tr);R(S(this,"ELSE"),L.Sr);this.na(!0);this.A(L.Ur);this.yo=null},onchange:function(a){var b=Tk(this,"THEN"),c=Tk(this,"ELSE"),d=this.G.I;if((b||c)&&d)for(var e=0;2>e;e++){var h=1==e?b:c;h&&!gj(h.G,d)&&(B(a.group),d===this.yo?(mi(this),me(d.m)):(mi(h),me(h)),B(!1))}this.yo=d}};X.Bb={};X.text=function(a){return[X.Do(M(a,"TEXT")),X.Uc]};X.text_join=function(a){switch(a.za){case 0:return["''",X.Uc];case 1:return a="String("+(W(a,"ADD0",X.R)||"''")+")",[a,X.U];case 2:var b=W(a,"ADD0",X.R)||"''";a=W(a,"ADD1",X.R)||"''";return["String("+b+") + String("+a+")",X.Tc];default:for(var b=Array(a.za),c=0;c<a.za;c++)b[c]=W(a,"ADD"+c,X.va)||"''";a="["+b.join(",")+"].join('')";return[a,X.U]}};
X.text_append=function(a){var b=X.Da.getName(M(a,"VAR"),vd);a=W(a,"TEXT",X.R)||"''";return b+" = String("+b+") + String("+a+");\n"};X.text_length=function(a){return[(W(a,"VALUE",X.U)||"''")+".length",X.wa]};X.text_isEmpty=function(a){return["!"+(W(a,"VALUE",X.wa)||"''")+".length",X.cf]};X.text_indexOf=function(a){var b="FIRST"==M(a,"END")?"indexOf":"lastIndexOf",c=W(a,"FIND",X.R)||"''",b=(W(a,"VALUE",X.wa)||"''")+"."+b+"("+c+")";return a.h.options.kc?[b+" + 1",X.Tc]:[b,X.U]};
X.text_charAt=function(a){var b=M(a,"WHERE")||"FROM_START",c=W(a,"VALUE","RANDOM"==b?X.R:X.wa)||"''";switch(b){case "FIRST":return[c+".charAt(0)",X.U];case "LAST":return[c+".slice(-1)",X.U];case "FROM_START":return a=X.tb(a,"AT"),[c+".charAt("+a+")",X.U];case "FROM_END":return a=X.tb(a,"AT",1,!0),[c+".slice("+a+").charAt(0)",X.U];case "RANDOM":return c=mm(X,"textRandomLetter",["function "+X.rb+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+c+")",[c,X.U]}throw"Unhandled option (text_charAt).";
};X.text.Sj=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
X.text_getSubstring=function(a){var b=W(a,"STRING",X.U)||"''",c=M(a,"WHERE1"),d=M(a,"WHERE2");if("FIRST"!=c||"LAST"!=d)if(b.match(/^'?\w+'?$/)||"FROM_END"!=c&&"LAST"!=c&&"FROM_END"!=d&&"LAST"!=d){switch(c){case "FROM_START":var e=X.tb(a,"AT1");break;case "FROM_END":e=X.tb(a,"AT1",1,!1,X.Rd);e=b+".length - "+e;break;case "FIRST":e="0";break;default:throw"Unhandled option (text_getSubstring).";}switch(d){case "FROM_START":a=X.tb(a,"AT2",1);break;case "FROM_END":a=X.tb(a,"AT2",0,!1,X.Rd);a=b+".length - "+
a;break;case "LAST":a=b+".length";break;default:throw"Unhandled option (text_getSubstring).";}b=b+".slice("+e+", "+a+")"}else{e=X.tb(a,"AT1");a=X.tb(a,"AT2");var h=X.text.Sj,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},b=mm(X,"subsequence"+k[c]+k[d],["function "+X.rb+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+h("sequence",c,"at1")+";","  var end = "+h("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);",
"}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,X.U]};X.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[M(a,"CASE")];a=W(a,"TEXT",b?X.wa:X.R)||"''";return[b?a+b:mm(X,"textToTitleCase",["function "+X.rb+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+a+")",X.U]};
X.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[M(a,"MODE")];return[(W(a,"TEXT",X.wa)||"''")+b,X.U]};X.text_print=function(a){return"window.alert("+(W(a,"TEXT",X.R)||"''")+");\n"};X.text_prompt_ext=function(a){var b="window.prompt("+(ii(a,"TEXT")?X.Do(M(a,"TEXT")):W(a,"TEXT",X.R)||"''")+")";"NUMBER"==M(a,"TYPE")&&(b="parseFloat("+b+")");return[b,X.U]};X.text_prompt=X.text_prompt_ext;X.Hc={};X.controls_repeat_ext=function(a){var b=ii(a,"TIMES")?String(Number(M(a,"TIMES"))):W(a,"TIMES",X.ud)||"0",c=km(a,"DO"),c=lm(c,a.id);a="";var d=wd(X.Da,"count",vd),e=b;b.match(/^\w+$/)||Gl(b)||(e=wd(X.Da,"repeat_end",vd),a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};X.controls_repeat=X.controls_repeat_ext;
X.controls_whileUntil=function(a){var b="UNTIL"==M(a,"MODE"),c=W(a,"BOOL",b?X.cf:X.R)||"false",d=km(a,"DO"),d=lm(d,a.id);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
X.controls_for=function(a){var b=X.Da.getName(M(a,"VAR"),vd),c=W(a,"FROM",X.ud)||"0",d=W(a,"TO",X.ud)||"0",e=W(a,"BY",X.ud)||"1",h=km(a,"DO"),h=lm(h,a.id);if(Gl(c)&&Gl(d)&&Gl(e)){var k=parseFloat(c)<=parseFloat(d);a="for ("+b+" = "+c+"; "+b+(k?" <= ":" >= ")+d+"; "+b;b=Math.abs(parseFloat(e));a=(1==b?a+(k?"++":"--"):a+((k?" += ":" -= ")+b))+(") {\n"+h+"}\n")}else a="",k=c,c.match(/^\w+$/)||Gl(c)||(k=wd(X.Da,b+"_start",vd),a+="var "+k+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Gl(d)||(c=wd(X.Da,b+"_end",
vd),a+="var "+c+" = "+d+";\n"),d=wd(X.Da,b+"_inc",vd),a+="var "+d+" = ",a=Gl(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+k+" > "+c+") {\n")+(X.Ze+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+k+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+h+"}\n";return a};
X.controls_forEach=function(a){var b=X.Da.getName(M(a,"VAR"),vd),c=W(a,"LIST",X.ud)||"[]",d=km(a,"DO"),d=lm(d,a.id);a="";var e=c;c.match(/^\w+$/)||(e=wd(X.Da,b+"_list",vd),a+="var "+e+" = "+c+";\n");c=wd(X.Da,b+"_index",vd);d=X.Ze+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};X.controls_flow_statements=function(a){switch(M(a,"FLOW")){case "BREAK":return"break;\n";case "CONTINUE":return"continue;\n"}throw"Unknown flow statement.";};X.$b={};X.controls_if=function(a){for(var b=0,c=W(a,"IF"+b,X.R)||"false",d=km(a,"DO"+b),e="if ("+c+") {\n"+d+"}",b=1;b<=a.$a;b++)c=W(a,"IF"+b,X.R)||"false",d=km(a,"DO"+b),e+=" else if ("+c+") {\n"+d+"}";a.sb&&(d=km(a,"ELSE"),e+=" else {\n"+d+"}");return e+"\n"};X.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[M(a,"OP")],c="=="==b||"!="==b?X.rm:X.zt,d=W(a,"A",c)||"0";a=W(a,"B",c)||"0";return[d+" "+b+" "+a,c]};
X.logic_operation=function(a){var b="AND"==M(a,"OP")?"&&":"||",c="&&"==b?X.ej:X.fj,d=W(a,"A",c);a=W(a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};X.logic_negate=function(a){var b=X.cf;return["!"+(W(a,"BOOL",b)||"true"),b]};X.logic_boolean=function(a){return["TRUE"==M(a,"BOOL")?"true":"false",X.Uc]};X.logic_null=function(){return["null",X.Uc]};
X.logic_ternary=function(a){var b=W(a,"IF",X.kh)||"false",c=W(a,"THEN",X.kh)||"null";a=W(a,"ELSE",X.kh)||"null";return[b+" ? "+c+" : "+a,X.kh]};z.turtle_move={g:function(){var a=[[y("Turtle_moveForward"),"moveForward"],[y("Turtle_moveBackward"),"moveBackward"]];this.v(160);R(S(this,"VALUE").C("Number"),new J(a),"DIR");this.H(!0);this.K(!0);this.A(y("Turtle_moveTooltip"))}};X.turtle_move=function(a){var b=W(a,"VALUE",X.R)||"0";return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
z.turtle_move_internal={g:function(){var a=[[y("Turtle_moveForward"),"moveForward"],[y("Turtle_moveBackward"),"moveBackward"]];this.v(160);R(R(U(this),new J(a),"DIR"),new J([["20","20"],["50","50"],["100","100"],["150","150"]]),"VALUE");this.H(!0);this.K(!0);this.A(y("Turtle_moveTooltip"))}};X.turtle_move_internal=function(a){var b=M(a,"VALUE");return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
z.turtle_turn={g:function(){var a=[[y("Turtle_turnRight"),"turnRight"],[y("Turtle_turnLeft"),"turnLeft"]];a[0][0]+=" \u21bb";a[1][0]+=" \u21ba";this.v(160);R(S(this,"VALUE").C("Number"),new J(a),"DIR");this.H(!0);this.K(!0);this.A(y("Turtle_turnTooltip"))}};X.turtle_turn=function(a){var b=W(a,"VALUE",X.R)||"0";return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
z.turtle_turn_internal={g:function(){var a=[[y("Turtle_turnRight"),"turnRight"],[y("Turtle_turnLeft"),"turnLeft"]];a[0][0]+=" \u21bb";a[1][0]+=" \u21ba";this.v(160);R(R(U(this),new J(a),"DIR"),new J([["1\u00b0","1"],["45\u00b0","45"],["72\u00b0","72"],["90\u00b0","90"],["120\u00b0","120"],["144\u00b0","144"]]),"VALUE");this.H(!0);this.K(!0);this.A(y("Turtle_turnTooltip"))}};X.turtle_turn_internal=function(a){var b=M(a,"VALUE");return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};
z.turtle_width={g:function(){this.v(160);R(S(this,"WIDTH").C("Number"),y("Turtle_setWidth"));this.H(!0);this.K(!0);this.A(y("Turtle_widthTooltip"))}};X.turtle_width=function(a){return"penWidth("+(W(a,"WIDTH",X.R)||"1")+", 'block_id_"+a.id+"');\n"};z.turtle_pen={g:function(){V(this,{message0:"%1",args0:[{type:"field_dropdown",name:"PEN",options:[[y("Turtle_penUp"),"penUp"],[y("Turtle_penDown"),"penDown"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:y("Turtle_penTooltip")})}};
X.arbitrary_number=X.math_number;z.arbitrary_number={g:function(){this.L=L.lm;this.v(z.wb.u);R(U(this,"DUMMY"),new vh(0),"NUM");this.na(!0,"Number");this.A(L.mm)},onchange:function(){if(this.h&&this.G.I&&this.G.I.xd){var a=O(this,"DUMMY"),b=ii(this,"NUM"),c=b.getValue();-1!=this.G.I.xd.indexOf("Angle")?b.constructor!=Ok&&(H++,Ek(a,"NUM"),b=new Ok(""),R(a,b,"NUM"),b.cb(c),this.T(),H--):b.constructor!=vh&&(H++,Ek(a,"NUM"),R(a,new vh(c),"NUM"),H--)}}};
X.turtle_pen=function(a){return M(a,"PEN")+"('block_id_"+a.id+"');\n"};z.turtle_arbitrary={g:function(){V(this,{message0:"%1(%2);",args0:["js",{type:"input_value",name:"SCRIPT",check:["Number"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:160})}};z.turtle_arbitrary_internal={g:function(){V(this,{message0:"%1(%2);",args0:["js",{type:"input_value",name:"SCRIPT",check:["Number"]}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:160})}};
X.turtle_arbitrary=function(a){return W(a,"SCRIPT",X.R)};X.turtle_arbitrary_internal=function(a){return M(a,"SCRIPT")};z.turtle_colour={g:function(){this.v(z.bd.u);R(S(this,"COLOUR").C("Colour"),y("Turtle_setColour"));this.H(!0);this.K(!0);this.A(y("Turtle_colourTooltip"))}};X.turtle_colour=function(a){return"penColour("+(W(a,"COLOUR",X.R)||"'#000000'")+", 'block_id_"+a.id+"');\n"};
z.turtle_colour_internal={g:function(){this.v(z.bd.u);R(R(U(this),y("Turtle_setColour")),new Qk("#ff0000"),"COLOUR");this.H(!0);this.K(!0);this.A(y("Turtle_colourTooltip"))}};X.turtle_colour_internal=function(a){return"penColour("+("'"+M(a,"COLOUR")+"'")+", 'block_id_"+a.id+"');\n"};
z.turtle_visibility={g:function(){V(this,{message0:"%1",args0:[{type:"field_dropdown",name:"VISIBILITY",options:[[y("Turtle_hideTurtle"),"hideTurtle"],[y("Turtle_showTurtle"),"showTurtle"]]}],previousStatement:null,nextStatement:null,colour:160,tooltip:y("Turtle_turtleVisibilityTooltip")})}};X.turtle_visibility=function(a){return M(a,"VISIBILITY")+"('block_id_"+a.id+"');\n"};
z.turtle_print={g:function(){this.L=y("Turtle_printHelpUrl");this.v(160);R(S(this,"TEXT"),y("Turtle_print"));this.H(!0);this.K(!0);this.A(y("Turtle_printTooltip"))}};X.turtle_print=function(a){return"print("+String(W(a,"TEXT",X.R)||"''")+", 'block_id_"+a.id+"');\n"};
z.turtle_font={g:function(){var a=[[y("Turtle_fontNormal"),"normal"],[y("Turtle_fontItalic"),"italic"],[y("Turtle_fontBold"),"bold"]];this.L=y("Turtle_fontHelpUrl");this.v(160);R(R(U(this),y("Turtle_font")),new J([["Arial","Arial"],["Courier New","Courier New"],["Georgia","Georgia"],["Impact","Impact"],["Times New Roman","Times New Roman"],["Trebuchet MS","Trebuchet MS"],["Verdana","Verdana"]]),"FONT");R(R(U(this),y("Turtle_fontSize")),new vh(18,1,1E3),"FONTSIZE");R(U(this),new J(a),"FONTSTYLE");
this.H(!0);this.K(!0);this.A(y("Turtle_fontTooltip"))}};X.turtle_font=function(a){return"font('"+M(a,"FONT")+"',"+Number(M(a,"FONTSIZE"))+",'"+M(a,"FONTSTYLE")+"', 'block_id_"+a.id+"');\n"};z.turtle_repeat_internal={g:function(){V(this,{message0:L.Yi,args0:[{type:"field_dropdown",name:"TIMES",options:[["3","3"],["4","4"],["5","5"],["360","360"]]}],previousStatement:null,nextStatement:null,colour:z.Hc.u,tooltip:L.Zi,helpUrl:L.Xi});R(T(this,"DO"),L.ne)}};X.turtle_repeat_internal=X.controls_repeat;X.ob={};X.lists_create_empty=function(){return["[]",X.Uc]};X.lists_create_with=function(a){for(var b=Array(a.za),c=0;c<a.za;c++)b[c]=W(a,"ADD"+c,X.va)||"null";return["["+b.join(", ")+"]",X.Uc]};X.lists_repeat=function(a){var b=mm(X,"listsRepeat",["function "+X.rb+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=W(a,"ITEM",X.va)||"null";a=W(a,"NUM",X.va)||"0";return[b+"("+c+", "+a+")",X.U]};
X.lists_length=function(a){return[(W(a,"VALUE",X.wa)||"[]")+".length",X.wa]};X.lists_isEmpty=function(a){return["!"+(W(a,"VALUE",X.wa)||"[]")+".length",X.cf]};X.lists_indexOf=function(a){var b="FIRST"==M(a,"END")?"indexOf":"lastIndexOf",c=W(a,"FIND",X.R)||"''",b=(W(a,"VALUE",X.wa)||"[]")+"."+b+"("+c+")";return a.h.options.kc?[b+" + 1",X.Tc]:[b,X.U]};
X.lists_getIndex=function(a){var b=M(a,"MODE")||"GET",c=M(a,"WHERE")||"FROM_START",d=W(a,"VALUE","RANDOM"==c?X.va:X.wa)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",X.wa];if("GET_REMOVE"==b)return[d+".shift()",X.wa];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",X.wa];if("GET_REMOVE"==b)return[d+".pop()",X.wa];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=X.tb(a,"AT");if("GET"==b)return[d+"["+a+"]",X.wa];if("GET_REMOVE"==b)return[d+
".splice("+a+", 1)[0]",X.U];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=X.tb(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",X.U];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",X.U];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=mm(X,"listsGetRandomItem",["function "+X.rb+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+
"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,X.U];if("REMOVE"==b)return d+";\n"}throw"Unhandled combination (lists_getIndex).";};
X.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var a=wd(X.Da,"tmpList",vd),b="var "+a+" = "+c+";\n";c=a;return b}var c=W(a,"LIST",X.wa)||"[]",d=M(a,"MODE")||"GET",e=M(a,"WHERE")||"FROM_START",h=W(a,"TO",X.ud)||"null";switch(e){case "FIRST":if("SET"==d)return c+"[0] = "+h+";\n";if("INSERT"==d)return c+".unshift("+h+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+h+";\n");if("INSERT"==d)return c+".push("+h+");\n";break;case "FROM_START":e=X.tb(a,
"AT");if("SET"==d)return c+"["+e+"] = "+h+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+h+");\n";break;case "FROM_END":e=X.tb(a,"AT",1,!1,X.Rd);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+"] = "+h+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+h+");\n");break;case "RANDOM":a=b();e=wd(X.Da,"tmpX",vd);a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+h+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+h+");\n")}throw"Unhandled combination (lists_setIndex).";
};X.ob.Sj=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
X.lists_getSublist=function(a){var b=W(a,"LIST",X.wa)||"[]",c=M(a,"WHERE1"),d=M(a,"WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=X.tb(a,"AT1");break;case "FROM_END":e=X.tb(a,"AT1",1,!1,X.Rd);e=b+".length - "+e;break;case "FIRST":e="0";break;default:throw"Unhandled option (lists_getSublist).";}switch(d){case "FROM_START":a=X.tb(a,"AT2",1);break;case "FROM_END":a=X.tb(a,"AT2",0,!1,X.Rd);a=b+".length - "+a;
break;case "LAST":a=b+".length";break;default:throw"Unhandled option (lists_getSublist).";}b=b+".slice("+e+", "+a+")"}else{e=X.tb(a,"AT1");a=X.tb(a,"AT2");var h=X.ob.Sj,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},b=mm(X,"subsequence"+k[c]+k[d],["function "+X.rb+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+h("sequence",c,"at1")+";","  var end = "+h("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);",
"}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,X.U]};
X.lists_sort=function(a){var b=W(a,"LIST",X.U)||"[]",c="1"===M(a,"DIRECTION")?1:-1;a=M(a,"TYPE");var d=mm(X,"listsGetSortCompare",["function "+X.rb+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",X.U]};X.lists_split=function(a){var b=W(a,"INPUT",X.wa),c=W(a,"DELIM",X.R)||"''";a=M(a,"MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw"Unknown mode: "+a;return[b+"."+a+"("+c+")",X.U]};z.ob={};z.ob.u=260;z.lists_create_empty={g:function(){V(this,{message0:L.hh,output:"Array",colour:z.ob.u,tooltip:L.kq,helpUrl:L.jq})}};
z.lists_create_with={g:function(){this.L=L.nq;this.v(z.ob.u);this.za=3;this.Ua();this.na(!0,"Array");this.Kd(new gk(["lists_create_with_item"]));this.A(L.qq)},qa:function(){var a=document.createElement("mutation");a.setAttribute("items",this.za);return a},Ja:function(a){this.za=parseInt(a.getAttribute("items"),10);this.Ua()},lf:function(a){var b=a.Ic("lists_create_with_container");b.Yb();for(var c=O(b,"STACK").F,d=0;d<this.za;d++){var e=a.Ic("lists_create_with_item");e.Yb();c.connect(e.O);c=e.D}return b},
hf:function(a){var b=Tk(a,"STACK");for(a=[];b;)a.push(b.bh),b=b.D&&N(b.D);for(b=0;b<this.za;b++){var c=O(this,"ADD"+b).F.I;c&&-1==a.indexOf(c)&&c.disconnect()}this.za=a.length;this.Ua();for(b=0;b<this.za;b++)hk(a[b],this,"ADD"+b)},Ng:function(a){a=Tk(a,"STACK");for(var b=0;a;){var c=O(this,"ADD"+b);a.bh=c&&c.F.I;b++;a=a.D&&N(a.D)}},Ua:function(){this.za&&O(this,"EMPTY")?this.aa("EMPTY"):this.za||O(this,"EMPTY")||R(U(this,"EMPTY"),L.hh);for(var a=0;a<this.za;a++)if(!O(this,"ADD"+a)){var b=S(this,"ADD"+
a);0==a&&R(b,L.aj)}for(;O(this,"ADD"+a);)this.aa("ADD"+a),a++}};z.lists_create_with_container={g:function(){this.v(z.ob.u);R(U(this),L.lq);T(this,"STACK");this.A(L.mq);this.contextMenu=!1}};z.lists_create_with_item={g:function(){this.v(z.ob.u);R(U(this),L.oq);this.H(!0);this.K(!0);this.A(L.pq);this.contextMenu=!1}};z.lists_repeat={g:function(){V(this,{message0:L.Zq,args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:z.ob.u,tooltip:L.$q,helpUrl:L.Yq})}};
z.lists_length={g:function(){V(this,{message0:L.Pl,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:z.ob.u,tooltip:L.Xq,helpUrl:L.Wq})}};z.lists_isEmpty={g:function(){V(this,{message0:L.Uq,args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:z.ob.u,tooltip:L.Vq,helpUrl:L.Tq})}};
z.lists_indexOf={g:function(){var a=[[L.Pq,"FIRST"],[L.Rq,"LAST"]];this.L=L.Ol;this.v(z.ob.u);this.na(!0,"Number");R(S(this,"VALUE").C("Array"),L.Qq);R(S(this,"FIND"),new J(a),"END");this.Pa(!0);this.A(function(){return L.Sq.replace("%1",this.h.options.kc?"0":"-1")})}};
z.lists_getIndex={g:function(){var a=[[L.rq,"GET"],[L.sq,"GET_REMOVE"],[L.uq,"REMOVE"]];this.Of=[[L.Il,"FROM_START"],[L.Hl,"FROM_END"],[L.Gl,"FIRST"],[L.Kl,"LAST"],[L.Ll,"RANDOM"]];this.L=L.Jl;this.v(z.ob.u);a=new J(a,function(a){this.m.Xo("REMOVE"==a)});R(S(this,"VALUE").C("Array"),L.tq);R(R(U(this),a,"MODE"),"","SPACE");U(this,"AT");L.bj&&R(U(this,"TAIL"),L.bj);this.Pa(!0);this.na(!0);this.Ra(!0);var b=this;this.A(function(){var a=M(b,"MODE"),d=M(b,"WHERE"),e="";switch(a+" "+d){case "GET FROM_START":case "GET FROM_END":e=
L.Ml;break;case "GET FIRST":e=L.vq;break;case "GET LAST":e=L.wq;break;case "GET RANDOM":e=L.xq;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=L.zq;break;case "GET_REMOVE FIRST":e=L.yq;break;case "GET_REMOVE LAST":e=L.Aq;break;case "GET_REMOVE RANDOM":e=L.Bq;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=L.Dq;break;case "REMOVE FIRST":e=L.Cq;break;case "REMOVE LAST":e=L.Eq;break;case "REMOVE RANDOM":e=L.Fq}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?L.Jf:L.Nl).replace("%1",
b.h.options.kc?"#1":"#0");return e})},qa:function(){var a=document.createElement("mutation");a.setAttribute("statement",!this.G);a.setAttribute("at",1==O(this,"AT").type);return a},Ja:function(a){var b="true"==a.getAttribute("statement");this.Xo(b);a="false"!=a.getAttribute("at");this.Ra(a)},Xo:function(a){a!=!this.G&&(mi(this,!0),a?(this.na(!1),this.H(!0),this.K(!0)):(this.H(!1),this.K(!1),this.na(!0)))},Ra:function(a){this.aa("AT");this.aa("ORDINAL",!0);a?(S(this,"AT").C("Number"),L.Vc&&R(U(this,
"ORDINAL"),L.Vc)):U(this,"AT");var b=new J(this.Of,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.m;e.Ra(c);Lk(e,b,"WHERE");return null}});R(O(this,"AT"),b,"WHERE");L.bj&&Sk(this,"TAIL",null)}};
z.lists_setIndex={g:function(){var a=[[L.gr,"SET"],[L.er,"INSERT"]];this.Of=[[L.Il,"FROM_START"],[L.Hl,"FROM_END"],[L.Gl,"FIRST"],[L.Kl,"LAST"],[L.Ll,"RANDOM"]];this.L=L.Ql;this.v(z.ob.u);R(S(this,"LIST").C("Array"),L.cr);R(R(U(this),new J(a),"MODE"),"","SPACE");U(this,"AT");R(S(this,"TO"),L.dr);this.Pa(!0);this.H(!0);this.K(!0);this.A(L.nx);this.Ra(!0);var b=this;this.A(function(){var a=M(b,"MODE"),d=M(b,"WHERE"),e="";switch(a+" "+d){case "SET FROM_START":case "SET FROM_END":e=L.Rl;break;case "SET FIRST":e=
L.nr;break;case "SET LAST":e=L.or;break;case "SET RANDOM":e=L.pr;break;case "INSERT FROM_START":case "INSERT FROM_END":e=L.jr;break;case "INSERT FIRST":e=L.ir;break;case "INSERT LAST":e=L.kr;break;case "INSERT RANDOM":e=L.lr}if("FROM_START"==d||"FROM_END"==d)e+="  "+L.Jf.replace("%1",b.h.options.kc?"#1":"#0");return e})},qa:function(){var a=document.createElement("mutation");a.setAttribute("at",1==O(this,"AT").type);return a},Ja:function(a){a="false"!=a.getAttribute("at");this.Ra(a)},Ra:function(a){this.aa("AT");
this.aa("ORDINAL",!0);a?(S(this,"AT").C("Number"),L.Vc&&R(U(this,"ORDINAL"),L.Vc)):U(this,"AT");var b=new J(this.Of,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.m;e.Ra(c);Lk(e,b,"WHERE");return null}});Sk(this,"AT","TO");O(this,"ORDINAL")&&Sk(this,"ORDINAL","TO");R(O(this,"AT"),b,"WHERE")}};
z.lists_getSublist={g:function(){this.WHERE_OPTIONS_1=[[L.Nq,"FROM_START"],[L.Mq,"FROM_END"],[L.Lq,"FIRST"]];this.WHERE_OPTIONS_2=[[L.Hq,"FROM_START"],[L.Gq,"FROM_END"],[L.Iq,"LAST"]];this.L=L.Jq;this.v(z.ob.u);R(S(this,"LIST").C("Array"),L.Kq);U(this,"AT1");U(this,"AT2");L.cj&&R(U(this,"TAIL"),L.cj);this.Pa(!0);this.na(!0,"Array");this.Ra(1,!0);this.Ra(2,!0);this.A(L.Oq)},qa:function(){var a=document.createElement("mutation");a.setAttribute("at1",1==O(this,"AT1").type);a.setAttribute("at2",1==O(this,
"AT2").type);return a},Ja:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Ra(1,b);this.Ra(2,a)},Ra:function(a,b){this.aa("AT"+a);this.aa("ORDINAL"+a,!0);b?(S(this,"AT"+a).C("Number"),L.Vc&&R(U(this,"ORDINAL"+a),L.Vc)):U(this,"AT"+a);var c=new J(this["WHERE_OPTIONS_"+a],function(c){var d="FROM_START"==c||"FROM_END"==c;if(d!=b){var h=this.m;h.Ra(a,d);Lk(h,c,"WHERE"+a);return null}});R(O(this,"AT"+a),c,"WHERE"+a);1==a&&(Sk(this,"AT1","AT2"),O(this,"ORDINAL1")&&Sk(this,
"ORDINAL1","AT2"));L.cj&&Sk(this,"TAIL",null)}};z.lists_sort={g:function(){V(this,{message0:L.vr,args0:[{type:"field_dropdown",name:"TYPE",options:[[L.yr,"NUMERIC"],[L.zr,"TEXT"],[L.xr,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[L.rr,"1"],[L.ur,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:z.ob.u,tooltip:L.wr,helpUrl:L.qr})}};
z.lists_split={g:function(){var a=this,b=new J([[L.Br,"SPLIT"],[L.Cr,"JOIN"]],function(b){a.Qc(b)});this.L=L.Ar;this.v(z.ob.u);R(S(this,"INPUT").C("String"),b,"MODE");R(S(this,"DELIM").C("String"),L.Fr);this.Pa(!0);this.na(!0,"Array");this.A(function(){var b=M(a,"MODE");if("SPLIT"==b)return L.Er;if("JOIN"==b)return L.Dr;throw"Unknown mode: "+b;})},Qc:function(a){"SPLIT"==a?(this.G.C("Array"),O(this,"INPUT").C("String")):(this.G.C("String"),O(this,"INPUT").C("Array"))},qa:function(){var a=document.createElement("mutation");
a.setAttribute("mode",M(this,"MODE"));return a},Ja:function(a){this.Qc(a.getAttribute("mode"))}};z.controls_if.g=function(){this.L=L.sl;this.v(z.$b.u);R(S(this,"IF0").C("Boolean"),"if (");R(U(this),") {");T(this,"DO0");R(U(this,"TAIL"),"}");this.Pa(!0);this.H(!0);this.K(!0);this.Kd(new gk(["controls_if_elseif","controls_if_else"]));var a=this;this.A(function(){if(a.$a||a.sb){if(!a.$a&&a.sb)return L.xl;if(a.$a&&!a.sb)return L.yl;if(a.$a&&a.sb)return L.zl}else return L.wl;return""});this.sb=this.$a=0};
z.controls_if.Ua=function(){O(this,"ELSE")&&(this.aa("ELSEMSG"),this.aa("ELSE"));for(var a=1;O(this,"IF"+a);)this.aa("IF"+a),this.aa("TAIL"+a),this.aa("DO"+a),a++;for(a=1;a<=this.$a;a++)R(S(this,"IF"+a).C("Boolean"),"} else if ("),R(U(this,"TAIL"+a),") {"),T(this,"DO"+a);this.sb&&(R(U(this,"ELSEMSG"),"} else {"),T(this,"ELSE"));Sk(this,"TAIL",null)};
z.logic_compare.g=function(){this.L=L.Ul;this.v(z.$b.u);this.na(!0,"Boolean");S(this,"A");R(S(this,"B"),new J([["==","EQ"],["!=","NEQ"],["<","LT"],["<=","LTE"],[">","GT"],[">=","GTE"]]),"OP");this.Pa(!0);var a=this;this.A(function(){var b=M(a,"OP");return{ix:L.Vl,qx:L.$l,ox:L.Yl,px:L.Zl,jx:L.Wl,kx:L.Xl}[b]});this.Hg=[null,null]};L.bm="&&";L.cm="||";L.am="! %1";L.Tl="true";L.Sl="false";
z.controls_whileUntil.g=function(){V(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:z.Hc.u,tooltip:L.Bl,helpUrl:L.Al})};
z.controls_for.g=function(){V(this,{message0:"for (%1 = %2;  %3 < %4;  %5 += 1) { %6 %7 }",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR1",text:"?"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR2",text:"?"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:z.Hc.u,helpUrl:L.ql});var a=
this;this.A(function(){return L.rl.replace("%1",M(a,"VAR"))})};z.controls_for.onchange=function(){var a=M(this,"VAR");Lk(this,a,"VAR1");Lk(this,a,"VAR2")};X.controls_for=function(a){var b=X.Da.getName(M(a,"VAR"),vd),c=W(a,"FROM",X.ud)||"0",d=W(a,"TO",X.ud)||"0",e=km(a,"DO"),e=lm(e,a.id);return"for ("+b+" = "+c+"; "+b+" < "+d+"; "+b+" += 1) {\n"+e+"}\n"};L.ll="break ;";L.ol="continue ;";
z.math_arithmetic.g=function(){V(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:z.wb.u,helpUrl:L.dm});var a=this;this.A(function(){var b=M(a,"OP");return{ADD:L.em,MINUS:L.gm,MULTIPLY:L.hm,DIVIDE:L.fm}[b]})};
z.math_change.g=function(){V(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:z.me.u,helpUrl:L.im});var a=this;this.A(function(){return L.jm.replace("%1",M(a,"VAR"))})};X.math_change=function(a){var b=W(a,"DELTA",X.Tc)||"0";return X.Da.getName(M(a,"VAR"),vd)+" += "+b+";\n"};
z.math_random_int.g=function(){V(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:z.wb.u,tooltip:L.pm,helpUrl:L.om})};L.nm="Math.random  (  )";L.hh="[ ]";L.aj="[";
z.lists_create_with.Ua=function(){O(this,"TAIL")&&this.aa("TAIL");this.za&&O(this,"EMPTY")?this.aa("EMPTY"):this.za||O(this,"EMPTY")||R(U(this,"EMPTY"),L.hh);for(var a=0;a<this.za;a++)if(!O(this,"ADD"+a)){var b=S(this,"ADD"+a);0==a?R(b,L.aj):R(b,",")}for(;O(this,"ADD"+a);)this.aa("ADD"+a),a++;this.za&&R(U(this,"TAIL"),"]")};
z.lists_getIndex={g:function(){V(this,{message0:"%1[%2]",args0:[{type:"input_value",name:"VALUE",check:"Array"},{type:"input_value",name:"AT",check:"Number"}],inputsInline:!0,output:null,colour:z.ob.u,tooltip:L.Ml+L.Jf.replace("%1","#0"),helpUrl:L.Jl})}};
z.lists_setIndex={g:function(){V(this,{message0:"%1[%2] = %3;",args0:[{type:"input_value",name:"LIST",check:"Array"},{type:"input_value",name:"AT",check:"Number"},{type:"input_value",name:"TO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:z.ob.u,tooltip:L.Rl+L.Jf.replace("%1","#0"),helpUrl:L.Ql})}};L.Pl="%1 . length";z.variables_get.g=function(){this.L=L.Mm;this.v(z.me.u);R(U(this),new Yg("name"),"VAR");this.na(!0);this.A(L.Nm);this.Eh=L.Lm;this.Fh="variables_set"};
z.variables_set.g=function(){this.L=L.Om;this.v(z.me.u);R(R(R(S(this,"VALUE"),"var"),new Yg("name"),"VAR"),"=");R(U(this),";");this.Pa(!0);this.H(!0);this.K(!0);this.A(L.Pm);this.Eh=L.rh;this.Fh="variables_get"};z.procedures_defnoreturn.g=function(){var a=new oh(L.hj,te);R(R(R(R(R(U(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.Md(!0);R(U(this),"}");this.Kd(new gk(["procedures_mutatorarg"]));L.Mf&&this.Jd(L.Mf);this.v(z.lc.u);this.A(L.Am);this.L=L.ym;this.J=[];this.Pc=null};
z.procedures_defreturn.g=function(){var a=new oh(L.Cm,te);R(R(R(R(R(U(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");R(Ik(S(this,"RETURN"),1),"return");R(U(this),"}");this.Kd(new gk(["procedures_mutatorarg"]));L.oh&&this.Jd(L.oh);this.v(z.lc.u);this.A(L.Dm);this.L=L.Bm;this.J=[];this.Md(!0);this.Pc=null};L.sm="";
z.procedures_callnoreturn.g=function(){this.L=L.tm;this.v(z.lc.u);R(R(U(this),"","NAME"),"(");R(U(this,"TAIL"),");");this.Pa(!0);this.H(!0);this.K(!0);this.A(L.um);this.J=[];this.Hd={}};z.procedures_callnoreturn.Ua=function(){for(var a=0;a<this.J.length;a++)if(!O(this,"ARG"+a)){new Bk(this.J[a]);var b=S(this,"ARG"+a);0<a&&R(b,",");b.g()}for(;O(this,"ARG"+a);)this.aa("ARG"+a),a++;Sk(this,"TAIL",null)};
z.procedures_callreturn.g=function(){this.L=L.vm;this.v(z.lc.u);R(R(U(this),"","NAME"),"(");R(U(this,"TAIL"),")");this.Pa(!0);this.na(!0);this.A(L.wm);this.J=[];this.Hd={}};z.procedures_callreturn.Ua=z.procedures_callnoreturn.Ua;delete z.procedures_ifreturn;var an={},cn=[["Play bow sound","bow"],["Play pop sound","pop"],["Play moo sound","moo"],["Play seal sound","seal"],["Play sneeze sound","sneeze"],["Play balloon sound","balloon"]];z.heroes_turn={g:function(){var a=[[y("Heroes_turnRight"),"turnRight"],[y("Heroes_turnLeft"),"turnLeft"]];a[0][0]+=" \u21bb";a[1][0]+=" \u21ba";this.v(20);R(S(this,"VALUE").C("Number"),new J(a),"DIR");this.H(!0);this.K(!0);this.A(y("Heroes`_turnTooltip"))}};
X.heroes_turn=function(a){var b=W(a,"VALUE",X.R)||"0";return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};z.heroes_move_forward={g:function(){this.v(20);R(S(this,"VALUE").C("Number"),"Move forward");this.H(!0);this.K(!0);this.A(y("Heroes_moveTooltip"))}};X.heroes_move_forward=function(a){return"moveForward("+(W(a,"VALUE",X.R)||"0")+", 'block_id_"+a.id+"');\n"};z.heroes_sleep={g:function(){this.v(160);R(S(this,"VALUE").C("Number"),"Pause");this.H(!0);this.K(!0)}};
X.heroes_sleep=function(a){return"set_sleep("+(W(a,"VALUE",X.R)||"0")+", 'block_id_"+a.id+"');\n"};z.heroes_grow={g:function(){this.v(160);R(U(this),"Grow");this.H(!0);this.K(!0)}};X.heroes_grow=function(a){return"extend_tail(1, 'block_id_"+a.id+"');\n"};z.heroes_shrink={g:function(){this.v(160);R(U(this),"Shrink");this.H(!0);this.K(!0)}};X.heroes_shrink=function(a){return"extend_tail(-1, 'block_id_"+a.id+"');\n"};z.heroes_next_image={g:function(){this.v(160);R(U(this),"Next Image");this.H(!0);this.K(!0)}};
X.heroes_next_image=function(a){return"next_image('block_id_"+a.id+"');\n"};z.heroes_choose_image={g:function(){this.v(160);var a=(this.h.Gf||this.h).Qn;a&&a.length||(a=[["0",0]]);R(R(U(this),"Choose Image"),new J(a),"IMAGE");this.H(!0);this.K(!0)}};X.heroes_choose_image=function(a){return"choose_image("+M(a,"IMAGE")+",'block_id_"+a.id+"');\n"};
z.heroes_move={g:function(){var a=[[y("Heroes_moveUp"),"moveUp"],[y("Heroes_moveDown"),"moveDown"],[y("Heroes_moveLeft"),"moveLeft"],[y("Heroes_moveRight"),"moveRight"]];this.v(20);R(S(this,"VALUE").C("Number"),new J(a),"DIR");this.H(!0);this.K(!0);this.A(y("Heroes_moveTooltip"))}};X.heroes_move=function(a){var b=W(a,"VALUE",X.R)||"0";return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};z.heroes_add_points={g:function(){this.v(160);R(S(this,"VALUE").C("Number"),"Add points: ");this.H(!0);this.K(!0)}};
X.heroes_add_points=function(a){return"addPoints("+(W(a,"VALUE",X.R)||"0")+", 'block_id_"+a.id+"');\n"};z.heroes_set_background={g:function(){var a=[[y("Heroes_bgSpace"),"space"],[y("Heroes_bgCastle"),"castle"],[y("Heroes_bgDesert"),"desert"],[y("Heroes_bgCats"),"cats"],[y("Heroes_bgVillage"),"village"]];this.v(160);R(U(this),new J(a),"BACKGROUND");this.H(!0);this.K(!0)}};X.heroes_set_background=function(a){return"setBackground('"+M(a,"BACKGROUND")+"', 'block_id_"+a.id+"');\n"};
z.heroes_noise={g:function(){this.v(160);R(U(this),new J(cn),"NOISE");this.H(!0);this.K(!0)}};X.heroes_noise=function(a){return"makeNoise('"+M(a,"NOISE")+"', 'block_id_"+a.id+"');\n"};z.heroes_turn={g:function(){var a=[[y("Heroes_turnRight"),"turnRight"],[y("Heroes_turnLeft"),"turnLeft"]];a[0][0]+=" \u21bb";a[1][0]+=" \u21ba";this.v(160);R(S(this,"VALUE").C("Number"),new J(a),"DIR");this.H(!0);this.K(!0);this.A(y("Heroes_turnTooltip"))}};
X.heroes_turn=function(a){var b=W(a,"VALUE",X.R)||"0";return M(a,"DIR")+"("+b+", 'block_id_"+a.id+"');\n"};z.heroes_print={g:function(){this.L=y("Heroes_printHelpUrl");this.v(160);R(S(this,"TEXT"),y("Heroes_print"));this.H(!0);this.K(!0);this.A(y("Heroes_printTooltip"))}};X.heroes_print=function(a){return"print("+String(W(a,"TEXT",X.R)||"''")+", 'block_id_"+a.id+"');\n"};z.heroes_speak={g:function(){this.v(160);R(S(this,"TEXT"),"Say");R(S(this,"SECONDS").C("Number"),"Time:");this.H(!0);this.K(!0)}};
X.heroes_speak=function(a){var b=String(W(a,"TEXT",X.R)||"''"),b="'"+b.substring(1,b.length-1).replace(/'/g,'"')+"'",c=String(W(a,"SECONDS",X.R)||"''");return"speak("+b+","+c+",'block_id_"+a.id+"');\n"};z.heroes_set_title={g:function(){this.v(160);R(S(this,"TITLE"),"Set Title: ");this.H(!0);this.K(!0)}};X.heroes_set_title=function(a){return"setTitle("+String(W(a,"TITLE",X.R)||"''")+",'block_id_"+a.id+"');\n"};
z.heroes_add_item={g:function(){this.v(160);R(R(Ik(S(this,"X").C("Number"),1),"Add item"),"Right");R(Ik(S(this,"Y").C("Number"),1),"Up");R(Ik(S(this,"VX").C("Number"),1),"Speed Right");R(Ik(S(this,"VY").C("Number"),1),"Speed Up");this.H(!0);this.K(!0)}};X.heroes_add_item=function(a){var b=W(a,"X",X.va)||0,c=W(a,"Y",X.va)||0,d=W(a,"VX",X.va)||0,e=W(a,"VY",X.va)||0;return"addItem("+b+","+c+","+d+","+e+", 'block_id_"+a.id+"');\n"};
z.heroes_add_hero={g:function(){R(U(this),new J([["Add lion","lion"],["Add eagle","eagle"]]),"TYPE");R(S(this,"NAME"),"named");R(S(this,"X").C("Number"),"X");R(S(this,"Y").C("Number"),"Y");this.v(160);this.H(!0);this.K(!0)}};X.heroes_add_hero=function(a){var b=M(a,"TYPE"),c=W(a,"NAME",X.va)||"",d=W(a,"X",X.va)||0,e=W(a,"Y",X.va)||0;return"addHero("+c+', "'+b+'",'+d+","+e+", 'block_id_"+a.id+"');\n"};function dn(a){return"<callback>"+a.trim().replace(/\n/g,"")+"\n</callback>"}
z.heroes_on_arrow={g:function(){var a=[[y("Heroes_upArrow"),"38"],[y("Heroes_downArrow"),"40"],[y("Heroes_leftArrow"),"37"],[y("Heroes_rightArrow"),"39"],[y("Heroes_wKey"),"87"],[y("Heroes_aKey"),"65"],[y("Heroes_sKey"),"83"],[y("Heroes_dKey"),"68"],[y("Heroes_shiftKey"),"16"],[y("Heroes_spaceBar"),"32"]];this.v(320);R(U(this,"VALUE"),new J(a),"DIR");R(T(this,"DO0"),L.fh)}};
X.heroes_on_arrow=function(a){var b=km(a,"DO0");a="setButtonCallback("+parseInt(M(a,"DIR"))+', "'+b+"\", 'block_id_"+a.id+"');";a=dn(a);return a+"\n"};z.heroes_on_collision={g:function(){this.v(320);var a=this.h.Gf||this.h;R(R(U(this),"If I Touch"),new J(a.zf),"WHAT");R(T(this,"DO0"),L.fh)}};X.heroes_on_collision=function(a){var b=km(a,"DO0");a='setCollisionCallback("'+M(a,"WHAT")+'", "'+b+"\", 'block_id_"+a.id+"');";a=dn(a);return a+"\n"};
z.heroes_width={g:function(){this.v(160);R(S(this,"WIDTH").C("Number"),"Set pen width:");this.H(!0);this.K(!0)}};X.heroes_width=function(a){return"penWidth("+(W(a,"WIDTH",X.R)||"1")+", 'block_id_"+a.id+"');\n"};z.heroes_game_speed={g:function(){this.v(160);R(U(this),new J([["Set speed slow","slow"],["Set speed medium","med"],["Set speed fast","fast"]]),"SPEED");this.H(!0);this.K(!0)}};X.heroes_game_speed=function(a){return"setSpeed('"+M(a,"SPEED")+"', 'block_id_"+a.id+"');\n"};
z.heroes_pen={g:function(){this.v(160);R(U(this),new J([["Stop Drawing","penUp"],["Start Drawing","penDown"]]),"PEN");this.H(!0);this.K(!0)}};X.heroes_pen=function(a){return M(a,"PEN")+"('block_id_"+a.id+"');\n"};z.heroes_colour={g:function(){this.v(z.bd.u);R(S(this,"COLOUR").C("Colour"),"Set pen color");this.H(!0);this.K(!0)}};X.heroes_colour=function(a){return"penColour("+(W(a,"COLOUR",X.R)||"'#000000'")+", 'block_id_"+a.id+"');\n"};var gd="TeacherDash";
function en(a){var b=$('<div class="container-fluid" id="'+a+'_container"></div>');b.append('<div><span class="username">'+a+'</span><span class="user_level" id="'+a+'_level">Level ?</span><button type="button" class="user_clear" id="'+a+'_clear">Clear</button><input type="text" id="'+a+'-pick-id" /><button type="button" class="send-pick-id" id="'+a+'-send-pick-id">Send IDE</button><span class="running_code" id="'+a+'_code_running"></span><span class="user_error" id="'+a+'_error"></span></div>');b.append('<div class="row"<div class="col-md-6 no-padding ide"><ul class="nav nav-tabs" id="{user}-tabs" role="tablist"><li class="{read_only}-hero-form" role="presentation" id="{user}-new-hero-button"><a data-toggle="tab" role="tab" href="#{user}-add-hero" aria-controls="{user}-add-hero"> + New Hero</a></li></ul><div class="tab-content" id="{user}-blockly" style="width:100%"><form role="tabpanel" class="tab-pane" id="{user}-add-hero"><div class="form-group"><label for="hero-name">Name</label><input type="text" class="form-control" id="{user}-hero-name" placeholder="Andrew"></div><div class="form-group"><label for="hero-type">Type</label><select class="form-control" id="{user}-hero-type"></select></div><button type="button" class="btn btn-default" id={user}-submit-hero>Submit</button></form></div></div></div>'.replace(/{user}/g,
a).replace(/{read_only}/g,!1));$("#students").append(b)}
function qd(a,b){en(a);var c=new $m(a);Qc.rv(b,c);$("#"+a+"_clear").click(function(){confirm("Are you sure?")&&Qc.Lw(a,b,c)});$("#"+a+"-send-pick-id").click(function(){var b=$("#"+a+"-pick-id").val()||a;Qc.Lo(a,b)});var d=Qc.Wa.child("games").child(b);d.parent().on("child_removed",function(c){c.key()==b&&(document.getElementById(a+"_container").style.display="none")});d.child("heroes").on("child_removed",function(a){c.Go(a.val().name)});d=Qc.Wa.child("users").child(a);d.child("level").on("value",
function(b){var c=document.getElementById(a+"_level");c&&(c.innerHTML="Level "+b.val())});d.child("error").on("value",function(b){var c=document.getElementById(a+"_error");c&&(c.innerHTML=b.val()?"ERROR: "+b.val():"")});var e=document.getElementById(a+"_code_running");d.child("code_running").on("value",function(a){if(a=a.val()){e.innerHTML="";for(var b in a)!0===a[b]&&(e.innerHTML=e.innerHTML||"Running",e.innerHTML=e.innerHTML+" : "+b)}});Rc.push(a)}
window.addEventListener("load",function(){document.body.innerHTML=Sc();Z.g();Rc=[];Qc=new jd;Qc.qv();$("#send-pick-ide").click(function(){if(confirm("Are you sure?")){var a=$("#pick-ide").val();Rc.forEach(function(b){Qc.Lo(b,a||b)})}})});
